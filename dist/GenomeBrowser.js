!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=82)}([function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),a=function(e){function t(){var t=e.call(this)||this;return t.cursorStyle=null,t._x=0,t._y=0,t._z=1,t._sx=1,t._sy=1,t._sz=1,t._w=0,t._h=0,t._layoutX=0,t._layoutY=0,t._layoutParentX=0,t._layoutParentY=0,t._layoutW=0,t._layoutH=0,t.interactionEventListenerCount=null,t.worldTransformNeedsUpdate=!0,t.worldTransformMat4=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),t.computedX=0,t.computedY=0,t.computedWidth=0,t.computedHeight=0,t.eventEmitter=new i.EventEmitter,t.resetEventListenerCount(),t.render=!1,t}return r(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this.worldTransformNeedsUpdate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this.worldTransformNeedsUpdate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this._z},set:function(e){this._z=e,this.worldTransformNeedsUpdate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sx",{get:function(){return this._sx},set:function(e){this._sx=e,this.worldTransformNeedsUpdate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sy",{get:function(){return this._sy},set:function(e){this._sy=e,this.worldTransformNeedsUpdate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sz",{get:function(){return this._sz},set:function(e){this._sz=e,this.worldTransformNeedsUpdate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this._w},set:function(e){this._w=e,this.worldTransformNeedsUpdate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this._h},set:function(e){this._h=e,this.worldTransformNeedsUpdate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutX",{get:function(){return this._layoutX},set:function(e){this._layoutX=e,this.worldTransformNeedsUpdate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutY",{get:function(){return this._layoutY},set:function(e){this._layoutY=e,this.worldTransformNeedsUpdate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutParentX",{get:function(){return this._layoutParentX},set:function(e){this._layoutParentX=e,this.worldTransformNeedsUpdate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutParentY",{get:function(){return this._layoutParentY},set:function(e){this._layoutParentY=e,this.worldTransformNeedsUpdate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutW",{get:function(){return this._layoutW},set:function(e){this._layoutW=e,this.worldTransformNeedsUpdate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutH",{get:function(){return this._layoutH},set:function(e){this._layoutH=e,this.worldTransformNeedsUpdate=!0},enumerable:!0,configurable:!0}),t.prototype.add=function(t){e.prototype.add.call(this,t),t.worldTransformNeedsUpdate=!0,t.onAdded()},t.prototype.remove=function(t){if(!e.prototype.remove.call(this,t))return!1;t.onRemoved()},t.prototype.addEventListener=function(e,t){-1!==Object.keys(this.interactionEventListenerCount).indexOf(e)?this.addInteractionListener(e,t):this.eventEmitter.addListener(e,t)},t.prototype.removeEventListener=function(e,t){-1!==Object.keys(this.interactionEventListenerCount).indexOf(e)?this.removeInteractionListener(e,t):this.eventEmitter.removeListener(e,t)},t.prototype.addInteractionListener=function(e,t){this.eventEmitter.addListener(e,t),this.interactionEventListenerCount[e]++},t.prototype.removeInteractionListener=function(e,t){this.eventEmitter.listenerCount(e)>0&&(this.eventEmitter.removeListener(e,t),this.interactionEventListenerCount[e]--)},t.prototype.removeAllListeners=function(e){var t,n;if(this.eventEmitter.removeAllListeners(),this.resetEventListenerCount(),e)try{for(var r=o(this.children),i=r.next();!i.done;i=r.next()){i.value.removeAllListeners(e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},t.prototype.emit=function(e,t){this.eventEmitter.emit(e,t)},t.prototype.applyTransformToSubNodes=function(e){var t,n;void 0===e&&(e=!0),e&&this.worldTransformNeedsUpdate&&(this.computeLayout(0,0),this.applyWorldTransform(null));try{for(var r=o(this.children),i=r.next();!i.done;i=r.next()){var a=i.value;a.worldTransformNeedsUpdate&&(a.computeLayout(this.computedWidth,this.computedHeight),a.applyWorldTransform(this.worldTransformMat4)),a.applyTransformToSubNodes(!1)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},t.prototype.getWorldBounds=function(){var e=this.worldTransformMat4,t=this.getLocalBounds();return{l:e[0]*t.l+e[12],r:e[0]*t.r+e[12],t:e[5]*t.t+e[13],b:e[5]*t.b+e[13]}},t.prototype.getWorldZ=function(){return this.worldTransformMat4[14]},t.prototype.getComputedWidth=function(){return this.computedWidth},t.prototype.getComputedHeight=function(){return this.computedHeight},t.prototype.getComputedX=function(){return this.computedX},t.prototype.getComputedY=function(){return this.computedY},t.prototype.onAdded=function(){},t.prototype.onRemoved=function(){},t.prototype.getLocalBounds=function(){return{l:0,r:this.computedWidth,t:0,b:this.computedHeight}},t.prototype.computeLayout=function(e,t){this.computedWidth=Math.max(this._w+e*this._layoutW,0),this.computedHeight=Math.max(this._h+t*this._layoutH,0),this.computedX=this._x+e*this._layoutParentX+this.computedWidth*this._layoutX,this.computedY=this._y+t*this._layoutParentY+this.computedHeight*this._layoutY},t.prototype.applyWorldTransform=function(e){var t,n,r,i;if(null==e){var a=this.computedX,s=this.computedY;this.worldTransformMat4.set([this._sx,0,0,0,0,this._sy,0,0,0,0,this._sz,0,a,s,this._z,1]),this.worldTransformNeedsUpdate=!1;try{for(var l=o(this.children),u=l.next();!u.done;u=l.next()){u.value.worldTransformNeedsUpdate=!0}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}}else{var c=e,f=c[0]*this._sx,d=c[5]*this._sy,p=c[10]*this._sz,h=c[0]*this.computedX+c[12],v=c[5]*this.computedY+c[13],y=c[10]*this._z+c[14],g=this.worldTransformMat4;g[0]=f,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=d,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=p,g[11]=0,g[12]=h,g[13]=v,g[14]=y,g[15]=1,this.worldTransformNeedsUpdate=!1;try{for(var m=o(this.children),b=m.next();!b.done;b=m.next()){b.value.worldTransformNeedsUpdate=!0}}catch(e){r={error:e}}finally{try{b&&!b.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}}this.renderOrderZ=this.worldTransformMat4[14]},t.prototype.resetEventListenerCount=function(){this.interactionEventListenerCount={pointermove:0,pointerdown:0,pointerup:0,pointerenter:0,pointerleave:0,click:0,dblclick:0,wheel:0,dragstart:0,dragmove:0,dragend:0}},t}(n(19).Renderable);t.Object2D=a,t.default=a},function(e,t,n){"use strict";var r=n(28),o=n(70),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function s(e){return null!==e&&"object"==typeof e}function l(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(72);t.Canis=r;var o=n(52);t.SiriusApi=o.SiriusApi;var i=n(51);t.AnnotationTileset=i;var a=n(50);t.EntityType=a.EntityType;var s=n(23);t.QueryType=s.QueryType,t.QueryBuilder=s.QueryBuilder;var l=n(49);t.buildQueryParser=l.buildQueryParser,t.buildVariantQueryParser=l.buildVariantQueryParser;var u=n(22);t.Strand=u.default;var c=n(48);t.Gff3Parser=c.default},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(31),a=n(5),s=function(){function e(e,t,n){void 0===e&&(e=1024),void 0===t&&(t=8),void 0===n&&(n=1/0),this.tileWidth=e,this.tilesPerBlock=t,this.maximumX=n,this.lods=new Array,this.blockSize=e*t}return e.prototype.getTiles=function(e,t,n,r,i){if(e=Math.max(e,0),t=Math.max(t,0),e=Math.min(e,this.maximumX),!((t=Math.min(t,this.maximumX))<=e)){var s=a.default.log2(Math.max(n,1)),l=Math.floor(s);l=this.mapLodLevel(l);for(var u=Math.pow(2,l),c=Math.floor(e/u),f=Math.ceil(t/u),d=this.blockIndex(c),p=this.tileRowIndex(c),h=this.blockIndex(f),v=this.tileRowIndex(f),y=d;y<=h;y++)for(var g=this.getBlock(l,y),m=y===d?p:0,b=y===h?v:this.tilesPerBlock-1,x=m;x<=b;x++){var _=g.rows[x];r&&_.state===o.Empty&&this.loadTilePayload(_),i(_)}}},e.prototype.getTile=function(e,t,n){e=Math.max(e,0),e=Math.min(e,this.maximumX);var r=a.default.log2(Math.max(t,1)),o=Math.floor(r);o=this.mapLodLevel(o);var i=Math.pow(2,o),s=Math.floor(e/i);return this.getTileFromLodX(o,s,n)},e.prototype.isWithinInitializedLodRange=function(e){var t=a.default.log2(Math.max(e,1)),n=Math.floor(t);return(n=this.mapLodLevel(n))>=0&&n<this.lods.length},e.prototype.getBlockPayload=function(e){var t=this.blockIndex(e.lodX),n=this.getBlock(e.lodLevel,t);return null==n.payload&&(n.payload=this.createBlockPayload(e.lodLevel,t,this.tileWidth,this.tilesPerBlock)),n.payload},e.prototype.clear=function(){var e,t;try{for(var n=r(this.lods),o=n.next();!o.done;o=n.next()){var i=o.value;for(var a in i){var s=i[a];void 0!==s&&void 0!==s.payload&&this.releaseBlockPayload(s.payload)}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.lods=new Array},e.prototype.getTilePayload=function(e){return null},e.prototype.createBlockPayload=function(e,t,n,r){return null},e.prototype.releaseBlockPayload=function(e){},e.prototype.mapLodLevel=function(e){return e},e.prototype.getTileFromLodX=function(e,t,n){var r=this.blockIndex(t),i=this.tileRowIndex(t),a=this.getBlock(e,r).rows[i];return n&&a.state===o.Empty&&this.loadTilePayload(a),a},e.prototype.loadTilePayload=function(e){var t=this;e._state=o.Loading;try{var n=this.getTilePayload(e);Promise.resolve(n)===n?n.then(function(n){return t.tileLoadComplete(e,n)}).catch(function(n){return t.tileLoadFailed(e,n)}):this.tileLoadComplete(e,n)}catch(t){this.tileLoadFailed(e,t)}},e.prototype.tileLoadComplete=function(e,t){var n=e;n._payload=t,n._state=o.Complete,n.emitComplete()},e.prototype.tileLoadFailed=function(e,t){var n=e;n._state=o.Empty,n.emitLoadFailed(t),console.warn("Tile payload request failed: "+t,e)},e.prototype.getBlock=function(e,t){var n=this.getBlocks(e),r=this.blockId(t),o=n[r];if(void 0===o){o={lastUsedTimestamp:-1,rows:new Array(this.tilesPerBlock),payload:null};for(var i=t*this.blockSize,a=0;a<this.tilesPerBlock;a++){var s=a*this.tileWidth+i;o.rows[a]=new l(o,e,s,this.tileWidth,a)}n[r]=o}return o},e.prototype.getBlocks=function(e){var t=this.lods[e];return void 0===t&&(t=this.lods[e]={}),t},e.prototype.tileRowIndex=function(e){return Math.floor(e%this.blockSize/this.tileWidth)},e.prototype.blockIndex=function(e){return Math.floor(e/this.blockSize)},e.prototype.blockId=function(e){return e.toString()},e}();t.TileStore=s,function(e){e[e.Empty=0]="Empty",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete"}(o=t.TileState||(t.TileState={}));var l=function(){function e(e,t,n,r,a){this.block=e,this.lodLevel=t,this.lodX=n,this.lodSpan=r,this.blockRowIndex=a,this._state=o.Empty,this.eventEmitter=new i.EventEmitter;var s=Math.pow(2,t);this.x=n*s,this.span=r*s,this.key=this.lodLevel+"_"+this.lodX}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"payload",{get:function(){return this._payload},set:function(e){},enumerable:!0,configurable:!0}),e.prototype.addEventListener=function(e,t){this.eventEmitter.addListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventEmitter.removeListener(e,t)},e.prototype.markLastUsed=function(){this.block.lastUsedTimestamp=performance.now()},e.prototype.emitComplete=function(){this.eventEmitter.emit("complete",this,this._payload)},e.prototype.emitLoadFailed=function(e){this.eventEmitter.emit("load-failed",this,e)},e}();t.Tile=l,t.default=s},function(e,t,n){"use strict";var r,o,i,a,s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var u,c,f,d,p,h,v,y=function(){function e(e){var t=this;this.capabilities={vertexArrayObjects:!1,instancing:!1,availableTextureUnits:0},this.vertexStateIds=new T(!0),this.programIds=new T(!0),this.vertexShaderCache=new w(function(e){return t.gl.deleteShader(e)}),this.fragmentShaderCache=new w(function(e){return t.gl.deleteShader(e)}),this.textureUnitUsageCounter=0,this._programCount=0,this._vertexStateCount=0,this._bufferCount=0,this._textureCount=0,this.gl=e,this.extVao=e.getExtension("OES_vertex_array_object"),this.extInstanced=e.getExtension("ANGLE_instanced_arrays");var n=e.getExtension("WEBGL_debug_renderer_info");this.name=e.getParameter(null==n?e.RENDERER:n.UNMASKED_RENDERER_WEBGL);var r=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);this.textureUnitState=new Array(r),this.capabilities.vertexArrayObjects=null!=this.extVao,this.capabilities.instancing=null!=this.extInstanced,this.capabilities.availableTextureUnits=r}return Object.defineProperty(e.prototype,"programCount",{get:function(){return this._programCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vertexStateCount",{get:function(){return this._vertexStateCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bufferCount",{get:function(){return this._bufferCount},enumerable:!0,configurable:!0}),e.prototype.createBuffer=function(e){var t=this.gl,n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,e.data||e.size,e.usageHint||f.STATIC),t.bindBuffer(t.ARRAY_BUFFER,null);var r=new g(this,n);return this._bufferCount++,r},e.prototype.createIndexBuffer=function(e){var t=this.gl,n=e.dataType;if(null==n){if(null==e.data)throw"dataType field is required if data is not set";switch(e.data.BYTES_PER_ELEMENT){case 1:n=u.UNSIGNED_BYTE;break;case 2:n=u.UNSIGNED_SHORT;break;case 4:n=u.UNSIGNED_INT}}if(n==u.UNSIGNED_INT&&null==t.getExtension("OES_element_index_uint"))throw"OES_element_index_uint is required but unavailable";var r=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r),t.bufferData(t.ELEMENT_ARRAY_BUFFER,e.data||e.size,e.usageHint||f.STATIC),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var o=new m(this,r,n);return this._bufferCount++,o},e.prototype.updateBufferData=function(e,t,n){void 0===n&&(n=0);var r=this.gl,o=e instanceof m?r.ELEMENT_ARRAY_BUFFER:r.ARRAY_BUFFER;this.gl.bindBuffer(o,e.native),this.gl.bufferSubData(o,n,t),this.gl.bindBuffer(o,null)},e.prototype.deleteBuffer=function(e){this.gl.deleteBuffer(e.native),this._bufferCount--},e.prototype.createVertexState=function(e){this.gl;var t,n=this.extVao,r=null!=e.indexBuffer?e.indexBuffer.dataType:null;if(null!=n){var o=n.createVertexArrayOES();n.bindVertexArrayOES(o),this.applyVertexStateDescriptor(e),n.bindVertexArrayOES(null),t=new b(this,this.vertexStateIds.assign(),o,e.attributeLayout,r)}else(t=new b(this,this.vertexStateIds.assign(),null,e.attributeLayout,r))._vaoFallbackDescriptor=e;return this._vertexStateCount++,t},e.prototype.deleteVertexState=function(e){null!=this.extVao&&this.extVao.deleteVertexArrayOES(e.native),this.vertexStateIds.release(e.id),this._vertexStateCount--},e.prototype.createTexture=function(e){var t=this.gl,n=t.createTexture(),r=this.assignTextureUnit();t.activeTexture(t.TEXTURE0+r),t.bindTexture(t.TEXTURE_2D,n);var o=l({magFilter:h.LINEAR,minFilter:h.LINEAR,wrapT:v.CLAMP_TO_EDGE,wrapS:v.CLAMP_TO_EDGE},e.samplingParameters);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,o.magFilter),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,o.minFilter),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,o.wrapS),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,o.wrapT);var i,a,s=l({packAlignment:4,unpackAlignment:4,flipY:!1,premultiplyAlpha:!1,colorSpaceConversion:p.DEFAULT},e.pixelStorage);if(t.pixelStorei(t.PACK_ALIGNMENT,s.packAlignment),t.pixelStorei(t.UNPACK_ALIGNMENT,s.unpackAlignment),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,s.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,s.colorSpaceConversion),null!=e.mipmapData)for(var u=0;u<e.mipmapData.length;u++){var c=e.mipmapData[u],f=1/(1<<u);ArrayBuffer.isView(c)?t.texImage2D(t.TEXTURE_2D,u,e.format,Math.round(e.width/f),Math.round(e.height/f),0,e.format,e.dataType,c):t.texImage2D(t.TEXTURE_2D,u,e.format,e.format,e.dataType,c)}else t.texImage2D(t.TEXTURE_2D,0,e.format,e.width,e.height,0,e.format,e.dataType,null);if(e.generateMipmaps&&t.generateMipmap(t.TEXTURE_2D),null!==e.mipmapData){c=e.mipmapData[0];ArrayBuffer.isView(c)?(i=e.width,a=e.height):(i=c.width,a=c.height)}else i=e.width,a=e.height;var d=new x(this,n,i,a,e.dataType);return d.boundUnit=r,this.textureUnitState[r]={usageMetric:++this.textureUnitUsageCounter,texture:d},this._textureCount++,d},e.prototype.updateTextureData=function(e,t,n,r,o,i,a,s){void 0===o&&(o=0),void 0===i&&(i=0),void 0===a&&(a=e.w),void 0===s&&(s=e.h);var l=this.gl,u=e;this.bindTexture(e),ArrayBuffer.isView(r)?l.texSubImage2D(l.TEXTURE_2D,t,o,i,a,s,n,u.type,r):l.texSubImage2D(l.TEXTURE_2D,t,o,i,n,u.type,r)},e.prototype.deleteTexture=function(e){var t=this.gl,n=e;-1!==n.boundUnit&&this.clearTextureUnit(n.boundUnit),t.deleteTexture(e.native),this._textureCount--},e.prototype.createProgram=function(e,n,r){var o=this.gl,i=this.vertexShaderCache.reference(e),a=this.fragmentShaderCache.reference(n);null==i&&(i=this.compileShader(e,o.VERTEX_SHADER),this.vertexShaderCache.add(e,i)),null==a&&(a=this.compileShader(n,o.FRAGMENT_SHADER),this.fragmentShaderCache.add(n,a));var s=o.createProgram();o.attachShader(s,i),o.attachShader(s,a);for(var l=0,u=0;u<r.length;u++){var c=r[u],f=(t.shaderTypeLength[c.type],t.shaderTypeRows[c.type]);o.bindAttribLocation(s,l,c.name),l+=f}if(o.linkProgram(s),!o.getProgramParameter(s,o.LINK_STATUS))throw"[program link]: "+o.getProgramInfoLog(s);var d=o.getProgramParameter(s,o.ACTIVE_UNIFORMS),p={},h={};for(u=0;u<d;u++){var v=o.getActiveUniform(s,u);p[v.name]=v,h[v.name]=o.getUniformLocation(s,v.name)}var y=new _(this,this.programIds.assign(),s,e,n,r,p,h);return this._programCount++,y},e.prototype.deleteProgram=function(e){this.gl.deleteProgram(e.native),this.vertexShaderCache.release(e.vertexCode),this.fragmentShaderCache.release(e.fragmentCode),this.programIds.release(e.id),this._programCount--},e.prototype.compileShader=function(e,t){var n=this.gl,r=n.createShader(t);if(n.shaderSource(r,e),n.compileShader(r),!n.getShaderParameter(r,n.COMPILE_STATUS)){var o=null;switch(t){case n.VERTEX_SHADER:o="vertex";break;case n.FRAGMENT_SHADER:o="fragment"}throw"["+o+" compile]: "+n.getShaderInfoLog(r)}return r},e.prototype.applyVertexStateDescriptor=function(e){var n=this.gl;null!=e.indexBuffer?n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.indexBuffer.native):n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null);for(var r=0,o=0;o<e.attributeLayout.length;o++){var i=e.attributeLayout[o],a=i.name,s=i.type,l=t.shaderTypeLength[s],u=t.shaderTypeRows[s],f=l/u,d=e.attributes[a];if(null!=d)if(void 0!==d.buffer){var p=d,h=p.sourceDataType;null==h&&(h=c.FLOAT),n.bindBuffer(n.ARRAY_BUFFER,p.buffer.native);for(var v=0;v<u;v++){var y=r+v,g=null!=p.sourceColumns?p.sourceColumns:f,m=v*g*t.dataTypeByteLength[h];n.enableVertexAttribArray(y),n.vertexAttribPointer(y,g,h,!!p.normalize,p.strideBytes,p.offsetBytes+m),this.extInstanced&&this.extInstanced.vertexAttribDivisorANGLE(y,null!=p.instanceDivisor?p.instanceDivisor:0)}}else{var b=d;if(1===u)n.disableVertexAttribArray(r),n.vertexAttrib4fv(r,b.data);else for(v=0;v<u;v++)n.disableVertexAttribArray(r+v),n.vertexAttrib4fv(r+v,b.data.subarray(4*v,4*v+4))}else for(v=0;v<u;v++)n.disableVertexAttribArray(r+v),n.vertexAttrib4f(r+v,0,0,0,0);r+=u}},e.prototype.assignTextureUnit=function(){for(var e=1/0,t=void 0,n=0;n<this.textureUnitState.length;n++){var r=this.textureUnitState[n];if(void 0===r)return n;r.usageMetric<e&&(t=n,e=r.usageMetric)}return this.clearTextureUnit(t),t},e.prototype.bindTexture=function(e){var t=this.gl,n=e;if(-1===n.boundUnit){var r=this.assignTextureUnit();t.activeTexture(t.TEXTURE0+r),t.bindTexture(t.TEXTURE_2D,e.native),n.boundUnit=r,this.textureUnitState[r]={usageMetric:++this.textureUnitUsageCounter,texture:e}}else t.activeTexture(t.TEXTURE0+n.boundUnit),t.bindTexture(t.TEXTURE_2D,e.native),this.textureUnitState[n.boundUnit].usageMetric=++this.textureUnitUsageCounter},e.prototype.clearTextureUnit=function(e){var t=this.gl,n=this.textureUnitState[e].texture,r=n;t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,null),this.textureUnitState[e]=void 0,void 0!==n&&(r.boundUnit=-1)},e.prototype.markTextureUsage=function(e){var t=e;this.textureUnitState[t.boundUnit].usageMetric=++this.textureUnitUsageCounter},e}();t.GPUDevice=y,function(e){e[e.UNSIGNED_BYTE=WebGLRenderingContext.UNSIGNED_BYTE]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=WebGLRenderingContext.UNSIGNED_SHORT]="UNSIGNED_SHORT",e[e.UNSIGNED_INT=WebGLRenderingContext.UNSIGNED_INT]="UNSIGNED_INT"}(u=t.IndexDataType||(t.IndexDataType={})),function(e){e[e.BYTE=WebGLRenderingContext.BYTE]="BYTE",e[e.SHORT=WebGLRenderingContext.SHORT]="SHORT",e[e.UNSIGNED_BYTE=WebGLRenderingContext.UNSIGNED_BYTE]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=WebGLRenderingContext.UNSIGNED_SHORT]="UNSIGNED_SHORT",e[e.FLOAT=WebGLRenderingContext.FLOAT]="FLOAT"}(c=t.VertexAttributeSourceType||(t.VertexAttributeSourceType={})),function(e){e[e.STREAM=WebGLRenderingContext.STREAM_DRAW]="STREAM",e[e.STATIC=WebGLRenderingContext.STATIC_DRAW]="STATIC",e[e.DYNAMIC=WebGLRenderingContext.DYNAMIC_DRAW]="DYNAMIC"}(f=t.BufferUsageHint||(t.BufferUsageHint={})),function(e){e[e.FLOAT=WebGLRenderingContext.FLOAT]="FLOAT",e[e.VEC2=WebGLRenderingContext.FLOAT_VEC2]="VEC2",e[e.VEC3=WebGLRenderingContext.FLOAT_VEC3]="VEC3",e[e.VEC4=WebGLRenderingContext.FLOAT_VEC4]="VEC4",e[e.IVEC2=WebGLRenderingContext.INT_VEC2]="IVEC2",e[e.IVEC3=WebGLRenderingContext.INT_VEC3]="IVEC3",e[e.IVEC4=WebGLRenderingContext.INT_VEC4]="IVEC4",e[e.BOOL=WebGLRenderingContext.BOOL]="BOOL",e[e.BVEC2=WebGLRenderingContext.BOOL_VEC2]="BVEC2",e[e.BVEC3=WebGLRenderingContext.BOOL_VEC3]="BVEC3",e[e.BVEC4=WebGLRenderingContext.BOOL_VEC4]="BVEC4",e[e.MAT2=WebGLRenderingContext.FLOAT_MAT2]="MAT2",e[e.MAT3=WebGLRenderingContext.FLOAT_MAT3]="MAT3",e[e.MAT4=WebGLRenderingContext.FLOAT_MAT4]="MAT4",e[e.SAMPLER_2D=WebGLRenderingContext.SAMPLER_2D]="SAMPLER_2D",e[e.SAMPLER_CUBE=WebGLRenderingContext.SAMPLER_CUBE]="SAMPLER_CUBE"}(d=t.UniformType||(t.UniformType={})),function(e){e[e.FLOAT=WebGLRenderingContext.FLOAT]="FLOAT",e[e.VEC2=WebGLRenderingContext.FLOAT_VEC2]="VEC2",e[e.VEC3=WebGLRenderingContext.FLOAT_VEC3]="VEC3",e[e.VEC4=WebGLRenderingContext.FLOAT_VEC4]="VEC4",e[e.MAT2=WebGLRenderingContext.FLOAT_MAT2]="MAT2",e[e.MAT3=WebGLRenderingContext.FLOAT_MAT3]="MAT3",e[e.MAT4=WebGLRenderingContext.FLOAT_MAT4]="MAT4"}(t.AttributeType||(t.AttributeType={})),function(e){e[e.UNSIGNED_BYTE=WebGLRenderingContext.UNSIGNED_BYTE]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT_5_6_5=WebGLRenderingContext.UNSIGNED_SHORT_5_6_5]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=WebGLRenderingContext.UNSIGNED_SHORT_4_4_4_4]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=WebGLRenderingContext.UNSIGNED_SHORT_5_5_5_1]="UNSIGNED_SHORT_5_5_5_1",e[e.FLOAT=WebGLRenderingContext.FLOAT]="FLOAT"}(t.TextureDataType||(t.TextureDataType={})),function(e){e[e.ALPHA=WebGLRenderingContext.ALPHA]="ALPHA",e[e.RGB=WebGLRenderingContext.RGB]="RGB",e[e.RGBA=WebGLRenderingContext.RGBA]="RGBA",e[e.LUMINANCE=WebGLRenderingContext.LUMINANCE]="LUMINANCE",e[e.LUMINANCE_ALPHA=WebGLRenderingContext.LUMINANCE_ALPHA]="LUMINANCE_ALPHA"}(t.TextureFormat||(t.TextureFormat={})),function(e){e[e.NONE=WebGLRenderingContext.NONE]="NONE",e[e.DEFAULT=WebGLRenderingContext.BROWSER_DEFAULT_WEBGL]="DEFAULT"}(p=t.ColorSpaceConversion||(t.ColorSpaceConversion={})),function(e){e[e.NEAREST=WebGLRenderingContext.NEAREST]="NEAREST",e[e.LINEAR=WebGLRenderingContext.LINEAR]="LINEAR"}(h=t.TextureMagFilter||(t.TextureMagFilter={})),function(e){e[e.NEAREST=WebGLRenderingContext.NEAREST]="NEAREST",e[e.LINEAR=WebGLRenderingContext.LINEAR]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=WebGLRenderingContext.NEAREST_MIPMAP_NEAREST]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=WebGLRenderingContext.LINEAR_MIPMAP_NEAREST]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=WebGLRenderingContext.NEAREST_MIPMAP_LINEAR]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=WebGLRenderingContext.LINEAR_MIPMAP_LINEAR]="LINEAR_MIPMAP_LINEAR"}(t.TextureMinFilter||(t.TextureMinFilter={})),function(e){e[e.REPEAT=WebGLRenderingContext.REPEAT]="REPEAT",e[e.CLAMP_TO_EDGE=WebGLRenderingContext.CLAMP_TO_EDGE]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=WebGLRenderingContext.MIRRORED_REPEAT]="MIRRORED_REPEAT"}(v=t.TextureWrapMode||(t.TextureWrapMode={})),function(e){e[e.LONG_LIFE=1]="LONG_LIFE",e[e.TRANSIENT=0]="TRANSIENT"}(t.TextureUsageHint||(t.TextureUsageHint={})),t.shaderTypeLength=((r={})[d.FLOAT]=1,r[d.VEC2]=2,r[d.VEC3]=3,r[d.VEC4]=4,r[d.IVEC2]=1,r[d.IVEC3]=2,r[d.IVEC4]=3,r[d.BOOL]=1,r[d.BVEC2]=2,r[d.BVEC3]=3,r[d.BVEC4]=4,r[d.MAT2]=4,r[d.MAT3]=9,r[d.MAT4]=16,r),t.shaderTypeRows=((o={})[d.FLOAT]=1,o[d.VEC2]=1,o[d.VEC3]=1,o[d.VEC4]=1,o[d.IVEC2]=1,o[d.IVEC3]=1,o[d.IVEC4]=1,o[d.BOOL]=1,o[d.BVEC2]=1,o[d.BVEC3]=1,o[d.BVEC4]=1,o[d.MAT2]=2,o[d.MAT3]=3,o[d.MAT4]=4,o),t.shaderTypeColumns=((i={})[d.FLOAT]=1,i[d.VEC2]=2,i[d.VEC3]=3,i[d.VEC4]=4,i[d.IVEC2]=2,i[d.IVEC3]=3,i[d.IVEC4]=4,i[d.BOOL]=1,i[d.BVEC2]=2,i[d.BVEC3]=3,i[d.BVEC4]=4,i[d.MAT2]=2,i[d.MAT3]=3,i[d.MAT4]=4,i),t.dataTypeByteLength=((a={})[WebGLRenderingContext.BYTE]=1,a[WebGLRenderingContext.UNSIGNED_BYTE]=1,a[WebGLRenderingContext.SHORT]=2,a[WebGLRenderingContext.UNSIGNED_SHORT]=2,a[WebGLRenderingContext.INT]=4,a[WebGLRenderingContext.UNSIGNED_INT]=4,a[WebGLRenderingContext.FLOAT]=4,a);var g=function(){function e(e,t){this.device=e,this.native=t}return e.prototype.updateBufferData=function(e,t){void 0===t&&(t=0),this.device.updateBufferData(this,e,t)},e.prototype.delete=function(){this.device.deleteBuffer(this)},e}();t.GPUBuffer=g;var m=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.dataType=r,o}return s(t,e),t}(g);t.GPUIndexBuffer=m;var b=function(){function e(e,t,n,r,o){this.device=e,this.id=t,this.native=n,this.attributeLayout=r,this.indexType=o}return e.prototype.delete=function(){this.device.deleteVertexState(this)},e}();t.GPUVertexState=b;var x=function(){function e(e,t,n,r,o){this.device=e,this.native=t,this.w=n,this.h=r,this.type=o,this.boundUnit=-1}return e.prototype.updateTextureData=function(e,t,n,r,o,i,a){this.device.updateTextureData(this,e,t,n,r,o,i,a)},e.prototype.delete=function(){this.device.deleteTexture(this)},e}();t.GPUTexture=x;var _=function(){function e(e,t,n,r,o,i,a,s){this.device=e,this.id=t,this.native=n,this.vertexCode=r,this.fragmentCode=o,this.attributeLayout=i,this.uniformInfo=a,this.uniformLocation=s,this.stateCache={}}return e.prototype.delete=function(){this.device.deleteProgram(this)},e}();t.GPUProgram=_,t.default=y;var T=function(){function e(e){this.minimize=e,this.top=0,this.availableIdQueue=new Array}return e.prototype.assign=function(){return this.availableIdQueue.length>0?this.availableIdQueue.pop():this.top++},e.prototype.release=function(e){return-1===this.availableIdQueue.indexOf(e)&&(this.availableIdQueue.push(e),this.minimize&&this.availableIdQueue.sort(function(e,t){return t-e}),!0)},e.prototype.count=function(){return this.top-this.availableIdQueue.length},e}(),w=function(){function e(e){this.onZeroReferences=e,this.map={}}return e.prototype.add=function(e,t){this.map[e]={value:t,refs:1}},e.prototype.reference=function(e){var t=this.map[e];return null==t?null:(t.refs++,t.value)},e.prototype.release=function(e){var t=this.map[e];return null!=t&&(t.refs--,0!==t.refs||(this.onZeroReferences(t.value),delete this.map[e],!1))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.clamp=function(e,t,n){return Math.min(Math.max(e,t),n)},e.lerp=function(e,t,n){return e*(1-n)+t*n},e.linstep=function(t,n,r){return e.clamp((r-t)/(n-t),0,1)},e.smoothstep=function(t,n,r){return(r=e.clamp((r-t)/(n-t),0,1))*r*(3-2*r)},e.log2=function(e){return Math.log(e)*Math.LOG2E},e.log10=function(e){return Math.log(e)*Math.LOG10E},e.sign=function(e){return(e>0)-(e<0)||+e},e}();t.Scalar=r,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.cache={},this.count=0}return e.prototype.get=function(e,t){var n=this.cache[e];if(void 0===n){var r=t(e);n=this.cache[e]={value:r,used:!0},this.count++}return n.used=!0,n.value},e.prototype.keys=function(){return Object.keys(this.cache)},e.prototype.markUnused=function(e){this.cache[e].used=!1},e.prototype.markAllUnused=function(){for(var e in this.cache)this.cache[e].used=!1},e.prototype.remove=function(e,t){var n=this.cache[e];void 0!==n&&(this.count--,t(n.value),delete this.cache[e])},e.prototype.removeUnused=function(e){for(var t in this.cache){var n=this.cache[t];n.used||(this.count--,e(n.value),delete this.cache[t])}},e.prototype.removeAll=function(e){this.markAllUnused(),this.removeUnused(e)},e}();t.UsageCache=r,t.default=r},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.springTo=function(t,n,r,o){var i=r instanceof Object?r:{tension:r,friction:2*Math.sqrt(r)};e.animation(t,n,e.stringStep,i,!0,o)},e.spring=function(t,n,r,o){var i=r instanceof Object?r:{tension:r,friction:2*Math.sqrt(r)};e.animation(t,n,e.stringStep,i,!1,o)},e.animation=function(t,n,o,i,a,s){var l,u,c=window.performance.now()/1e3,f=e.getActive(t);null==f&&(f={object:t,animatingFields:{}},e.active.add(f));var d=Object.keys(n);try{for(var p=r(d),h=p.next();!h.done;h=p.next()){var v=h.value,y=n[v],g=t[v],m=f.animatingFields[v];null==m?(m={state:{x:y-g,v:null==s?0:s,pe:0,t0:c,lastT:c},target:n[v],step:o,parameters:i,stopOnComplete:a},f.animatingFields[v]=m):(m.state.x=y-g,m.state.v=null==s?m.state.v:s,m.state.t0=c,m.target=y,m.step=o,m.parameters=i)}}catch(e){l={error:e}}finally{try{h&&!h.done&&(u=p.return)&&u.call(p)}finally{if(l)throw l.error}}},e.stop=function(t,n){var o,i;if(null==n)e.removeActive(t);else{var a=e.getActive(t);if(null===a)return;var s=Array.isArray(n)?n:Object.keys(n);try{for(var l=r(s),u=l.next();!u.done;u=l.next()){var c=u.value;delete a.animatingFields[c]}}catch(e){o={error:e}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(o)throw o.error}}0===Object.keys(a.animatingFields).length&&e.active.delete(a)}},e.frame=function(t){var n,o,i,a,s,l;void 0===t&&(t=window.performance.now()/1e3);var u=0;try{for(var c=r(e.active),f=c.next();!f.done;f=c.next()){var d=f.value,p=d.object,h=Object.keys(d.animatingFields);try{for(var v=r(h),y=v.next();!y.done;y=v.next()){var g=y.value,m=d.animatingFields[g];m.state.x=m.target-p[g],m.step(t,m.state,m.parameters),p[g]=m.target-m.state.x,u++;var b=.5*m.state.v*m.state.v,x=m.state.pe+b;m.stopOnComplete&&x<1e-6&&(delete d.animatingFields[g],p[g]=m.target,e.fieldComplete(p,g))}}catch(e){i={error:e}}finally{try{y&&!y.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}0===Object.keys(d.animatingFields).length&&e.active.delete(d)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}try{for(var _=r(e.stepCallbacks),T=_.next();!T.done;T=_.next()){(0,T.value)(u)}}catch(e){s={error:e}}finally{try{T&&!T.done&&(l=_.return)&&l.call(_)}finally{if(s)throw s.error}}},e.activeAnimationCount=function(){return e.active.size},e.addAnimationCompleteCallback=function(t,n,r,o){void 0===o&&(o=!0),e.animationCompleteCallbacks.add({callback:r,object:t,field:n,once:o})},e.removeAnimationCompleteCallbacks=function(t,n,o){var i,a,s=0;try{for(var l=r(e.animationCompleteCallbacks),u=l.next();!u.done;u=l.next()){var c=u.value;c.callback===o&&c.field===n&&c.object===t&&(e.animationCompleteCallbacks.delete(c),s++)}}catch(e){i={error:e}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return s>0},e.addStepCompleteCallback=function(t){e.stepCallbacks.add(t)},e.removeStepCompleteCallback=function(t){return e.stepCallbacks.delete(t)},e.fieldComplete=function(t,n){var o,i;try{for(var a=r(this.animationCompleteCallbacks),s=a.next();!s.done;s=a.next()){var l=s.value;l.object===t&&l.field===n&&(l.once&&e.animationCompleteCallbacks.delete(l),l.callback(t))}}catch(e){o={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}},e.stringStep=function(e,t,n){var r=e-t.lastT;t.lastT=e;var o=n.tension,i=n.friction,a=r,s=t.v,l=t.x,u=4*o-i*i;if(0===u){var c=Math.sqrt(o),f=l,d=s+c*l,p=Math.exp(-c*a);t.x=(f+d*a)*p,t.v=(d-c*(f+d*a))*p}else if(u<=0){var h=Math.sqrt(-u),v=.5*(-i+h),y=.5*(-i-h),g=(f=l-(d=(y*l-s)/(y-v)),Math.exp(y*a)),m=Math.exp(v*a);t.x=f*g+d*m,t.v=f*y*g+d*v*m}else{var b=-i/2,x=Math.sqrt(.25*u),_=Math.atan(x/(s/l-b)),T=(f=l/Math.sin(_),p=Math.exp(b*a),Math.sin(x*a+_)),w=Math.cos(x*a+_);t.x=f*p*T,t.v=f*p*(b*T+x*w)}t.pe=.5*o*t.x*t.x},e.getActive=function(t){var n,o;try{for(var i=r(e.active),a=i.next();!a.done;a=i.next()){var s=a.value;if(t===s.object)return s}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return null},e.removeActive=function(t){var n,o;try{for(var i=r(e.active),a=i.next();!a.done;a=i.next()){var s=a.value;if(s.object===t)return void e.active.delete(s)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}},e.active=new Set,e.stepCallbacks=new Set,e.animationCompleteCallbacks=new Set,e}();t.Animator=o,t.default=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(7),a=n(6),s=n(9),l=n(12),u=n(13),c=function(e){function t(t){var n=e.call(this,0,0,[.1,.1,.1,1])||this;n.model=t,n.defaultCursor="crosshair",n.axisPointers={},n.activeAxisPointerColor=[1,1,1,.8],n.secondaryAxisPointerColor=[.2,.2,.2,1],n.displayNeedUpdate=!0,n._pendingTiles=new a.default,n.createTileLoadingDependency=function(e){return e.addEventListener("complete",n.onDependentTileComplete),e},n.removeTileLoadingDependency=function(e){e.removeEventListener("complete",n.onDependentTileComplete)},n.onDependentTileComplete=function(){n.updateDisplay()},n.cursorStyle=n.defaultCursor,n.addInteractionListener("pointerdown",function(){return n.cursorStyle="pointer"}),n.addInteractionListener("pointerup",function(){return n.cursorStyle=n.defaultCursor}),n.addInteractionListener("dragend",function(){return n.cursorStyle=n.defaultCursor}),n.loadingIndicator=new d,n.loadingIndicator.cursorStyle="pointer",n.loadingIndicator.layoutY=-1,n.loadingIndicator.layoutParentY=1,n.loadingIndicator.x=10,n.loadingIndicator.y=-10,n.loadingIndicator.mask=n,n.add(n.loadingIndicator),n.toggleLoadingIndicator(!1,!1);var r=[.1,.1,.1,1];return n.focusRegionRectLeft=new s.default(0,0,r),n.focusRegionRectRight=new s.default(0,0,r),n.focusRegionRectLeft.opacity=n.focusRegionRectRight.opacity=.7,n.focusRegionRectLeft.layoutH=n.focusRegionRectRight.layoutH=1,n.focusRegionRectLeft.z=n.focusRegionRectRight.z=1.9,n.add(n.focusRegionRectLeft),n.add(n.focusRegionRectRight),n.disableFocusRegion(),n}return r(t,e),t.prototype.setContig=function(e){this.contig=e,this.displayNeedUpdate=!0},t.prototype.setRange=function(e,t){this.x0=e,this.x1=t,this.displayNeedUpdate=!0},t.prototype.setAxisPointer=function(e,t,n){var r=t>=0&&t<=1,o=this.axisPointers[e];if(void 0===o){if(!r)return;(o=new f(n,this.activeAxisPointerColor,this.secondaryAxisPointerColor)).z=2,this.add(o),this.axisPointers[e]=o}o.render=r,r&&(o.layoutParentX=t),o.style!==n&&o.setStyle(n)},t.prototype.removeAxisPointer=function(e){var t=this.axisPointers[e];void 0!==t&&(this.remove(t),delete this.axisPointers[e])},t.prototype.setFocusRegion=function(e,t){this.focusRegionRectLeft.layoutParentX=0,this.focusRegionRectLeft.layoutW=Math.max(Math.min(e,t),0),this.focusRegionRectLeft.render=!0,this.focusRegionRectRight.layoutParentX=Math.max(e,t),this.focusRegionRectRight.layoutW=Math.max(1-this.focusRegionRectRight.layoutParentX,0),this.focusRegionRectRight.render=!0},t.prototype.disableFocusRegion=function(){this.focusRegionRectLeft.render=!1,this.focusRegionRectRight.render=!1},t.prototype.applyTransformToSubNodes=function(t){(this._lastComputedWidth!==this.getComputedWidth()||this.displayNeedUpdate)&&(this.updateDisplay(),this._lastComputedWidth=this.getComputedWidth()),e.prototype.applyTransformToSubNodes.call(this,t)},t.prototype.updateDisplay=function(){this._pendingTiles.markAllUnused(),this.displayNeedUpdate=!1,this._pendingTiles.removeUnused(this.removeTileLoadingDependency),this.toggleLoadingIndicator(this._pendingTiles.count>0,!0)},t.prototype.toggleLoadingIndicator=function(e,t){var n=e?1:-.1;t?i.default.springTo(this.loadingIndicator,{opacity:n},50):(i.default.stop(this.loadingIndicator,["opacity"]),this.loadingIndicator.opacity=n)},t}(s.default);t.TrackObject=c,function(e){e[e.Active=0]="Active",e[e.Secondary=1]="Secondary"}(o=t.AxisPointerStyle||(t.AxisPointerStyle={}));var f=function(e){function t(t,n,r){var o=e.call(this,0,0)||this;return o.activeColor=n,o.secondaryColor=r,o.layoutX=-.5,o.layoutH=1,o.w=1,o.setStyle(t),o}return r(t,e),t.prototype.setStyle=function(e){switch(e){case o.Active:this.color.set(this.activeColor);break;case o.Secondary:this.color.set(this.secondaryColor)}this.style=e},t}(s.default),d=function(e){function t(){return e.call(this,u.OpenSansRegular,"Loading",12,[1,1,1,1])||this}return r(t,e),t}(l.default);t.default=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=n(10),a=n(11),s=function(e){function t(t,n,r){void 0===t&&(t=10),void 0===n&&(n=10),void 0===r&&(r=[1,0,0,1]);var i=e.call(this)||this;return i.color=new Float32Array(4),i.blendFactor=1,i.attributeLayout=[{name:"position",type:o.AttributeType.VEC2}],i.render=!0,i.w=t,i.h=n,i.color.set(r),i}return r(t,e),t.prototype.allocateGPUResources=function(e){this.gpuVertexState=i.SharedResources.quad1x1VertexState,this.gpuProgram=i.SharedResources.getProgram(e,this.getVertexCode(),this.getFragmentCode(),this.attributeLayout)},t.prototype.releaseGPUResources=function(){this.gpuVertexState=null,this.gpuProgram=null},t.prototype.draw=function(e){e.uniform1f("blendFactor",this.blendFactor),e.uniform2f("size",this.computedWidth,this.computedHeight),e.uniformMatrix4fv("model",!1,this.worldTransformMat4),e.uniform4f("color",this.color[0],this.color[1],this.color[2],this.color[3]*this.opacity),e.draw(a.DrawMode.TRIANGLES,6,0)},t.prototype.getVertexCode=function(){return"\n            #version 100\n\n            attribute vec2 position;\n            uniform mat4 model;\n            uniform vec2 size;\n\n            varying vec2 vUv;\n\n            void main() {\n                vUv = position;\n                gl_Position = model * vec4(position * size, 0., 1.0);\n            }\n        "},t.prototype.getFragmentCode=function(){return"\n            #version 100\n\n            precision mediump float;\n            varying vec2 vUv;\n\n            uniform float blendFactor;\n            uniform vec4 color;\n            \n            void main() {\n                gl_FragColor = vec4(color.rgb, blendFactor) * color.a;\n            }\n        "},t}(n(0).Object2D);t.Rect=s,t.default=s},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=function(){function e(){}return e.getProgram=function(e,t,n,r){var o=t+""+n+""+r.map(function(e){return e.name+":"+e.type}).join(""),i=this.programs[o];return null==i&&(i=e.createProgram(t,n,r),this.programs[o]=i),i},e.deleteProgram=function(e,t,n){var r=e+""+t+""+n.map(function(e){return e.name+":"+e.type}).join(""),o=this.programs[r];return null!=o&&(o.delete(),delete this.programs[r],!0)},e.getTexture=function(e,t,n){var r=this.textures[t];return null==r&&(r=e.createTexture(n),this.textures[t]=r),r},e.deleteTexture=function(e){var t=this.textures[e];return null!=t&&(t.delete(),delete this.textures[e],!0)},e.getBuffer=function(e,t,n){var r=this.buffers[t];return null==r&&(r=e.createBuffer(n),this.buffers[t]=r),r},e.deleteBuffer=function(e){var t=this.buffers[e];return null!=t&&(t.delete(),delete this.buffers[e],!0)},e.initialize=function(e){this.quadIndexBuffer=e.createIndexBuffer({data:new Uint8Array([0,1,2,0,3,1])}),this.unitQuadVertexBuffer=e.createBuffer({data:new Float32Array([-1,-1,1,1,-1,1,1,-1])}),this.unitQuadVertexState=e.createVertexState({indexBuffer:this.quadIndexBuffer,attributeLayout:this.quadAttributeLayout,attributes:{position:{buffer:this.unitQuadVertexBuffer,offsetBytes:0,strideBytes:8}}}),this.quad1x1VertexBuffer=e.createBuffer({data:new Float32Array([0,0,1,1,0,1,1,0])}),this.quad1x1VertexState=e.createVertexState({indexBuffer:this.quadIndexBuffer,attributeLayout:this.quadAttributeLayout,attributes:{position:{buffer:this.quad1x1VertexBuffer,offsetBytes:0,strideBytes:8}}})},e.release=function(){var e,t,n,o,i,a;this.quadIndexBuffer.delete(),this.quadIndexBuffer=null,this.unitQuadVertexState.delete(),this.unitQuadVertexState=null,this.unitQuadVertexBuffer.delete(),this.unitQuadVertexBuffer=null,this.quad1x1VertexState.delete(),this.quad1x1VertexState=null,this.quad1x1VertexBuffer.delete(),this.quad1x1VertexBuffer=null;try{for(var s=r(Object.keys(this.programs)),l=s.next();!l.done;l=s.next()){var u=l.value;this.programs[u].delete()}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}this.programs={};try{for(var c=r(Object.keys(this.textures)),f=c.next();!f.done;f=c.next()){u=f.value;this.textures[u].delete()}}catch(e){n={error:e}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}this.textures={};try{for(var d=r(Object.keys(this.buffers)),p=d.next();!p.done;p=d.next()){u=p.value;this.buffers[u].delete()}}catch(e){i={error:e}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}this.buffers={}},e.quadAttributeLayout=[{name:"position",type:o.AttributeType.VEC2}],e.programs={},e.textures={},e.buffers={},e}();t.SharedResources=i,t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(4),i=n(19);!function(e){e[e.NONE=0]="NONE",e[e.PREMULTIPLIED_ALPHA=1]="PREMULTIPLIED_ALPHA"}(r=t.BlendMode||(t.BlendMode={})),function(e){e[e.POINTS=WebGLRenderingContext.POINTS]="POINTS",e[e.LINE_STRIP=WebGLRenderingContext.LINE_STRIP]="LINE_STRIP",e[e.LINE_LOOP=WebGLRenderingContext.LINE_LOOP]="LINE_LOOP",e[e.LINES=WebGLRenderingContext.LINES]="LINES",e[e.TRIANGLE_STRIP=WebGLRenderingContext.TRIANGLE_STRIP]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=WebGLRenderingContext.TRIANGLE_FAN]="TRIANGLE_FAN",e[e.TRIANGLES=WebGLRenderingContext.TRIANGLES]="TRIANGLES"}(t.DrawMode||(t.DrawMode={}));var a=function(){function e(e){this.MAX_SAFE_MASKS=254,this._masks=new Array,this._opaque=new Array,this._transparent=new Array,this.currentFramebuffer=-1,this.currentProgramId=-1,this.currentVertexStateId=-1,this.currentBlendMode=-1,this.currentStencilTestEnabled=-1,this.currentMaskTestValue=-1,this.currentVaoFallbackAttributeLayout=void 0,this.stateSOffset=24,this.stateSMask=4278190080,this.stateBOffset=4,this.stateBMask=16777200,this.stateMOffset=0,this.stateMMask=15,this.MAX_SHADERS=this.stateSMask>>>this.stateSOffset,this.MAX_BUFFERS=this.stateBMask>>>this.stateBOffset,this.MAX_BLEND_MODES=this.stateMMask>>>this.stateMOffset,this.device=e,this.deviceInternal=e,this.gl=this.deviceInternal.gl,this.extVao=this.deviceInternal.extVao,this.drawContext=s.create(e,this.deviceInternal.extInstanced)}return e.prototype.render=function(e){var t=this,n=this.gl,o=this.drawContext;e.root.applyTransformToSubNodes(!0);var a=0,s=this._opaque,l=0,u=this._transparent,c=0,f=this._masks;if(e.root.forEachSubNode(function(e){if(e instanceof i.Renderable&&!0===e.render){var n=e;if(null!=e.mask){for(var o=-1,d=0;d<c;d++)if(f[d]===e.mask){o=d;break}-1===o?(n._maskIndex=c,f[c++]=e.mask):n._maskIndex=o}else n._maskIndex=-1;if(n.gpuResourcesNeedAllocate){if(n.allocateGPUResources(t.device),null==n.gpuProgram)throw'Renderable field "gpuProgram" must be set before rendering (or set node\'s render field to false)';if(null==n.gpuVertexState)throw'Renderable field "gpuVertexState" must be set before rendering (or set node\'s render field to false)';n.gpuResourcesNeedAllocate=!1}var p=e.transparent;void 0===p&&(p=e.opacity<1);var h=e.blendMode;void 0===h&&(h=p?r.PREMULTIPLIED_ALPHA:r.NONE),n._renderStateKey=t.encodeRenderState(n.gpuProgram.id,n.gpuVertexState.id,h),p?u[l++]=e:s[a++]=e}}),a<s.length&&(s.length=a),l<u.length&&(u.length=l),c<f.length&&(f.length=c),s.sort(function(e,t){var n=e,r=t,o=n._renderStateKey-r._renderStateKey;return 0===o?n.renderOrderZ-r.renderOrderZ:o}),u.sort(function(e,t){var n=e,r=t,o=r.renderOrderZ-n.renderOrderZ;return 0===o?n._renderStateKey-r._renderStateKey:o}),this.resetGLStateAssumptions(),this.currentFramebuffer!==e.target&&(n.bindFramebuffer(n.FRAMEBUFFER,e.target),this.currentFramebuffer=e.target),null!=e.target)throw"Todo, custom framebuffers: use framebuffers size for viewport";n.viewport(0,0,n.drawingBufferWidth,n.drawingBufferHeight),o.viewport.x=0,o.viewport.y=0,o.viewport.w=n.drawingBufferWidth,o.viewport.h=n.drawingBufferHeight;var d=0;if(null!=e.clearOptions.clearColor&&(d|=n.COLOR_BUFFER_BIT,n.clearColor(e.clearOptions.clearColor[0],e.clearOptions.clearColor[1],e.clearOptions.clearColor[2],e.clearOptions.clearColor[3])),null!=e.clearOptions.clearDepth&&(d|=n.DEPTH_BUFFER_BIT,n.clearDepth(e.clearOptions.clearDepth)),null!=e.clearOptions.clearStencil&&(d|=n.STENCIL_BUFFER_BIT,n.clearStencil(e.clearOptions.clearStencil)),n.clear(d),f.length>0){n.enable(n.STENCIL_TEST),this.currentStencilTestEnabled=1,n.colorMask(!1,!1,!1,!1),n.depthMask(!0),n.disable(n.BLEND),this.currentBlendMode=r.NONE,n.stencilFunc(n.ALWAYS,255,255),this.currentMaskTestValue=-1,n.stencilOp(n.KEEP,n.KEEP,n.REPLACE);for(var p=0;p<f.length;p++){var h=f[p],v=h;this.setProgram(v),this.setVertexState(v);var y=p+1;n.stencilMask(y),h.draw(this.drawContext)}null!=e.clearOptions.clearDepth&&(d|=n.DEPTH_BUFFER_BIT,n.clearDepth(e.clearOptions.clearDepth))}n.colorMask(!0,!0,!0,!0),n.depthMask(!0),n.stencilMask(0),0===f.length?(n.disable(n.STENCIL_TEST),this.currentStencilTestEnabled=0):n.stencilOp(n.KEEP,n.KEEP,n.KEEP),this.renderArray(s),n.depthMask(!1),this.renderArray(u)},e.prototype.renderArray=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(!(n.opacity<=0||!1===n.visible)){var r=n,o=this.decodeRenderStateBlendMode(r._renderStateKey);this.setProgram(r),this.setVertexState(r),this.setBlendMode(o),this.setMaskTest(-1!==r._maskIndex,(r._maskIndex+1)%256),n.draw(this.drawContext)}}},e.prototype.resetGLStateAssumptions=function(){this.currentFramebuffer=void 0,this.currentProgramId=-1,this.currentVertexStateId=-1,this.currentBlendMode=-1,this.currentStencilTestEnabled=-1,this.currentMaskTestValue=-1},e.prototype.setProgram=function(e){var t=this.gl,n=this.drawContext;e.gpuProgram.id!==this.currentProgramId&&(t.useProgram(e.gpuProgram.native),n.program=e.gpuProgram,this.currentProgramId=e.gpuProgram.id)},e.prototype.setVertexState=function(e){var t=this.gl,n=this.drawContext;if(e.gpuVertexState.id!==this.currentVertexStateId){if(null!==e.gpuVertexState.native)this.extVao.bindVertexArrayOES(e.gpuVertexState.native);else{if(void 0!==this.currentVaoFallbackAttributeLayout)for(var r=0,i=0;i<this.currentVaoFallbackAttributeLayout.length;i++){var a=this.currentVaoFallbackAttributeLayout[i].type,s=o.shaderTypeRows[a];if(1===s)t.disableVertexAttribArray(r);else for(var l=0;l<s;l++)t.disableVertexAttribArray(r+l);r+=s}this.deviceInternal.applyVertexStateDescriptor(e.gpuVertexState._vaoFallbackDescriptor),this.currentVaoFallbackAttributeLayout=e.gpuVertexState.attributeLayout}n.vertexState=e.gpuVertexState,this.currentVertexStateId=e.gpuVertexState.id}},e.prototype.setBlendMode=function(e){var t=this.gl;if(e!==this.currentBlendMode){if(0===e)t.disable(t.BLEND);else switch(this.currentBlendMode<=0&&t.enable(t.BLEND),e){case r.PREMULTIPLIED_ALPHA:t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA);break;default:throw'Blend mode "'+r[e]+'" not yet implemented'}this.currentBlendMode=e}},e.prototype.setMaskTest=function(e,t){var n=this.gl;e?(1!==this.currentStencilTestEnabled&&(n.enable(n.STENCIL_TEST),this.currentStencilTestEnabled=1),this.currentMaskTestValue!==t&&(n.stencilFunc(n.EQUAL,t,255),this.currentMaskTestValue=t)):0!==this.currentStencilTestEnabled&&(n.disable(n.STENCIL_TEST),this.currentStencilTestEnabled=0)},e.prototype.encodeRenderState=function(e,t,n){return e<<this.stateSOffset|t<<this.stateBOffset|n<<this.stateMOffset},e.prototype.decodeRenderState=function(e){return{programId:(e&this.stateSMask)>>>this.stateSOffset,vertexStateId:(e&this.stateBMask)>>>this.stateBOffset,blendMode:(e&this.stateMMask)>>>this.stateMOffset}},e.prototype.decodeRenderStateBlendMode=function(e){return(e&this.stateMMask)>>>this.stateMOffset},e}();t.Renderer=a;var s=function(){function e(e,t){this.device=e,this.extInstanced=t,this.viewport={x:0,y:0,w:0,h:0};var n=e.gl;this.gl=n}return e.prototype.uniform1f=function(e,t){var n=this.program.stateCache;n[e]!==t&&(this.gl.uniform1f(this.program.uniformLocation[e],t),n[e]=t)},e.prototype.uniform1fv=function(e,t){this.gl.uniform1fv(this.program.uniformLocation[e],t)},e.prototype.uniform1i=function(e,t){var n=this.program.stateCache;n[e]!==t&&(this.gl.uniform1i(this.program.uniformLocation[e],t),n[e]=t)},e.prototype.uniform1iv=function(e,t){this.gl.uniform1iv(this.program.uniformLocation[e],t)},e.prototype.uniform2f=function(e,t,n){var r=this.program.stateCache,o=r[e];void 0===o&&(o=r[e]=new Array(2)),o[0]===t&&o[1]===n||(this.gl.uniform2f(this.program.uniformLocation[e],t,n),o[0]=t,o[1]=n)},e.prototype.uniform2fv=function(e,t){this.gl.uniform2fv(this.program.uniformLocation[e],t)},e.prototype.uniform2i=function(e,t,n){var r=this.program.stateCache,o=r[e];void 0===o&&(o=r[e]=new Array(2)),o[0]===t&&o[1]===n||(this.gl.uniform2i(this.program.uniformLocation[e],t,n),o[0]=t,o[1]=n)},e.prototype.uniform2iv=function(e,t){this.gl.uniform2iv(this.program.uniformLocation[e],t)},e.prototype.uniform3f=function(e,t,n,r){var o=this.program.stateCache,i=o[e];void 0===i&&(i=o[e]=new Array(3)),i[0]===t&&i[1]===n&&i[2]===r||(this.gl.uniform3f(this.program.uniformLocation[e],t,n,r),i[0]=t,i[1]=n,i[2]=r)},e.prototype.uniform3fv=function(e,t){this.gl.uniform3fv(this.program.uniformLocation[e],t)},e.prototype.uniform3i=function(e,t,n,r){var o=this.program.stateCache,i=o[e];void 0===i&&(i=o[e]=new Array(3)),i[0]===t&&i[1]===n&&i[2]===r||(this.gl.uniform3i(this.program.uniformLocation[e],t,n,r),i[0]=t,i[1]=n,i[2]=r)},e.prototype.uniform3iv=function(e,t){this.gl.uniform3iv(this.program.uniformLocation[e],t)},e.prototype.uniform4f=function(e,t,n,r,o){var i=this.program.stateCache,a=i[e];void 0===a&&(a=i[e]=new Array(4)),a[0]===t&&a[1]===n&&a[2]===r&&a[3]===o||(this.gl.uniform4f(this.program.uniformLocation[e],t,n,r,o),a[0]=t,a[1]=n,a[2]=r,a[3]=o)},e.prototype.uniform4fv=function(e,t){this.gl.uniform4fv(this.program.uniformLocation[e],t)},e.prototype.uniform4i=function(e,t,n,r,o){var i=this.program.stateCache,a=i[e];void 0===a&&(a=i[e]=new Array(4)),a[0]===t&&a[1]===n&&a[2]===r&&a[3]===o||(this.gl.uniform4i(this.program.uniformLocation[e],t,n,r,o),a[0]=t,a[1]=n,a[2]=r,a[3]=o)},e.prototype.uniform4iv=function(e,t){this.gl.uniform4iv(this.program.uniformLocation[e],t)},e.prototype.uniformMatrix2fv=function(e,t,n){this.gl.uniformMatrix2fv(this.program.uniformLocation[e],t,n)},e.prototype.uniformMatrix3fv=function(e,t,n){this.gl.uniformMatrix3fv(this.program.uniformLocation[e],t,n)},e.prototype.uniformMatrix4fv=function(e,t,n){this.gl.uniformMatrix4fv(this.program.uniformLocation[e],t,n)},e.prototype.uniformTexture2D=function(e,t){var n=this.device,r=t;-1!==r.boundUnit?(this.uniform1i(e,r.boundUnit),n.markTextureUsage(t)):(n.bindTexture(t),this.uniform1i(e,r.boundUnit))},e.prototype.draw=function(e,t,n){var r=this.gl;null!=this.vertexState.indexType?r.drawElements(e,t,this.vertexState.indexType,n):r.drawArrays(e,n,t)},e.prototype.extDrawInstanced=function(e,t,n,r){null!=this.vertexState.indexType?this.extInstanced.drawElementsInstancedANGLE(e,t,this.vertexState.indexType,n,r):this.extInstanced.drawArraysInstancedANGLE(e,n,t,r)},e.create=function(t,n){return new e(t,n)},e}();t.DrawContext=s,t.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(44),a=n(4),s=n(11),l=n(0),u=n(10),c=function(e){function t(t,n,r,o){void 0===r&&(r=16),void 0===o&&(o=[0,0,0,1]);var i=e.call(this)||this;return i.color=new Float32Array(4),i.opacity=1,i.additiveBlendFactor=0,i._kerningEnabled=!0,i._ligaturesEnabled=!0,i._lineHeight=1,i.vertexCount=0,i.blendMode=s.BlendMode.PREMULTIPLIED_ALPHA,i.transparent=!0,i.gpuResourcesNeedAllocate=!1,i.render=!1,i._fontSizePx=r,i.fontPath=t,i.string=n,i.color.set(o),i}return r(t,e),Object.defineProperty(t.prototype,"string",{get:function(){return this._string},set:function(e){var t=this._string!==e;this._string=e,t&&this.updateGlyphLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontPath",{get:function(){return this._fontPath},set:function(e){var t=this._fontPath!==e;this._fontPath=e,t&&this.updateFontPath()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSizePx",{get:function(){return this._fontSizePx},set:function(e){var t=e!==this._fontSizePx;this._fontSizePx=e,t&&this.updateGlyphLayout()},enumerable:!0,configurable:!0}),t.prototype.allocateGPUResources=function(e){null==this.gpuProgram&&(this.gpuProgram=u.SharedResources.getProgram(e,"\n                #version 100\n\n                precision mediump float;\n\n                attribute vec2 position;\n                attribute vec3 uv;\n\n                uniform mat4 transform;\n                uniform float fieldRange;\n                uniform vec2 viewportSize;\n                uniform float glyphScale;\n\n                varying vec2 vUv;\n                varying float vFieldRangeDisplay_px;\n\n                void main() {\n                    vUv = uv.xy;\n\n                    // determine the field range in pixels when drawn to the framebuffer\n                    vec2 scale = abs(vec2(transform[0][0], transform[1][1])) * glyphScale;\n                    float atlasScale = uv.z;\n                    vFieldRangeDisplay_px = fieldRange * scale.y * (viewportSize.y * 0.5) / atlasScale;\n                    vFieldRangeDisplay_px = max(vFieldRangeDisplay_px, 1.0);\n\n                    // flip-y axis\n                    gl_Position = transform * vec4(vec2(position.x, -position.y) * glyphScale, 0.0, 1.0);\n                }\n                ","\n                #version 100\n\n                precision mediump float;\n\n                uniform vec4 color;\n                uniform float blendFactor;\n\n                uniform sampler2D glyphAtlas;\n                uniform mat4 transform;\n\n                varying vec2 vUv;\n                varying float vFieldRangeDisplay_px;\n\n                float median(float r, float g, float b) {\n                    return max(min(r, g), min(max(r, g), b));\n                }\n\n                void main() {\n                    vec3 sample = texture2D(glyphAtlas, vUv).rgb;\n\n                    float sigDist = median(sample.r, sample.g, sample.b);\n\n                    // spread field range over 1px for antialiasing\n                    sigDist = clamp((sigDist - 0.5) * vFieldRangeDisplay_px + 0.5, 0.0, 1.0);\n\n                    float alpha = sigDist;\n\n                    gl_FragColor = vec4(color.rgb, blendFactor) * color.a * alpha;\n                }\n                ",t.attributeLayout));var n=this._fontAsset.descriptor.metadata.postScriptName,r=this._fontAsset.images[0].length>1;this.glyphAtlas=u.SharedResources.getTexture(e,n,{format:a.TextureFormat.RGBA,generateMipmaps:!r,mipmapData:this._fontAsset.images[0],dataType:a.TextureDataType.UNSIGNED_BYTE,usageHint:a.TextureUsageHint.LONG_LIFE,samplingParameters:{magFilter:a.TextureMagFilter.LINEAR,minFilter:r?a.TextureMinFilter.LINEAR_MIPMAP_LINEAR:a.TextureMinFilter.LINEAR,wrapS:a.TextureWrapMode.CLAMP_TO_EDGE,wrapT:a.TextureWrapMode.CLAMP_TO_EDGE},pixelStorage:{flipY:!1,premultiplyAlpha:!1,colorSpaceConversion:a.ColorSpaceConversion.NONE}});var o=i.default.generateVertexData(this._glyphLayout);this.vertexCount=o.vertexCount,this.gpuVertexBuffer=e.createBuffer({data:o.vertexArray,usageHint:a.BufferUsageHint.STATIC}),this.gpuVertexState=e.createVertexState({attributeLayout:t.attributeLayout,attributes:{position:{buffer:this.gpuVertexBuffer,sourceColumns:o.vertexLayout.position.elements,offsetBytes:o.vertexLayout.position.offsetBytes,strideBytes:o.vertexLayout.position.strideBytes,normalize:!1},uv:{buffer:this.gpuVertexBuffer,sourceColumns:o.vertexLayout.uv.elements,offsetBytes:o.vertexLayout.uv.offsetBytes,strideBytes:o.vertexLayout.uv.strideBytes,normalize:!1}}})},t.prototype.releaseGPUResources=function(){null!=this.gpuVertexState&&(this.gpuVertexState.delete(),this.gpuVertexState=null),null!=this.gpuVertexBuffer&&(this.gpuVertexBuffer.delete(),this.gpuVertexBuffer=null),this.vertexCount=0},t.prototype.draw=function(e){e.uniform2f("viewportSize",e.viewport.w,e.viewport.h),e.uniform1f("fieldRange",this._fontAsset.descriptor.fieldRange_px),e.uniformTexture2D("glyphAtlas",this.glyphAtlas),e.uniform1f("glyphScale",this._glyphLayout.glyphScale),e.uniform4f("color",this.color[0],this.color[1],this.color[2],this.color[3]*this.opacity),e.uniform1f("blendFactor",1-this.additiveBlendFactor),e.uniformMatrix4fv("transform",!1,this.worldTransformMat4),e.draw(s.DrawMode.TRIANGLES,this.vertexCount,0)},t.prototype.updateFontPath=function(){var e=this;t.getFontAsset(this._fontPath,function(t){e._fontAsset=t,e.updateGlyphLayout()})},t.prototype.updateGlyphLayout=function(){var e=!1;if(null!=this._string&&null!=this._fontAsset){var t=this._fontAsset.descriptor,n=t.typoAscender-t.typoDescender,r=this._fontSizePx/n;null===this._glyphLayout||this._glyphLayout.glyphScale;this._glyphLayout=i.default.layout(this._string,this._fontAsset.descriptor,{glyphScale:r,lineHeight:this._lineHeight,ligaturesEnabled:this._ligaturesEnabled,kerningEnabled:this._kerningEnabled}),this.w=(this._glyphLayout.bounds.r-this._glyphLayout.bounds.l)*this._glyphLayout.glyphScale,this.h=(this._glyphLayout.bounds.b-this._glyphLayout.bounds.t)*this._glyphLayout.glyphScale,e=!0}else e=null!==this._glyphLayout,this._glyphLayout=null,this.w=0,this.h=0;e&&this.eventEmitter.emit("glyphLayoutChanged"),this.render=null!=this._glyphLayout,this.gpuResourcesNeedAllocate=e,this.gpuResourcesNeedAllocate&&this.releaseGPUResources()},t.getFontAsset=function(e,n,r){var a=t.fontCache[e];if(null==a){var s=t.fontMap[e];null==s&&(s=t.fontMap[e]=new Promise(function(n,r){var a,s=e.substr(0,e.lastIndexOf("/")),l="json"===e.substr(e.lastIndexOf(".")+1).toLowerCase(),u=new Array,c=!1;function f(){var r,i,s,l;try{for(var f=o(u),d=f.next();!d.done;d=f.next()){var p=d.value;try{for(var h=o(p),v=h.next();!v.done;v=h.next()){if(!v.value.complete)return}}catch(e){s={error:e}}finally{try{v&&!v.done&&(l=h.return)&&l.call(h)}finally{if(s)throw s.error}}}}catch(e){r={error:e}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}if(null!=a&&!c){var y={descriptor:a,images:u};c=!0,t.fontCache[e]=y,n(y)}}!function(e){var t=new XMLHttpRequest;t.open("GET",e),t.responseType=l?"json":"arraybuffer",t.onerror=function(t){return r("Could not load font "+e)},t.onload=function(e){null!=(a=l?t.response:function(e){try{return i.default.parse(e)}catch(e){return r("Error parsing binary GPUText file: "+e),null}}(t.response))?(a.textures.length>1&&console.warn("Multiple-page glyph atlases are not yet supported"),function(e){for(var t=0;t<e.length;t++){var n=e[t];u[t]=new Array;for(var r=0;r<n.length;r++){var o=n[r],i=void 0;o instanceof HTMLImageElement?i=o:(i=new Image).src=s+"/"+o.localPath,i.onload=f,u[t][r]=i}}f()}(a.textures),f()):r("Failed to parse font")},t.send()}(e)})),s.catch(r).then(n)}else n(a)},t.fontMap={},t.fontCache={},t.attributeLayout=[{name:"position",type:a.AttributeType.VEC2},{name:"uv",type:a.AttributeType.VEC3}],t}(l.Object2D);t.Text=c,t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenSansRegular=n(45)},function(e,t,n){"use strict";e.exports=n(81)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.getTileStore=function(e,t,n){var r=this.tileStores[e]=this.tileStores[e]||{};return r[t]=r[t]||n(t)},e.clear=function(e){var t=this.tileStores[e];if(void 0!==t){for(var n in t){t[n].clear()}delete this.tileStores[e]}},e.clearAll=function(){for(var e in this.tileStores)this.clear(e)},e.tileStores={},e}();t.SharedTileStore=r,t.default=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=n(11),s=n(39),l=n(10),u=function(e){function t(t){var n=e.call(this,t,[{name:"position",type:i.AttributeType.VEC2}],[{name:"instancePosition",type:i.AttributeType.VEC3},{name:"instanceSize",type:i.AttributeType.VEC2},{name:"instanceColor",type:i.AttributeType.VEC4}],{instancePosition:function(e){return[e.xFractional,e.y,e.z]},instanceSize:function(e){return[e.wFractional,e.h]},instanceColor:function(e){return e.color}})||this;return n.minWidth=0,n.blendFactor=1,n.borderStrength=.3,n.transparent=!0,n}return r(t,e),t.prototype.draw=function(e){e.uniform1f("minWidth",this.minWidth),e.uniform1f("blendFactor",this.blendFactor),e.uniform1f("borderStrength",this.borderStrength),e.uniform2f("groupSize",this.computedWidth,this.computedHeight),e.uniform1f("groupOpacity",this.opacity),e.uniformMatrix4fv("groupModel",!1,this.worldTransformMat4),e.extDrawInstanced(a.DrawMode.TRIANGLES,6,0,this.instanceCount)},t.prototype.allocateGPUVertexState=function(e,t,n){return e.createVertexState({indexBuffer:l.default.quadIndexBuffer,attributeLayout:t,attributes:o({position:{buffer:l.default.quad1x1VertexBuffer,offsetBytes:0,strideBytes:8}},n)})},t.prototype.getVertexCode=function(){return"\n            #version 100\n\n            // for all instances\n            attribute vec2 position;\n            uniform float minWidth;\n            uniform mat4 groupModel;\n            uniform vec2 groupSize;\n\n            // per instance attributes\n            attribute vec3 instancePosition;\n            attribute vec2 instanceSize;\n            attribute vec4 instanceColor;\n\n            varying vec2 vUv;\n\n            varying vec2 size;\n            varying vec4 color;\n\n            void main() {\n                vUv = position;\n\n                // yz are absolute domPx units, x is in fractions of groupSize\n                vec3 pos = vec3(groupSize.x * instancePosition.x, instancePosition.yz);\n                size = vec2(groupSize.x * instanceSize.x, instanceSize.y);\n\n                // apply a minimum size\n                size.x = max(size.x, minWidth);\n\n                color = instanceColor;\n\n                gl_Position = groupModel * vec4(vec3(position * size, 0.0) + pos, 1.0);\n            }\n        "},t.prototype.getFragmentCode=function(){return"\n            #version 100\n\n            precision highp float;\n\n            uniform float blendFactor;\n            uniform float borderStrength;\n            uniform float groupOpacity;\n\n            varying vec2 size;\n            varying vec4 color;\n\n            varying vec2 vUv;\n\n            void main() {\n                vec2 domPx = vUv * size;\n\n                const vec2 borderWidthPx = vec2(1.);\n\n                vec2 inner = step(borderWidthPx, domPx) * step(domPx, size - borderWidthPx);\n                \n                float border = 1.0 - inner.x * inner.y;\n\n                vec4 c = color;\n\n                c.rgb += border * vec3(borderStrength);\n                c.a = mix(c.a, c.a + borderStrength, border);\n\n                gl_FragColor = vec4(c.rgb, blendFactor) * c.a * groupOpacity;\n            }\n        "},t}(s.default);t.default=u},function(e,t,n){"use strict";(function(t){var r=n(1),o=n(67),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(27):void 0!==t&&(e=n(27)),e}(),transformRequest:[function(e,t){return o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(e){s.headers[e]={}}),r.forEach(["post","put","patch"],function(e){s.headers[e]=r.merge(i)}),e.exports=s}).call(this,n(68))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(14),s=function(e){function t(n,r,o){var i=e.call(this)||this;return i.render=!1,i.reactUid=t.uidCounter++,i._content=n,null!=r&&(i.w=r),null!=o&&(i.h=o),i}return r(t,e),Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(e){this._content=e,this.eventEmitter.emit("setContent",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"containerStyle",{get:function(){return this._containerStyle},set:function(e){this._containerStyle=e,this.eventEmitter.emit("setContent",this._content)},enumerable:!0,configurable:!0}),t.prototype.addSetContentListener=function(e){this.eventEmitter.addListener("setContent",e)},t.prototype.removeSetContentListener=function(e){this.eventEmitter.removeListener("setContent",e)},t.prototype.addWorldTransformUpdatedListener=function(e){this.eventEmitter.addListener("worldTransformUpdated",e)},t.prototype.removeWorldTransformUpdatedListener=function(e){this.eventEmitter.removeListener("worldTransformUpdated",e)},t.prototype.applyWorldTransform=function(t){e.prototype.applyWorldTransform.call(this,t),this.eventEmitter.emit("worldTransformUpdated",this.worldTransformMat4,this.computedWidth,this.computedHeight)},t.uidCounter=0,t}(i.default);t.ReactObject=s;var l=function(e){function t(t){var n=e.call(this,t)||this;n.updateTransformState=function(e,t,r){n.setState({worldTransform:e,computedWidth:t,computedHeight:r})},n.updateContentState=function(e){n.setState({content:e})};var r=t.reactObject;return n.state={content:t.reactObject.content,worldTransform:r.worldTransformMat4,computedWidth:r.computedWidth,computedHeight:r.computedHeight,style:t.reactObject.containerStyle},n}return r(t,e),t.prototype.componentDidMount=function(){this.props.reactObject.addWorldTransformUpdatedListener(this.updateTransformState),this.props.reactObject.addSetContentListener(this.updateContentState)},t.prototype.componentWillUnmount=function(){this.props.reactObject.removeWorldTransformUpdatedListener(this.updateTransformState),this.props.reactObject.removeSetContentListener(this.updateContentState)},t.prototype.render=function(){var e=this.props.scene,t=this.state.worldTransform,n=(t[12]-e.x)/e.sx,r=(t[13]-e.y)/e.sy,i=(t[14]-e.z)/e.sz,s=t[0]/e.sx,l=t[5]/e.sy,u=t[10]/e.sz;return a.createElement("div",{className:"react-object-container",style:o({},this.state.style,{position:"absolute",transform:"matrix3d(\n                    "+s+" , 0     , 0     , 0 ,\n                    0     , "+l+" , 0     , 0 ,\n                    0     , 0     , "+u+" , 0 ,\n                    "+n+"  , "+r+"  , "+i+"  , 1\n                )",width:this.state.computedWidth,height:this.state.computedHeight})},this.state.content)},t}(a.Component);t.ReactObjectContainer=l,t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){var t=e.call(this)||this;return t.render=!0,t.opacity=1,t.visible=!0,t.mask=null,t.gpuProgram=null,t.gpuVertexState=null,t.gpuResourcesNeedAllocate=!0,t._renderStateKey=0,t._maskIndex=-1,t}return r(t,e),t.prototype.allocateGPUResources=function(e){},t.prototype.releaseGPUResources=function(){},t.prototype.draw=function(e){},t}(n(74).default);t.Renderable=o,t.default=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){void 0===n&&(n=[0,0,0,1]);var r=e.call(this)||this;return r.text=t,r.color=new Float32Array(4),r.additiveBlendFactor=0,r.glyphLayoutChanged=function(){r.worldTransformNeedsUpdate=!0,r.text.removeEventListener("glyphLayoutChanged",r.glyphLayoutChanged)},r.color.set(n),r.transparent=!0,r.blendMode=t.blendMode,r}return r(t,e),Object.defineProperty(t.prototype,"_w",{get:function(){return this.text.w},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_h",{get:function(){return this.text.h},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"render",{get:function(){return this.text.render},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.onAdded=function(){0===this.text.w&&this.text.addEventListener("glyphLayoutChanged",this.glyphLayoutChanged)},t.prototype.allocateGPUResources=function(e){var t=this.text;t.gpuResourcesNeedAllocate&&(t.allocateGPUResources(e),t.gpuResourcesNeedAllocate=!1),this.gpuProgram=t.gpuProgram,this.gpuVertexState=t.gpuVertexState},t.prototype.releaseGPUResources=function(){},t.prototype.draw=function(e){this.text.worldTransformMat4=this.worldTransformMat4,this.text.color=this.color,this.text.additiveBlendFactor=this.additiveBlendFactor,this.text.draw(e)},t}(n(0).default);t.TextClone=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DEFAULT_SPRING={tension:250,friction:2*Math.sqrt(250)}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.None=0]="None",e[e.Unknown=1]="Unknown",e[e.Positive=2]="Positive",e[e.Negative=3]="Negative"}(r=t.Strand||(t.Strand={})),t.default=r},function(e,t,n){"use strict";var r,o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GENOME="GenomeNode",e.INFO="InfoNode",e.EDGE="EdgeNode"}(r||(r={})),t.QueryType=r;var i=function(){function e(e){void 0===e&&(e={}),this.query=JSON.parse(JSON.stringify(e))}return e.prototype.newGenomeQuery=function(){this.query={type:r.GENOME,filters:{},toEdges:[],arithmetics:[]}},e.prototype.newInfoQuery=function(){this.query={type:r.INFO,filters:{},toEdges:[]}},e.prototype.newEdgeQuery=function(){this.query={type:r.EDGE,filters:{},toNode:{}}},e.prototype.filterID=function(e){this.query.filters._id=e},e.prototype.filterType=function(e){this.query.filters.type=e},e.prototype.filterSource=function(e){this.query.filters.source=e},e.prototype.filterContig=function(e){if(this.query.type!==r.GENOME)throw new Error("filter contig only available for GenomeNodes");this.query.filters.contig=e},e.prototype.filterLength=function(e){if(this.query.type!==r.GENOME)throw new Error("Length only available for GenomeNodes");this.query.filters.length=e},e.prototype.filterName=function(e){this.query.filters.name=e},e.prototype.filterMaxPValue=function(e){this.query.filters["info.p-value"]={"<":e}},e.prototype.filterBiosample=function(e){this.query.filters["info.biosample"]=e},e.prototype.filterTargets=function(e){e.length>0&&(this.query.filters["info.targets"]={$all:e})},e.prototype.filterInfotypes=function(e){this.query.filters["info.types"]=e},e.prototype.filterAssay=function(e){this.query.filters["info.assay"]=e},e.prototype.filterOutType=function(e){this.query.filters["info.outtype"]=e},e.prototype.filterStartBp=function(e){if(this.query.type!==r.GENOME)throw new Error("filterStartBp is only available for an Genome Query.");this.query.filters.start=e},e.prototype.filterEndBp=function(e){if(this.query.type!==r.GENOME)throw new Error("filterEndBp is only available for an Genome Query.");this.query.filters.end=e},e.prototype.filterAffectedGene=function(e){this.query.filters.variant_affected_genes;this.query.filters["info.variant_affected_genes"]=e},e.prototype.filterVariantTag=function(e){this.query.filters.variant_tags;this.query.filters["info.variant_tags"]=e},e.prototype.searchText=function(e){this.query.filters.$text=e},e.prototype.setLimit=function(e){this.query.limit=e},e.prototype.addToEdge=function(e){if(this.query.type===r.EDGE)throw new Error("Edge can not be connect to another edge.");this.query.toEdges.push(e)},e.prototype.setToNode=function(e,t){if(void 0===t&&(t=!1),this.query.type!==r.EDGE)throw new Error("toNode is only available for an Edge Query.");this.query.toNode=e,this.query.reverse=t},e.prototype.addArithmeticIntersect=function(e){if(this.query.type!==r.GENOME)throw new Error("Arithmetic is only available for an Genome Query.");var t={operator:"intersect",target_queries:[e]};this.query.arithmetics.push(t)},e.prototype.addArithmeticWindow=function(e,t){if(void 0===t&&(t=1e3),this.query.type!==r.GENOME)throw new Error("Arithmetic is only available for an Genome Query.");var n={operator:"window",target_queries:[e],windowSize:t};this.query.arithmetics.push(n)},e.prototype.addArithmeticUnion=function(e){if(this.query.type!==r.GENOME)throw new Error("Arithmetic is only available for an Genome Query.");var t={operator:"union",target_queries:[e]};this.query.arithmetics.push(t)},e.prototype.setSpecialGWASQuery=function(){var e,t;if(this.query.type!==r.GENOME)throw new Error("setSpecialGWASQuery should be applied to a Genome Query.");if(!this.query.toEdges||this.query.toEdges<1)throw new Error("GWAS query should have at least 1 edge.");try{for(var n=o(this.query.toEdges),i=n.next();!i.done;i=n.next()){var a=i.value;if(!a.toNode||a.toNode.type!==r.INFO)throw new Error("The edge of GWAS query should connect to InfoNode.")}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.query.specialGWASQuery=!0},e.prototype.setUserFileID=function(e){this.query.userFileID=e},e.prototype.build=function(){return JSON.parse(JSON.stringify(this.query))},e}();t.QueryBuilder=i},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(65);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";var r=n(1),o=n(66),i=n(64),a=n(63),s=n(62),l=n(26),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(61);e.exports=function(e){return new Promise(function(t,c){var f=e.data,d=e.headers;r.isFormData(f)&&delete d["Content-Type"];var p=new XMLHttpRequest,h="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||s(e.url)||(p=new window.XDomainRequest,h="onload",v=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var y=e.auth.username||"",g=e.auth.password||"";d.Authorization="Basic "+u(y+":"+g)}if(p.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[h]=function(){if(p&&(4===p.readyState||v)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:e,request:p};o(t,c,r),p=null}},p.onerror=function(){c(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){c(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var m=n(60),b=(e.withCredentials||s(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}if("setRequestHeader"in p&&r.forEach(d,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),c(e),p=null)}),void 0===f&&(f=null),p.send(f)})}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){e.exports=n(71)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.sourceEvent=t,this.defaultPrevented=!1,this.propagationStopped=!1,this.target=e.target,this.worldX=e.worldX,this.worldY=e.worldY,this.canvasX=e.canvasX,this.canvasY=e.canvasY,this.localX=e.localX,this.localY=e.localY,this.fractionX=e.fractionX,this.fractionY=e.fractionY,this.buttonChange=e.buttonChange,this.buttonState=e.buttonState,this.altKey=e.altKey,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId,this.isPrimary=e.isPrimary,this.pointerType=e.pointerType,this.pressure=e.pressure,this.width=e.width,this.height=e.height,this.tiltX=e.tiltX,this.tiltY=e.tiltY}return e.prototype.preventDefault=function(){this.defaultPrevented=!0,this.sourceEvent.preventDefault()},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}();t.InteractionEvent=o,function(e){e[e.Pixel=1]="Pixel",e[e.Line=2]="Line",e[e.Page=3]="Page"}(t.WheelDeltaMode||(t.WheelDeltaMode={}));var i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.wheelDeltaMode=t.wheelDeltaMode,r.wheelDeltaX=t.wheelDeltaX,r.wheelDeltaY=t.wheelDeltaY,r.wheelDeltaZ=t.wheelDeltaZ,r}return r(t,e),t}(o);t.WheelInteractionEvent=i,t.default=o},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(i(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),a=(u=n.slice()).length,l=0;l<a;l++)u[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var a;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(a=i(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function o(){this.removeListener(e,o),n||(n=!0,t.apply(this,arguments))}return o.listener=t,this.on(e,o),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(2),a=function(e){function t(t,n,r){void 0===r&&(r=32768);var o=e.call(this,r,1)||this;return o.contig=t,o.query=n,o.tileSize=r,o.microLodThreshold=3,o.macroLodLevel=10,i.SiriusApi.getContigInfo(t).then(function(e){o.maximumX=e.length-1}),o}return r(t,e),t.prototype.mapLodLevel=function(e){return e<=this.microLodThreshold?0:this.macroLodLevel},t.prototype.getTilePayload=function(e){var t=e.x+1,n=t+e.span;return i.SiriusApi.getIntervalTrackData(this.contig,t,n,this.query).then(function(e){for(var t=new Float32Array(2*e.data.length),n=0;n<e.data.length;n++){var r=e.data[n];t[2*n+0]=r.start-1,t[2*n+1]=r.length}return t})},t}(o.TileStore);t.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=n(5),a=n(32),s=n(15),l=n(3),u=n(8),c=n(16),f=function(e){function t(t){var n=e.call(this,t)||this;return n.blendEnabled=!0,n._pendingTiles=new o.default,n._intervalTileCache=new o.default,n._onStage=new o.default,n.removeTile=function(e){n.remove(e)},n.setBlendMode(t.blendEnabled),n}return r(t,e),t.prototype.setContig=function(t){var n=this,r=this.model.tileStoreType+":"+JSON.stringify(this.model.query);this.tileStore=s.default.getTileStore(r,t,function(e){return new a.default(e,n.model.query)}),e.prototype.setContig.call(this,t)},t.prototype.setBlendMode=function(e){this.blendEnabled=e},t.prototype.updateDisplay=function(){var e=this;this._pendingTiles.markAllUnused(),this._onStage.markAllUnused();var t=this.x0,n=this.x1,r=n-t,o=this.getComputedWidth();if(o>0){var a=r/o,s=i.Scalar.log2(Math.max(a,1));this.tileStore.getTiles(t,n,a,!0,function(n){if(n.state===l.TileState.Complete)e.displayTileNode(n,.9,t,r,s);else{e._pendingTiles.get(e.contig+":"+n.key,function(){return e.createTileLoadingDependency(n)});var o=n.x+.5*n.span,i=e.tileStore.getTile(o,1<<e.tileStore.macroLodLevel,!1);i.state===l.TileState.Complete&&e.displayTileNode(i,.3,t,r,s)}})}this.displayNeedUpdate=!1,this._pendingTiles.removeUnused(this.removeTileLoadingDependency),this._onStage.removeUnused(this.removeTile),this.toggleLoadingIndicator(this._pendingTiles.count>0,!0)},t.prototype.displayTileNode=function(e,t,n,r,o){var a=this,s=this.contig+":"+t+":"+e.key,l=this._intervalTileCache.get(s,function(){return a.createTileNode(e)});l.layoutParentX=(e.x-n)/r,l.layoutW=e.span/r,l.z=t;var u=Math.pow(Math.max(o-2,0)/15,2);l.opacity=this.blendEnabled?i.Scalar.lerp(1,.1,i.Scalar.clamp(u,0,1)):1,this._onStage.get(s,function(){return a.add(l),l})},t.prototype.createTileNode=function(e){for(var t=.5*e.payload.length,n=new Array(t),r=0;r<t;r++){var o=e.payload[2*r+0],i=e.payload[2*r+1],a=(o-e.x)/e.span,s=i/e.span;n[r]={xFractional:a,wFractional:s,y:0,z:0,h:35,color:[74/255,52/255,226/255,.66]}}var l=new c.default(n);return l.minWidth=.5,l.blendFactor=.2,l.y=5,l.mask=this,l},t}(u.default);t.default=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=function(e){function t(t,n){var r=e.call(this,32768,1)||this;return r.model=t,r.contig=n,o.SiriusApi.getContigInfo(n).then(function(e){r.maximumX=e.length-1}),r}return r(t,e),t.prototype.mapLodLevel=function(e){return null==this.model.query?0:10*Math.floor(e/10)},t.prototype.getTilePayload=function(e){var t=e.x+1,n=t+e.span,r=this.model.query;return(r?o.SiriusApi.getVariantTrackData(this.contig,t,n,r):o.SiriusApi.getAllVariantTrackData(this.contig,t,n)).then(function(e){return e.data.map(function(e){return{id:e.id,baseIndex:e.start-1,refSequence:e.info.variant_ref?e.info.variant_ref:"",alts:e.info.variant_alt?e.info.variant_alt.split(","):[]}})})},t}(n(3).TileStore);t.VariantTileStore=i,t.default=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),a=n(6),s=n(5),l=n(15),u=n(3),c=n(34),f=n(0),d=n(9),p=n(12),h=n(13),v=n(8),y=n(16),g=n(20),m=n(2),b=function(e){function t(n){var r=e.call(this,n)||this;return r.macroLodBlendRange=1,r.macroLodThresholdLow=8,r.macroLodThresholdHigh=r.macroLodThresholdLow+r.macroLodBlendRange,r.pointerOverTrack=!1,r._microTileCache=new a.default,r._onStageAnnotations=new a.default,r._sequenceLabelCache=new a.default,r.createBaseLabel=function(e,n,o){var a=new d.Rect(0,0,n);a.blendFactor=0,a.mask=r,a.opacity=0,a.z=.5;a.addInteractionListener("pointermove",function(e){r.pointerOverTrack?(a.cursorStyle="pointer",i.Animator.springTo(a,{opacity:.6},250)):(a.cursorStyle=null,i.Animator.springTo(a,{opacity:0},250))}),a.addInteractionListener("pointerleave",function(){a.cursorStyle=null,i.Animator.springTo(a,{opacity:0},250)}),a.addInteractionListener("pointerup",function(e){r.pointerOverTrack&&e.isPrimary&&(e.preventDefault(),e.stopPropagation(),o())});var s=new f.default;s.z=0,s.layoutParentX=.5,s.layoutParentY=.5;if(null!==e){var l=t.baseTextInstances[e];void 0===l&&(l=t.baseTextInstances["?"]);var u=new g.default(l,[1,1,1,1]);u.additiveBlendFactor=1,u.layoutX=-.5,u.layoutY=-.5,u.mask=r,s.add(u),a.add(s)}return r.add(a),{root:a,textParent:s,text:null}},r.deleteBaseLabel=function(e){null!=e.text&&(e.textParent.remove(e.text),e.text.releaseGPUResources()),r.remove(e.root)},r.addInteractionListener("pointerenter",function(e){r.pointerOverTrack=!0}),r.addInteractionListener("pointerleave",function(e){r.pointerOverTrack=!1}),r}return r(t,e),t.prototype.setContig=function(t){var n=this,r=this.model.type+":"+JSON.stringify(this.model.query);this.tileStore=l.SharedTileStore.getTileStore(r,t,function(e){return new c.VariantTileStore(n.model,t)}),e.prototype.setContig.call(this,t)},t.prototype.updateDisplay=function(){var e=this;this._pendingTiles.markAllUnused(),this._onStageAnnotations.markAllUnused(),this._sequenceLabelCache.markAllUnused();var t=this.x0,n=this.x1,r=n-t,i=this.getComputedWidth();if(i>0){var a=r/i,l=s.default.log2(Math.max(a,1)),c=s.default.linstep(this.macroLodThresholdLow,this.macroLodThresholdHigh,l),f=1-c;this.model.query&&(f=1,c=0),f>0&&this.tileStore.getTiles(t,n,a,!0,function(n){var a,s,l,c;if(n.state===u.TileState.Complete){var d=1/r,p=i*d,h=Math.min(p-1,16),v=1*Math.min(Math.max((h-1)/15,0),1);if((v*=v)>0&&h>0)try{for(var g=o(n.payload),m=g.next();!m.done;m=g.next()){var b=m.value,x=b.baseIndex,_=0,T=b.refSequence.length,w=[1,0,0,1];try{for(var E=o(b.alts),P=E.next();!P.done;P=E.next()){var S=P.value,C=S.length,A=C-T;w=0===A?[1,1,1,1]:A<0?[1,.3,.5,1]:[.3,1,.5,1];for(var L=0;L<C;L++){var R=S[L];(N=(x+L-t)/r)+d<0||N>1||e.displayLabel(b.id,R,w,x,_,L,N,d,25,h,v,15)}_++}}catch(e){l={error:e}}finally{try{P&&!P.done&&(c=E.return)&&c.call(E)}finally{if(l)throw l.error}}if(0===_){var N;if((N=(x+0-t)/r)+d<0||N>1)continue;e.displayLabel(b.id,null,w,x,_,0,N,d,25,h,v,15)}}}catch(e){a={error:e}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}var O=e._microTileCache.get(e.contig+":"+n.key,function(){var t,r,i,a,s=new Array;try{for(var l=o(n.payload),u=l.next();!u.done;u=l.next()){var c=u.value,f=(c.baseIndex-n.x)/n.span,d=c.refSequence.length,p=[1,0,0,1],h=0;try{for(var v=o(c.alts),g=v.next();!g.done;g=v.next()){var m=g.value.length,b=m-d;p=0===b?[.8,.8,.8,.7]:b<0?[1,0,0,.7]:[0,1,0,.7],s.push({xFractional:f,y:25*h,z:0,wFractional:m/n.span,h:25,color:p}),h++}}catch(e){i={error:e}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}0===h&&s.push({xFractional:f,y:0,z:0,wFractional:d/n.span,h:25,color:[1,0,0,.5]}),s.push({xFractional:f,y:-5,z:0,wFractional:d/n.span,h:2,color:p.slice(0,3).concat([1])})}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}var x=new y.default(s);return x.minWidth=1,x.blendFactor=0,x.y=15,x.z=.75,x.mask=e,x});O.layoutParentX=(n.x-t)/r,O.layoutW=n.span/r,O.opacity=f,e._onStageAnnotations.get("micro-tile:"+e.contig+":"+n.key,function(){return e.add(O),O})}else e._pendingTiles.get(n.key,function(){return e.createTileLoadingDependency(n)})})}this._pendingTiles.removeUnused(this.removeTileLoadingDependency),this._onStageAnnotations.removeUnused(function(t){return e.remove(t)}),this._sequenceLabelCache.removeUnused(this.deleteBaseLabel),this.toggleLoadingIndicator(this._pendingTiles.count>0,!0),this.displayNeedUpdate=!1},t.prototype.displayLabel=function(e,t,n,r,o,i,a,s,l,u,c,f){var d=this,p=this.contig+":"+r+","+o+","+i,h=this._sequenceLabelCache.get(p,function(){return d.createBaseLabel(t,n,function(){var t={id:e,type:m.EntityType.SNP};console.log("@! todo: variant label clicked",t)})});h.root.layoutParentX=a,h.root.layoutW=s,h.root.y=o*l+f,h.root.h=l,h.textParent.sx=h.textParent.sy=u,null!=h.text&&(h.text.color[3]=c)},t.baseTextInstances={A:new p.Text(h.OpenSansRegular,"A",1,[1,1,1,1]),C:new p.Text(h.OpenSansRegular,"C",1,[1,1,1,1]),G:new p.Text(h.OpenSansRegular,"G",1,[1,1,1,1]),T:new p.Text(h.OpenSansRegular,"T",1,[1,1,1,1]),"?":new p.Text(h.OpenSansRegular,"?",1,[1,1,1,1])},t}(v.default);t.default=b},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(6),a=n(5),s=n(21),l=n(0),u=n(3),c=n(8),f=n(15),d=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.tileStoreType=n,o.tileStoreConstructor=r,o.densityMultiplier=1,o._pixelRatio=window.devicePixelRatio||1,o._tileNodeCache=new i.default,o.createTileNode=function(){var e=o.constructTileNode();return e.mask=o,o.add(e),e},o.deleteTileNode=function(e){e.setTile(null),e.releaseGPUResources(),o.remove(e)},o}return r(t,e),Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this._pixelRatio},set:function(e){this._pixelRatio=e,this.displayNeedUpdate=!0},enumerable:!0,configurable:!0}),t.prototype.setContig=function(t){this.tileStore=f.default.getTileStore(this.tileStoreType,t,this.tileStoreConstructor),e.prototype.setContig.call(this,t)},t.prototype.constructTileNode=function(){return new p},t.prototype.updateDisplay=function(){var e=this,t=this.x0,n=this.x1,r=n-t,o=this.getComputedWidth();if(this._tileNodeCache.markAllUnused(),o>0){var i=r/o,s=this.densityMultiplier*i/this.pixelRatio,l=a.default.log2(Math.max(s,1));Math.floor(l);this.tileStore.getTiles(t,n,s,!0,function(n){var o=e._tileNodeCache.get(e.contig+":"+n.key,e.createTileNode);if(e.updateTileNode(o,n,t,r,l),o.z=1,!e.tileNodeIsOpaque(o))for(var i=n.x+.5*n.span,a=1,c=1,f=1;f<30;f++){var d=s*(1<<f);if(!e.tileStore.isWithinInitializedLodRange(d))break;var p=e.tileStore.getTile(i,d,!1);if(p.lodLevel!==n.lodLevel&&(a>0&&p.state===u.TileState.Loading||p.state===u.TileState.Complete)){p.state===u.TileState.Loading&&a--;var h=e._tileNodeCache.get(e.contig+":"+p.key,e.createTileNode);if(e.updateTileNode(h,p,t,r,l),h.z=1-p.lodLevel/50-.1,p.state===u.TileState.Complete&&h.opacity<1){if(c<=0){e._tileNodeCache.markUnused(e.contig+":"+p.key);continue}c--}if(e.tileNodeIsOpaque(h))break}}})}this._tileNodeCache.removeUnused(this.deleteTileNode),this.displayNeedUpdate=!1},t.prototype.updateTileNode=function(e,t,n,r,o){e.layoutParentX=(t.x-n)/r,e.layoutW=t.span/r,e.layoutH=1,e.displayLodLevel=o,e.setTile(t)},t.prototype.tileNodeIsOpaque=function(e){return!0===e.render&&e.opacity>=1&&e.getTile().state===u.TileState.Complete},t}(c.TrackObject);t.ShaderTrack=d;var p=function(e){function t(){var t=e.call(this)||this;return t.tileCompleteListener=function(){t.tile.removeEventListener("complete",t.tileCompleteListener),t.onTileComplete()},t.opacity=1,t.render=!1,t}return r(t,e),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){this._opacity=e,this.transparent=e<1},enumerable:!0,configurable:!0}),t.prototype.setTile=function(e){e!==this.tile&&(null!=this.tile&&this.tile.removeEventListener("complete",this.tileCompleteListener),this.tile=e,null!=e?e.state===u.TileState.Complete?(this.opacity=1,this.onTileComplete()):(e.addEventListener("complete",this.tileCompleteListener),this.opacity=0,this.render=!1):this.render=!1)},t.prototype.getTile=function(){return this.tile},t.prototype.onTileComplete=function(){o.default.springTo(this,{opacity:1},s.DEFAULT_SPRING),this.render=!0,this.gpuResourcesNeedAllocate=!0},t}(l.default);t.TileNode=p,t.default=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(4),s=function(e){function t(t){var n=e.call(this,1024,8)||this;return n.sourceId=t,i.SiriusApi.getContigInfo(t).then(function(e){n.maximumX=e.length-1;n.getTiles(0,n.maximumX,e.length/512,!0,function(){})}).catch(function(){console.warn("Could not determine sequence length")}),n}return r(t,e),t.prototype.mapLodLevel=function(e){return 2*Math.floor(e/2)},t.prototype.getTilePayload=function(e){var t=this;return i.SiriusApi.loadACGTSubSequence(this.sourceId,e.lodLevel,e.lodX,e.lodSpan).then(function(n){return o({},n,{dataUploaded:!1,getTexture:function(n){var r=t.getBlockPayload(e).getTexture(n);if(!this.dataUploaded){var o=this.array.length/4;r.updateTextureData(0,a.TextureFormat.RGBA,this.array,0,e.blockRowIndex,Math.min(r.w,o),1),this.dataUploaded=!0}return r}})})},t.prototype.createBlockPayload=function(e,t,n,r){return{_gpuTexture:null,getTexture:function(t){return null===this._gpuTexture&&(this._gpuTexture=t.createTexture({format:a.TextureFormat.RGBA,generateMipmaps:!1,mipmapData:null,width:n,height:r,dataType:a.TextureDataType.UNSIGNED_BYTE,samplingParameters:{magFilter:e>0?a.TextureMagFilter.LINEAR:a.TextureMagFilter.NEAREST,minFilter:a.TextureMinFilter.LINEAR,wrapS:a.TextureWrapMode.CLAMP_TO_EDGE,wrapT:a.TextureWrapMode.CLAMP_TO_EDGE},pixelStorage:{packAlignment:1,unpackAlignment:1,flipY:!1,premultiplyAlpha:!1,colorSpaceConversion:a.ColorSpaceConversion.NONE}})),this._gpuTexture}}},t.prototype.releaseBlockPayload=function(e){null!=e._gpuTexture&&(e._gpuTexture.delete(),e._gpuTexture=null)},t}(n(3).default);t.SequenceTileStore=s,t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=n(5),a=n(37),s=n(3),l=n(4),u=n(11),c=n(0),f=n(10),d=n(12),p=n(13),h=n(36),v=n(20),y=function(e){function t(t){var n=e.call(this,t,"sequence",function(e){return new a.SequenceTileStore(e)})||this;return n.densityMultiplier=2,n.color.set([0,0,0,1]),n}return r(t,e),t.prototype.constructTileNode=function(){return new _},t}(h.ShaderTrack);t.SequenceTrack=y;var g=new Float32Array([.216,.063,.318,1]),m=new Float32Array([.2,.2,.404,1]),b=new Float32Array([.043,.561,.608,1]),x=new Float32Array([.071,.725,.541,1]),_=function(e){function t(){var n=e.call(this)||this;return n._labelCache=new o.UsageCache,n.createLabel=function(e){var r=new v.TextClone(t.baseTextInstances[e],[1,1,1,1]);r.additiveBlendFactor=1,r.layoutX=-.5,r.layoutY=-.5;var o=new c.default;return o.add(r),n.add(o),{container:o,text:r}},n.deleteLabel=function(e){e.container.remove(e.text),e.text.releaseGPUResources(),n.remove(e.container)},n}return r(t,e),t.prototype.setTile=function(t){e.prototype.setTile.call(this,t),null!=this.tile&&(this.memoryBlockY=(t.blockRowIndex+.5)/t.block.rows.length)},t.prototype.applyTransformToSubNodes=function(t){this.computedWidth===this._lastComputedWidth&&this._lastComputedX===this.computedX||(this._lastComputedWidth=this.computedWidth,this._lastComputedX=this.computedX,this.updateLabels()),e.prototype.applyTransformToSubNodes.call(this,t)},t.prototype.allocateGPUResources=function(e){this.gpuVertexState=f.default.quad1x1VertexState,this.gpuProgram=f.default.getProgram(e,t.vertexShader,t.fragmentShader,t.attributeLayout),this.gpuTexture=this.tile.payload.getTexture(e)},t.prototype.releaseGPUResources=function(){this.gpuVertexState=null,this.gpuProgram=null,this.gpuTexture=null},t.prototype.draw=function(e){var t=this.tile.payload;e.uniform2f("size",this.computedWidth,this.computedHeight),e.uniformMatrix4fv("model",!1,this.worldTransformMat4),e.uniform1f("opacity",this.opacity),e.uniform1f("memoryBlockY",this.memoryBlockY),e.uniform3f("offsetScaleLod",t.sequenceMinMax.min,t.sequenceMinMax.max-t.sequenceMinMax.min,this.displayLodLevel),e.uniformTexture2D("memoryBlock",this.gpuTexture),e.draw(u.DrawMode.TRIANGLES,6,0),this.tile.markLastUsed()},t.prototype.updateLabels=function(){var e=this,t=this.tile;if(this._labelCache.markAllUnused(),null!=t&&0===t.lodLevel&&t.state===s.TileState.Complete){var n=t.payload.array,r=1/t.lodSpan,o=this.computedWidth*r,a=Math.min(o-3,16),l=.7*Math.min(Math.max((a-5)/11,0),1);if((l*=l)>0&&a>0)for(var u=t.payload.array.length/4,c=-this.layoutParentX/this.layoutW,f=(1-this.layoutParentX)/this.layoutW,d=i.Scalar.clamp(Math.floor(c/r),0,u-1),p=i.Scalar.clamp(Math.floor(f/r),0,u-1),h=function(t){var o,i=n[4*t+0]/255,s=n[4*t+1]/255,u=n[4*t+2]/255,c=n[4*t+3]/255;o=i>.5?"A":s>.5?"C":c>.5?"T":u>.5?"G":"N";var f=v._labelCache.get(t+"",function(){return e.createLabel(o)});f.container.layoutParentX=(t+.5)*r,f.container.layoutParentY=.5,f.container.sx=f.container.sy=a,f.text.mask=v.mask,f.text.color[3]=l},v=this,y=d;y<=p;y++)h(y)}this._labelCache.removeUnused(this.deleteLabel)},t.prototype.onTileComplete=function(){e.prototype.onTileComplete.call(this),this.updateLabels()},t.attributeLayout=[{name:"position",type:l.AttributeType.VEC2}],t.vertexShader="\n        #version 100\n\n        attribute vec2 position;\n        uniform mat4 model;\n        uniform vec2 size;\n        uniform float memoryBlockY;\n\n        varying vec2 texCoord;\n        varying vec2 vUv;\n\n        void main() {\n            texCoord = vec2(position.x, memoryBlockY);\n            vUv = position;\n            gl_Position = model * vec4(position * size, 0., 1.0);\n        }\n    ",t.fragmentShader="\n        #version 100\n\n        precision mediump float;\n        uniform float opacity;\n        uniform sampler2D memoryBlock;\n        uniform vec3 offsetScaleLod;\n\n        varying vec2 texCoord;\n        varying vec2 vUv;\n\n        float contrastCurve(float x, float s) {\n            float s2 = pow(2.0, s);\n            float px = pow(4.0, -s * x);\n            return ((s2 + 1.)/(s2*px + 1.0) - 1.) / (s2 - 1.0);\n        }\n\n        vec3 viridis( float x ) {\n            x = clamp(x, 0., 1.0);\n            vec4 x1 = vec4( 1.0, x, x * x, x * x * x ); // 1 x x2 x3\n            vec4 x2 = x1 * x1.w * x; // x4 x5 x6 x7\n            return vec3(\n                dot( x1, vec4( +0.280268003, -0.143510503, +2.225793877, -14.81508888 ) ) + dot( x2.xy, vec2( +25.212752309, -11.77258958 ) ),\n                dot( x1, vec4( -0.002117546, +1.617109353, -1.909305070, +2.701152864 ) ) + dot( x2.xy, vec2(  -1.685288385, +0.178738871 ) ),\n                dot( x1, vec4( +0.300805501, +2.614650302, -12.01913909, +28.93355911 ) ) + dot( x2.xy, vec2( -33.491294770, +13.76205384 ) )\n            );\n        }\n        \n        void main() {\n            vec4 texRaw = texture2D(memoryBlock, texCoord);\n            // unpack data\n            vec4 acgt = texRaw * offsetScaleLod.y + offsetScaleLod.x;\n\n            // micro-scale color\n            const vec3 aRgb = vec4("+g.join(", ")+").rgb;\n            const vec3 tRgb = vec4("+m.join(", ")+").rgb;\n            const vec3 cRgb = vec4("+b.join(", ")+").rgb;\n            const vec3 gRgb = vec4("+x.join(", ")+").rgb;\n\n            vec3 colMicro = (\n                    acgt[0] * aRgb +\n                    acgt[1] * cRgb +\n                    acgt[2] * gRgb +\n                    acgt[3] * tRgb\n            );\n\n            // blend into to macro-scale color\n            // macro-scale simulates g-banding with a non-linear response\n            float tileLodLevel = offsetScaleLod.z;\n            float q = tileLodLevel - 5.0;\n            float expectedSpan = min(pow(0.9, q), 1.0);\n            float expectedAvg = min(pow(0.8, q) * 0.25 + 0.25, 0.5);\n            vec4 acgtScaled = (acgt - expectedAvg) / expectedSpan + 0.5;\n\n            float gc = (acgtScaled[1] + acgtScaled[2]) * 0.5;\n\n            float gcCurved = (contrastCurve(gc, 4.) + 0.3 * gc * gc);\n            vec3 colMacro = (\n                viridis(gcCurved) +\n                vec3(30.) * pow(gc, 12.0) // tend to white at highest-density\n            );\n\n            const float microScaleEndLod = 6.0;\n            float displayLodLevel = offsetScaleLod.z;\n            float microMacroMix = clamp((displayLodLevel - microScaleEndLod) / microScaleEndLod, 0., 1.0);\n\n            gl_FragColor = vec4(mix(colMicro, colMacro, microMacroMix), 1.0) * opacity;\n\n            /**\n            // for debug: makes tiling visible\n            float debugMask = step(0.45, vUv.y) * step(vUv.y, 0.55);\n            vec4 debugColor = vec4(vUv.xxx, 1.0);\n            gl_FragColor = mix(gl_FragColor, debugColor, debugMask);\n            /**/\n        }\n    ",t.baseTextInstances={A:new d.Text(p.OpenSansRegular,"A",1,[1,1,1,1]),C:new d.Text(p.OpenSansRegular,"C",1,[1,1,1,1]),G:new d.Text(p.OpenSansRegular,"G",1,[1,1,1,1]),T:new d.Text(p.OpenSansRegular,"T",1,[1,1,1,1]),N:new d.Text(p.OpenSansRegular,"N",1,[1,1,1,1])},t}(h.TileNode);t.default=y},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=n(0),s=n(10),l=function(e){function t(t,n,r,a){var s,l,u=e.call(this)||this;u.vertexAttributeLayout=n,u.instanceAttributeLayout=r,u.instanceFieldExtractors=a,u.render=!0,u.attributeLayout=u.vertexAttributeLayout.concat(u.instanceAttributeLayout),u.instanceCount=t.length,u.instancePacking={};var c=0;try{for(var f=o(u.instanceAttributeLayout),d=f.next();!d.done;d=f.next()){var p=d.value,h=i.shaderTypeLength[p.type];u.instancePacking[p.name]={length:h,offset:c},c+=h}}catch(e){s={error:e}}finally{try{d&&!d.done&&(l=f.return)&&l.call(f)}finally{if(s)throw s.error}}u.instancePackLength=c,u.instanceDataArray=new Float32Array(u.instancePackLength*t.length);for(var v=0;v<t.length;v++)u.writeInstanceAttributes(u.instanceDataArray,t[v],v);return u}return r(t,e),t.prototype.updateInstance=function(e,t){if(this.writeInstanceAttributes(this.instanceDataArray,t,e),null!=this.gpuInstanceBuffer){var n=e*this.instancePackLength,r=4*n;this.gpuInstanceBuffer.updateBufferData(this.instanceDataArray.subarray(n,n+this.instancePackLength),r)}},t.prototype.allocateGPUResources=function(e){var t,n;this.gpuInstanceBuffer=e.createBuffer({data:this.instanceDataArray});var r={};try{for(var i=o(this.instanceAttributeLayout),a=i.next();!a.done;a=i.next()){var l=a.value;r[l.name]={buffer:this.gpuInstanceBuffer,offsetBytes:4*this.instancePacking[l.name].offset,strideBytes:4*this.instancePackLength,instanceDivisor:1}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}this.gpuVertexState=this.allocateGPUVertexState(e,this.attributeLayout,r),this.gpuProgram=s.default.getProgram(e,this.getVertexCode(),this.getFragmentCode(),this.attributeLayout)},t.prototype.releaseGPUResources=function(){null!=this.gpuVertexState&&(this.gpuVertexState.delete(),this.gpuVertexState=null),null!=this.gpuInstanceBuffer&&(this.gpuInstanceBuffer.delete(),this.gpuInstanceBuffer=null),this.gpuProgram=null},t.prototype.writeInstanceAttributes=function(e,t,n){var r,i,a=this.instancePackLength*n;try{for(var s=o(this.instanceAttributeLayout),l=s.next();!l.done;l=s.next()){var u=l.value.name,c=this.instancePacking[u],f=a+c.offset,d=this.instanceFieldExtractors[u](t);d.length!==c.length&&console.warn("Instance attribute data length was "+d.length+", but expected length "+c.length),e.set(d,f)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},t.prototype.allocateGPUVertexState=function(e,t,n){return null},t.prototype.getVertexCode=function(){return null},t.prototype.getFragmentCode=function(){return null},t}(a.default);t.Object2DInstances=l,t.default=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(3),s=n(2),l=s.AnnotationTileset.TranscriptComponentClass,u=s.AnnotationTileset.GenomeFeatureType,c=function(e){function t(t,n,r){void 0===n&&(n=1<<20),void 0===r&&(r=!1);var o=e.call(this,n,1)||this;return o.contig=t,o.macro=r,i.SiriusApi.getContigInfo(t).then(function(e){o.maximumX=e.length-1}),o}return r(t,e),t.prototype.mapLodLevel=function(e){return 0},t.prototype.getTilePayload=function(e){return i.SiriusApi.loadAnnotations(this.contig,this.macro,e.x,e.span).then(function(e){for(var t,n,r=new Array,i=-1,a=0;a<e.length;a++){var s=e[a];if(s.type-i>1&&console.warn("Invalid gene feature nesting: "+u[i]+" -> "+u[s.type]),i=s.type,s.type===u.Gene)t=o({},s,{transcripts:[]}),r.push(t);if(s.type===u.Transcript){var c=s;if(null==t){console.warn("Out of order Transcript  no parent gene found");continue}n=o({},c,{exon:[],cds:[],utr:[],other:[]}),t.transcripts.push(n)}if(s.type===u.TranscriptComponent){var f=s;if(null==n){console.warn("Out of order TranscriptComponent  no parent transcript found");continue}switch(f.class){case l.Exon:n.exon.push(f);break;case l.ProteinCodingSequence:var d=n.cds[n.cds.length-1];null!=d&&d.startIndex>=f.startIndex&&console.warn("Out of order CDS  Protein coding components must be sorted by startIndex"),n.cds.push(f);break;case l.Untranslated:n.utr.push(f);break;default:n.other.push(f)}}}return r})},t}(a.TileStore);t.AnnotationTileStore=c;var f=function(e){function t(t){return e.call(this,t,1<<25,!0)||this}return r(t,e),t}(c);t.MacroAnnotationTileStore=f,t.default=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(2),s=n(2),l=n(7),u=n(6),c=n(5),f=n(40),d=n(15),p=n(3),h=n(11),v=n(0),y=n(9),g=n(12),m=n(13),b=n(8),x=n(16),_=n(2),T=function(e){function t(t){var n=e.call(this,t)||this;return n.macroLodBlendRange=2,n.macroLodThresholdLow=10,n.macroLodThresholdHigh=n.macroLodThresholdLow+n.macroLodBlendRange,n.namesLodBlendRange=2,n.namesLodThresholdLow=9,n.namesLodThresholdHigh=n.namesLodThresholdLow+n.namesLodBlendRange,n.pointerState={pointerOver:!1},n._macroTileCache=new u.default,n._annotationCache=new u.default,n._onStageAnnotations=new u.default,n.addAnnotation=function(e){n.add(e)},n.removeAnnotation=function(e){n.remove(e)},n.deleteAnnotation=function(e){e.releaseGPUResources(),e.forEachSubNode(function(e){e.releaseGPUResources()})},n.annotationKey=function(e){return e.soClass+""+e.name+""+e.startIndex+""+e.length},n.color.set([.1,.1,.1,1]),n.addInteractionListener("pointerenter",function(e){n.pointerState.pointerOver=!0}),n.addInteractionListener("pointerleave",function(e){n.pointerState.pointerOver=!1}),n}return r(t,e),t.prototype.setContig=function(t){this.annotationStore=d.default.getTileStore("annotation",t,function(e){return new f.AnnotationTileStore(e)}),this.macroAnnotationStore=d.default.getTileStore("macroAnnotation",t,function(e){return new f.MacroAnnotationTileStore(e)}),e.prototype.setContig.call(this,t)},t.prototype.updateDisplay=function(){this._pendingTiles.markAllUnused(),this._onStageAnnotations.markAllUnused();var e=this.x0,t=this.x1,n=t-e,r=this.getComputedWidth();if(r>0){var o=n/r,i=c.Scalar.log2(Math.max(o,1)),a=c.Scalar.linstep(this.macroLodThresholdLow,this.macroLodThresholdHigh,i),s=1-a;s>0&&this.updateMicroAnnotations(e,t,n,o,i,s),a>0&&this.updateMacroAnnotations(e,t,n,o,a)}this._pendingTiles.removeUnused(this.removeTileLoadingDependency),this._onStageAnnotations.removeUnused(this.removeAnnotation),this.toggleLoadingIndicator(this._pendingTiles.count>0,!0),this.displayNeedUpdate=!1},t.prototype.updateMacroAnnotations=function(e,t,n,r,i){var s=this;this.macroAnnotationStore.getTiles(e,t,r,!0,function(t){if(t.state===p.TileState.Complete){var r=s._macroTileCache.get(s.contig+":"+t.key,function(){var e,n,r=new Array,i=[82/255,75/255,165/255,.4],l=[26/255,174/255,222/255,.4];try{for(var u=o(t.payload),c=u.next();!c.done;c=u.next()){var f=c.value;if(f.strand===s.model.strand){var d=f.class===a.AnnotationTileset.GeneClass.NonProteinCoding?i:l,p=20*f.transcriptCount+10*(f.transcriptCount-1)+60;r.push({xFractional:(f.startIndex-t.x)/t.span,y:0,z:0,wFractional:f.length/t.span,h:p,color:d})}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}var h=new x.default(r);return h.y=0,h.z=.75,h.mask=s,h});r.layoutParentX=(t.x-e)/n,r.layoutW=t.span/n,r.opacity=i,s._onStageAnnotations.get("macro-gene-tile:"+s.contig+":"+t.key,function(){return s.addAnnotation(r),r})}else s._pendingTiles.get(s.contig+":"+t.key,function(){return s.createTileLoadingDependency(t)})})},t.prototype.updateMicroAnnotations=function(e,t,n,r,i,a){var s=this,l=1-c.Scalar.linstep(this.namesLodThresholdLow,this.namesLodThresholdHigh,i);this.annotationStore.getTiles(e,t,r,!0,function(r){var i,u;if(r.state===p.TileState.Complete){var c=function(r){if(!(r.startIndex<=t&&r.startIndex+r.length>=e))return"continue";if(r.strand!==s.model.strand)return"continue";var o=s.contig+":"+s.annotationKey(r),i=s._annotationCache.get(o,function(){var e=new w(r,s.pointerState);return e.y=40,e.layoutH=0,e.z=.25,e.mask=s,e.forEachSubNode(function(e){return e.mask=s}),e});i.nameOpacity=l,s._onStageAnnotations.get(o,function(){return s.addAnnotation(i),i}),i.layoutParentX=(r.startIndex-e)/n,i.layoutW=r.length/n,i.opacity=a};try{for(var f=o(r.payload),d=f.next();!d.done;d=f.next()){c(d.value)}}catch(e){i={error:e}}finally{try{d&&!d.done&&(u=f.return)&&u.call(f)}finally{if(i)throw i.error}}}else s._pendingTiles.get(s.contig+":"+r.key,function(){return s.createTileLoadingDependency(r)})})},t}(b.default);t.AnnotationTrack=T;var w=function(e){function t(t,n){var r=e.call(this)||this;r.gene=t,r._opacity=1,r.onTranscriptClick=function(e){if(null!=r.gene.name){var t=new s.QueryBuilder;t.newGenomeQuery(),t.filterName(r.gene.name.toUpperCase()),t.setLimit(1);var n=t.build();_.SiriusApi.getQueryResults(n,!1).then(function(e){if(e.data.length>0){var t=e.data[0];console.log("@! todo: transcript clicked",t)}else alert("Data not found")})}else console.warn("Cannot search for a gene with no name",r.gene)},r.name=new g.default(m.OpenSansRegular,t.name,16,[1,1,1,1]),r.name.layoutY=-1,r.name.y=-5,r.add(r.name);for(var o=0;o<t.transcripts.length;o++){var i=t.transcripts[o],a=new E(i,t.strand,r.onTranscriptClick,n);a.h=20,a.y=30*o+5,a.layoutParentX=(i.startIndex-t.startIndex)/t.length,a.layoutW=i.length/t.length,r.add(a)}return r}return r(t,e),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){var t,n;this._opacity=e;try{for(var r=o(this.children),i=r.next();!i.done;i=r.next()){i.value.opacity=e}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nameOpacity",{get:function(){return this.name.color[3]},set:function(e){this.name.color[3]=e,this.name.visible=e>=0},enumerable:!0,configurable:!0}),t}(v.default),E=function(e){function t(t,n,r,s){var u,c,f,d,p,h=e.call(this)||this;h.transcript=t,h._opacity=1;(u={})[a.AnnotationTileset.TranscriptClass.Unspecified]=[.5,.5,.5,.25],u[a.AnnotationTileset.TranscriptClass.ProteinCoding]=[1,0,1,.25],u[a.AnnotationTileset.TranscriptClass.NonProteinCoding]=[0,1,1,.25];var v=[107/255,109/255,136/255,.17],g=v[3],m=3*g,b=new y.Rect(0,0,v);b.cursorStyle="pointer",b.z=0,b.transparent=!0,b.layoutW=1,b.layoutH=1,h.add(b);b.addInteractionListener("pointermove",function(e){s.pointerOver?(b.cursorStyle="pointer",l.default.springTo(b.color,{3:m},300)):(b.cursorStyle=null,l.default.springTo(b.color,{3:g},300))}),b.addInteractionListener("pointerleave",function(){b.cursorStyle=null,l.default.springTo(b.color,{3:g},300)}),b.addInteractionListener("pointerup",function(e){s.pointerOver&&e.isPrimary&&(e.preventDefault(),e.stopPropagation(),r(t))});var x=new A(n);x.color.set([138/255,136/255,191/255,.38]),x.h=10,x.layoutW=1,x.layoutY=-.5,x.layoutParentY=.5,x.z=.1,x.transparent=!0,h.add(x);try{for(var _=o(t.exon),T=_.next();!T.done;T=_.next()){var w=T.value,E=new P;E.z=.25,E.layoutH=1,E.layoutParentX=(w.startIndex-t.startIndex)/t.length,E.layoutW=w.length/t.length,h.add(E)}}catch(e){c={error:e}}finally{try{T&&!T.done&&(f=_.return)&&f.call(_)}finally{if(c)throw c.error}}try{for(var L=o(t.utr),R=L.next();!R.done;R=L.next()){var N=R.value,O=new S;O.z=.5,O.layoutH=1,O.layoutParentX=(N.startIndex-t.startIndex)/t.length,O.layoutW=N.length/t.length,h.add(O)}}catch(e){d={error:e}}finally{try{R&&!R.done&&(p=L.return)&&p.call(L)}finally{if(d)throw d.error}}for(var I=n===i.Strand.Negative,M=0,U=0;U<t.cds.length;U++){var k=I?t.cds.length-1-U:U,B=t.cds[k],F=new C(B.length,B.phase,n,M);F.z=.75,F.layoutH=1,F.layoutParentX=(B.startIndex-t.startIndex)/t.length,F.layoutW=B.length/t.length,h.add(F),M+=B.length}return h}return r(t,e),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){var t,n;this._opacity=e;try{for(var r=o(this.children),i=r.next();!i.done;i=r.next()){i.value.opacity=e}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},enumerable:!0,configurable:!0}),t}(v.default),P=function(e){function t(){var t=e.call(this,0,0)||this;return t.color.set([82/255,75/255,165/255,.3]),t.transparent=!0,t}return r(t,e),t.prototype.draw=function(t){e.prototype.draw.call(this,t)},t.prototype.getFragmentCode=function(){return"\n            #version 100\n\n            precision highp float;\n\n            uniform vec2 size;\n\n            uniform vec4 color;\n\n            varying vec2 vUv;\n\n            void main() {\n                vec2 domPx = vUv * size;\n\n                const vec2 borderWidthPx = vec2(1.);\n                const float borderStrength = 0.3;\n\n                vec2 inner = step(borderWidthPx, domPx) * step(domPx, size - borderWidthPx);\n                float border = inner.x * inner.y;\n\n                vec4 c = color;\n                c.rgb += (1.0 - border) * vec3(borderStrength);\n\n                gl_FragColor = vec4(c.rgb, 1.0) * c.a;\n            }\n        "},t}(y.Rect),S=function(e){function t(){var t=e.call(this,0,0)||this;return t.color.set([138/255,136/255,191/255,.38]),t.transparent=!0,t}return r(t,e),t.prototype.draw=function(t){t.uniform1f("pixelRatio",this.worldTransformMat4[0]*t.viewport.w*.5),e.prototype.draw.call(this,t)},t.prototype.getFragmentCode=function(){return"\n            #version 100\n\n            precision highp float;\n\n            uniform vec2 size;\n            uniform vec4 color;\n            uniform float pixelRatio;\n\n            varying vec2 vUv;\n\n            void main() {\n                vec2 domPx = vUv * size;\n\n                const vec2 borderWidthPx = vec2(1.);\n\n                vec2 inner = step(borderWidthPx, domPx) * step(domPx, size - borderWidthPx);\n                float border = inner.x * inner.y;\n\n                // crosshatch\n                const float angle = -0.520;\n                const float widthPx = 2.;\n                const float wavelengthPx = 7.584;\n                const float lineStrength = 0.25;\n\n                vec2 centerPx = domPx - size * 0.5;\n\n                float lPx = centerPx.x * cos(angle) - centerPx.y * sin(angle);\n                // not antialiased but looks good enough with current color scheme\n                float lines = step(widthPx, mod(lPx, wavelengthPx)) * lineStrength + (1. - lineStrength);\n\n                vec4 c = color;\n                c.rgb += (1.0 - border * lines) * vec3(0.3);\n\n                gl_FragColor = vec4(c.rgb, 1.0) * c.a;\n            }\n        "},t}(y.Rect),C=function(e){function t(t,n,r,o){var a=e.call(this,0,0)||this;return a.length_bases=t,a.phase=n,(n>0?1:0)!==Math.floor(o/3)%2&&(a.phase+=3),a.reverse=r===i.Strand.Negative?1:0,a.color.set([26/255,174/255,222/255,.58]),a.transparent=!0,a.blendMode=h.BlendMode.PREMULTIPLIED_ALPHA,a}return r(t,e),t.prototype.draw=function(t){t.uniform1f("baseWidthPx",this.computedWidth/this.length_bases),t.uniform1f("phase",this.phase||0),t.uniform1f("reverse",this.reverse),t.uniform1f("pixelRatio",this.worldTransformMat4[0]*t.viewport.w*.5),e.prototype.draw.call(this,t)},t.prototype.getFragmentCode=function(){return"\n            #version 100\n\n            precision highp float;\n\n            uniform vec2 size;\n\n            uniform float pixelRatio;\n            uniform float baseWidthPx;\n            uniform float phase;\n            uniform float reverse;\n\n            uniform vec4 color;\n\n            varying vec2 vUv;\n\n            float squareWaveIntegral(in float x, in float wavelength) {\n                float k = x / wavelength;\n                float u = fract(k);\n                float wave = step(0.5, u) * 2.0 - 1.0;\n                return (fract(k * wave) - 1.) * wavelength;\n            }\n\n            float squareWaveAntialiased(in float xPixels, in float wavelengthPixels) {\n                // antialiasing: we find the average over the pixel by sampling signal integral either side and dividing by sampling interval (1 in this case)\n                float waveAvg = squareWaveIntegral(xPixels + 0.5, wavelengthPixels) - squareWaveIntegral(xPixels - 0.5, wavelengthPixels);\n\n                // lerp to midpoint (0) for small wavelengths (~ 1 pixel) to avoid moire patterns\n                waveAvg = mix(waveAvg, 0., clamp(2. - wavelengthPixels, 0., 1.0));\n                return waveAvg;\n            }\n\n            void main() {\n                vec2 domPx = vUv * size;\n\n                const vec2 borderWidthPx = vec2(1.);\n                vec2 inner = step(borderWidthPx, domPx) * step(domPx, size - borderWidthPx);\n                float border = inner.x * inner.y;\n\n                // two-tones for codons\n                vec4 codonAColor = color;\n                vec4 codonBColor = color + vec4(0.05);\n                // a codon is 3 bases wide\n                float codonWidthPx = baseWidthPx * 3.0;\n\n                // use square wave to create codon tones\n                // we use true pixel coordinates to make antialiasing easier\n                float xPixels = (mix(domPx.x, size.x - domPx.x, reverse) - baseWidthPx * phase) * pixelRatio;\n                float wavelengthPixels = codonWidthPx * pixelRatio * 2.0;\n\n                float codon = squareWaveAntialiased(xPixels, wavelengthPixels) * 0.5 + 0.5; // scale wave to 0 - 1\n\n                vec4 c =\n                    mix(codonAColor, codonBColor, codon); // switch between codon colors\n\n                c.rgb += (1.0 - border) * vec3(0.3); // additive blend border\n\n                gl_FragColor = vec4(c.rgb, 1.0) * c.a;\n            }\n        "},t}(y.Rect),A=function(e){function t(t){var n=e.call(this,0,0)||this;return n.direction=t,n.color.set([0,1,0,1]),n}return r(t,e),t.prototype.draw=function(t){t.uniform2f("pixelSize",1/t.viewport.w,1/t.viewport.h),t.uniform1f("reverse",this.direction===i.Strand.Negative?1:0),e.prototype.draw.call(this,t)},t.prototype.getFragmentCode=function(){return"\n            #version 100\n\n            precision highp float;\n\n            uniform vec2 pixelSize;\n            uniform vec2 size;\n            uniform float reverse;\n\n            uniform vec4 color;\n\n            varying vec2 vUv;\n\n            float distanceToSegment(vec2 a, vec2 b, vec2 p) {\n                p -= a; b -= a;                        // go to A referential\n                float q = dot(p, b) / dot(b, b) ;      // projection of P on line AB: normalized ordinate\n                b *= clamp(q, 0., 1.);                 // point on segment AB closest to P\n                return length( p - b);                 // distance to P\n            }\n\n            float lineSegment(vec2 x, vec2 a, vec2 b, float r, vec2 pixelSize) {\n                float f = distanceToSegment(a, b, x);\n                float e = pixelSize.x * 0.5;\n                return smoothstep(r - e, r + e, f);\n            }\n\n            void main() {\n                vec2 x = vec2(vUv.x, vUv.y - 0.5);\n\n                x.x = mix(x.x, 1.0 - x.x, reverse);\n\n                float n = 2.0;\n                x *= n; x.x = fract(x.x);\n\n                vec2 p = x * size;\n\n                float m = 1.0 - (\n                    // arrow\n                    lineSegment(\n                        p + vec2(-size.x * 0.5, 0.0),\n                        vec2(-10.0, -10.0) * 0.75,\n                        vec2(  0.0,   0.0),\n                        1.0,\n                        pixelSize\n                    ) *\n                    lineSegment(\n                        p + vec2(-size.x * 0.5, 0.0),\n                        vec2(-10.0, 10.0) * 0.75,\n                        vec2(  0.0,  0.0),\n                        1.0,\n                        pixelSize\n                    ) *\n\n                    // middle line\n                    lineSegment(x, vec2(0), vec2(1.0, 0.), 0.1, pixelSize)\n                );\n\n                vec3 rgb = color.rgb * m;\n                float a = m * color.a;\n\n                gl_FragColor = vec4(rgb, 1.0) * a; return;\n\n\n                /*\n\n                float h = 0.1;\n                float l = lineSegment(\n                    uv,\n                    vec2(0.5 - w * 0.5,  0.5),\n                    vec2(0.5 + w * 0.5,  0.5),\n                    h,\n                    pixelSize\n                );\n\n                gl_FragColor = vec4(0., 0., l, 1.); return;\n\n                float r = size.x / size.y;\n\n                vec2 x = vec2(vUv.x, vUv.y - 0.5);\n                x.x *= r;\n                x *= 1.0; x.x = fract(x.x);\n\n                vec2 lx = vec2(x.x - 0.5, x.y);\n                float lines = 1.0 - (\n                    lineSegment(lx, vec2(-0.25,  0.25), vec2(0), 0.05, pixelSize) *\n                    lineSegment(lx, vec2(-0.25, -0.25), vec2(0), 0.05, pixelSize)\n                );\n\n                // gl_FragColor = vec4(lx, 0., 1.); return;\n\n                gl_FragColor = vec4(vec3(lines), 1.);\n                */\n            }\n        "},t}(y.Rect);t.default=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(41),o=n(38),i=n(8),a=n(35),s=n(33);function l(e){switch(e.type){case"empty":return new i.default(e);case"sequence":return new o.default(e);case"annotation":return new r.default(e);case"variant":return new a.default(e);case"interval":return new s.default(e);default:return console.error('Not able to construct a "'+e.type+'" track'),null}}t.ConstructTrack=l,t.default=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(9),a=n(12),s=n(5),l=n(6),u=function(e){function t(t,n,r,o,a,s,u){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=16),void 0===a&&(a=0),void 0===s&&(s=1),void 0===u&&(u=0);var f=e.call(this)||this;return f.fontPath=o,f.offset=a,f.snap=s,f.startFrom=u,f.maxMajorTicks=1e4,f.minDisplay=-1/0,f.maxDisplay=1/0,f.x0=0,f.x1=1,f._maxTextLength=4,f.labelCache=new l.UsageCache,f.createLabel=function(e){var t=new c(f.fontPath,e,f.fontSizePx);return t.layoutParentY=1,t.z=.1,t.setMask(f.clippingMask),f.add(t),t},f.deleteLabel=function(e){e.releaseGPUResources(),f.remove(e)},f.render=!1,f.x0=t,f.x1=n,f._fontSizePx=r,f.labelsNeedUpdate=!0,f.clippingMask=new i.default(0,0,[.9,.9,.9,1]),f.clippingMask.layoutW=1,f.clippingMask.layoutH=1,f.clippingMask.opacity=0,f.add(f.clippingMask),f}return r(t,e),Object.defineProperty(t.prototype,"maxTextLength",{get:function(){return this._maxTextLength},set:function(e){var t=this._maxTextLength!==e;this._maxTextLength=e,t&&(this.labelsNeedUpdate=!0,this.labelCache.removeAll(this.deleteLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSizePx",{get:function(){return this._fontSizePx},set:function(e){this._fontSizePx=e,this.labelCache.removeAll(this.deleteLabel),this.labelsNeedUpdate=!0},enumerable:!0,configurable:!0}),t.prototype.setRange=function(e,t){this.labelsNeedUpdate=this.labelsNeedUpdate||this.x0!==e||this.x1!==t,this.x0=e,this.x1=t},t.prototype.applyTransformToSubNodes=function(t){this.labelsNeedUpdate=this.labelsNeedUpdate||this.computedWidth!==this.lastComputedWidth,this.labelsNeedUpdate&&(this.updateLabels(),this.lastComputedWidth=this.computedWidth),e.prototype.applyTransformToSubNodes.call(this,t)},t.prototype.updateLabels=function(){var e=this;this.labelCache.markAllUnused();var n=this.x1-this.x0;if(0!==n){for(var r=160/this.computedWidth,o=this.snap,i=s.Scalar.log2(r*n/o),a=Math.ceil(i),l=Math.floor(i),u=i-l,c=Math.pow(1-u,5),f=o*Math.pow(2,a),d=o*Math.pow(2,l)*2,p=Math.floor(this.x0/f),h=Math.ceil(this.x1/f),v=this.maxMajorTicks,y=function(r){v--;var o=d*(r+.5),i=f*r;if(o>=g.minDisplay&&o<=g.maxDisplay&&isFinite(o)){var a=(o-g.x0+g.offset)/n,s=t.formatValue(o+g.startFrom,g._maxTextLength),l=g.labelCache.get(o+"_"+s,function(){return e.createLabel(s)});l.layoutParentX=a,l.setColor(0,0,0,c),l.opacity=c}if(i>=g.minDisplay&&i<=g.maxDisplay&&isFinite(i)){var u=(i-g.x0+g.offset)/n,p=t.formatValue(i+g.startFrom,g._maxTextLength),h=g.labelCache.get(i+"_"+p,function(){return e.createLabel(p)});h.layoutParentX=u,h.setColor(0,0,0,1)}},g=this,m=p;m<=h&&v>0;m++)y(m);this.labelCache.removeUnused(this.deleteLabel),this.labelsNeedUpdate=!1}else this.labelCache.removeUnused(this.deleteLabel)},t.toFixedTrunc=function(e,t){var n=e.toString(),r=/([\d+-]+)(\.(\d*))?(.*)/.exec(n);if(null==r)return n;for(var o=r[1],i=r[3],a=r[4],s=(i||"").substring(0,t),l=s.length;l<t;l++)s+="0";return o+(s.length>0?"."+s:"")+a},t.formatValue=function(e,n){var r=e.toString();if(r.length>n){var o=s.Scalar.log10(Math.abs(e)),i=s.Scalar.sign(o),a=Math.floor(Math.abs(o/3))*i,l=t.siPrefixes[a.toFixed(0)],u=Math.pow(1e3,a);if(void 0===l){var c=Math.floor(Math.abs(o))*i;l=c<=3?"":"e"+c.toFixed(0)}var f=e/u,d=n-Math.floor(f).toFixed(0).length-l.length-1;r=t.toFixedTrunc(f,Math.max(d,0))+l}return r},t.siPrefixes={8:"Y",7:"Z",6:"E",5:"P",4:"T",3:"G",2:"M",1:"k","-1":"m","-2":"","-3":"n","-4":"p","-5":"f","-6":"a","-7":"z","-8":"y"},t}(o.default);t.XAxis=u;var c=function(e){function t(t,n,r){var o=e.call(this)||this;return o.text=new a.default(t,n,r),o.text.layoutX=-.5,o.text.layoutY=-1,o.text.y=-8,o.add(o.text),o.tick=new i.default(1,5),o.tick.layoutX=-.5,o.tick.layoutY=-1,o.tick.transparent=!0,o.add(o.tick),o.render=!1,o.setColor(0,0,0,1),o}return r(t,e),t.prototype.setColor=function(e,t,n,r){this.text.color.set([e,t,n,r]),this.tick.color.set([e,t,n,.5*r])},t.prototype.setMask=function(e){this.text.mask=e,this.tick.mask=e},t.prototype.releaseGPUResources=function(){this.text.releaseGPUResources(),this.tick.releaseGPUResources()},t}(o.default);t.default=u},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.layout=function(e,t,n){for(var o=r({glyphScale:1,kerningEnabled:!0,ligaturesEnabled:!0,lineHeight:1},n),i=new Array(e.length),a=0,s={l:0,r:0,t:0,b:0},l=0,u=0,c=0;c<e.length;c++){var f=e[c],d=e.charCodeAt(c);switch(d){case 160:case"\n".charCodeAt(0):u+=o.lineHeight,l=0;continue}if(o.ligaturesEnabled,o.kerningEnabled&&c>0){var p=e[c-1]+f;l+=t.kerning[p]||0}var h=t.characters[f];null!=h?(null!=h.glyph&&(i[a++]={char:f,x:l,y:u},s.r=Math.max(s.r,l+h.advance),s.b=Math.max(s.b,u+o.lineHeight)),l+=h.advance):console.warn('Font does not contain character for "'+f+'" ('+d+")")}return i.length>a&&(i.length=a),{font:t,sequence:i,bounds:s,glyphScale:o.glyphScale}},e.generateVertexData=function(e){for(var t=new Float32Array(6*e.sequence.length*5),n=0,r=0;r<e.sequence.length;r++){var o=e.sequence[r],i=e.font,a=i.characters[o.char];if(null!=a&&null!=a.glyph){var s=a.glyph,l=o.x-s.offset.x,u=-(o.y+i.ascender+s.offset.y),c=s.atlasRect.w/s.atlasScale,f=s.atlasRect.h/s.atlasScale,d=(s.atlasRect.x+.5)/i.textureSize.w,p=(s.atlasRect.y+.5)/i.textureSize.h,h=(s.atlasRect.w-1)/i.textureSize.w,v=(s.atlasRect.h-1)/i.textureSize.h;p+=v,v=-v,t.set([l,u,d,p,s.atlasScale,l+c,u+f,d+h,p+v,s.atlasScale,l,u+f,d,p+v,s.atlasScale,l,u,d,p,s.atlasScale,l+c,u,d+h,p,s.atlasScale,l+c,u+f,d+h,p+v,s.atlasScale],5*n),n+=6}}return{vertexArray:t,elementsPerVertex:5,vertexCount:n,vertexLayout:{position:{elements:2,elementSizeBytes:4,strideBytes:20,offsetBytes:0},uv:{elements:3,elementSizeBytes:4,strideBytes:20,offsetBytes:8}}}},e.parse=function(e){for(var t=new DataView(e),n="",r=0;r<e.byteLength;r++){var o=t.getInt8(r);if(0===o)break;n+=String.fromCharCode(o)}for(var i=r+1,a=JSON.parse(n),s={format:a.format,version:a.version,technique:a.technique,ascender:a.ascender,descender:a.descender,typoAscender:a.typoAscender,typoDescender:a.typoDescender,lowercaseHeight:a.lowercaseHeight,metadata:a.metadata,fieldRange_px:a.fieldRange_px,characters:{},kerning:{},glyphBounds:void 0,textures:[],textureSize:a.textureSize},l=new DataView(e,i+a.characters.start,a.characters.length),u=0;u<a.charList.length;u++){var c=a.charList[u],f=24*u,d={atlasRect:{x:l.getUint16(f+4,!0),y:l.getUint16(f+6,!0),w:l.getUint16(f+8,!0),h:l.getUint16(f+10,!0)},atlasScale:l.getFloat32(f+12,!0),offset:{x:l.getFloat32(f+16,!0),y:l.getFloat32(f+20,!0)}},p=0===d.atlasRect.w||0===d.atlasRect.h,h={advance:l.getFloat32(f+0,!0),glyph:p?void 0:d};s.characters[c]=h}var v=new DataView(e,i+a.kerning.start,a.kerning.length);for(u=0;u<a.kerningPairs.length;u++){var y=a.kerningPairs[u],g=v.getFloat32(4*u,!0);s.kerning[y]=g}if(null!=a.glyphBounds){s.glyphBounds={};var m=new DataView(e,i+a.glyphBounds.start,a.glyphBounds.length);for(u=0;u<a.charList.length;u++){c=a.charList[u],f=16*u;var b={t:m.getFloat32(f+0,!0),r:m.getFloat32(f+4,!0),b:m.getFloat32(f+8,!0),l:m.getFloat32(f+12,!0)};s.glyphBounds[c]=b}}for(var x=0;x<a.textures.length;x++){var _=a.textures[x];s.textures[x]=[];for(var T=0;T<_.length;T++){var w=_[T];if(null!=w.payloadBytes){var E=new Uint8Array(e,i+w.payloadBytes.start,w.payloadBytes.length),P=new Blob([E],{type:"image/png"}),S=new Image;S.src=URL.createObjectURL(P),s.textures[x][T]=S}else null!=w.localPath&&(s.textures[x][T]={localPath:w.localPath})}}return s},e}();t.default=o,"undefined"!=typeof window&&(window.GPUText=o)},function(e,t){e.exports='{"format":"TextureAtlasFontBinary","version":1,"technique":"msdf","ascender":0.7848691287199713,"descender":-0.2151308712800287,"typoAscender":0.5618501254930083,"typoDescender":-0.17640731444962351,"lowercaseHeight":0.39297239153818575,"metadata":{"family":"Open Sans","subfamily":"Regular","version":"Version 1.10","postScriptName":"OpenSans-Regular","copyright":"Digitized data copyright  2010-2011, Google Corporation.","trademark":"Open Sans is a trademark of Google and may be registered in certain jurisdictions.","manufacturer":"Ascender Corporation","manufacturerURL":"http://www.ascendercorp.com/","designerURL":"http://www.ascendercorp.com/typedesigners.html","license":"Licensed under the Apache License, Version 2.0","licenseURL":"http://www.apache.org/licenses/LICENSE-2.0","height_funits":2789,"funitsPerEm":2048},"fieldRange_px":2,"textureSize":{"w":512,"h":256},"charList":["\\t"," ","!","\\"","#","$","%","&","\'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~"],"kerningPairs":["\\"A","\\"T","\\"V","\\"W","\\"Y","\\"a","\\"c","\\"d","\\"e","\\"g","\\"m","\\"n","\\"o","\\"p","\\"q","\\"r","\\"s","\\"u","\'A","\'T","\'V","\'W","\'Y","\'a","\'c","\'d","\'e","\'g","\'m","\'n","\'o","\'p","\'q","\'r","\'s","\'u","(J",",C",",G",",O",",Q",",T",",U",",V",",W",",Y","-T",".C",".G",".O",".Q",".T",".U",".V",".W",".Y","A\\"","A\'","AC","AG","AJ","AO","AQ","AT","AV","AW","AY","B,","B.","BA","BT","BV","BW","BX","BY","BZ","CC","CG","CO","CQ","D,","D.","DA","DT","DV","DW","DX","DY","DZ","EJ","F,","F.","F?","FA","KC","KG","KO","KQ","L\\"","L\'","LC","LG","LO","LQ","LT","LU","LV","LW","LY","O,","O.","OA","OT","OV","OW","OX","OY","OZ","P,","P.","PA","PX","PZ","Q,","Q.","QA","QT","QV","QW","QX","QY","QZ","T,","T-","T.","T?","TA","TC","TG","TO","TQ","TT","Ta","Tc","Td","Te","Tg","Tm","Tn","To","Tp","Tq","Tr","Ts","Tu","Tv","Tw","Tx","Ty","Tz","U,","U.","UA","V,","V.","V?","VA","VC","VG","VO","VQ","Va","Vc","Vd","Ve","Vg","Vm","Vn","Vo","Vp","Vq","Vr","Vs","Vu","W,","W.","W?","WA","WC","WG","WO","WQ","Wa","Wc","Wd","We","Wg","Wm","Wn","Wo","Wp","Wq","Wr","Ws","Wu","XC","XG","XO","XQ","Y,","Y.","Y?","YA","YC","YG","YO","YQ","Ya","Yc","Yd","Ye","Yg","Ym","Yn","Yo","Yp","Yq","Yr","Ys","Yu","Yz","ZC","ZG","ZO","ZQ","[J","a\\"","a\'","b\\"","b\'","bv","bw","bx","by","bz","c\\"","c\'","e\\"","e\'","ev","ew","ex","ey","ez","f\\"","f\'","h\\"","h\'","kc","kd","ke","ko","kq","m\\"","m\'","n\\"","n\'","o\\"","o\'","ov","ow","ox","oy","oz","p\\"","p\'","pv","pw","px","py","pz","r\\"","r\'","ra","rc","rd","re","rg","ro","rq","t\\"","t\'","v\\"","v\'","v,","v.","v?","w\\"","w\'","w,","w.","w?","xc","xd","xe","xo","xq","y\\"","y\'","y,","y.","y?","{J"],"characters":{"start":0,"length":2304},"kerning":{"start":2304,"length":1252},"glyphBounds":null,"textures":[[{"payloadBytes":{"start":3556,"length":63851}}]]}\0\'>\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0SC>\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0H>\0\0\0\0 \0 \0QBnT>F=>`\0 \0 \0\fCW\t> \0 \0 \0sUBs=]=b>\0\0 \0 \0:B\b>="=?\0\0 \0 \0fOB(.;D\n;=9\t?`\0\0 \0 \0OBW\\<?;=mR&> \0\0 \0 \0C]d<8^>\0 \0 \0.B>\'%>8^>\0 \0 \0.B|>\'%>q>`\0 \0 \0Bu{8Kb> \0 \0 \0qBCIPe\nP8>\0\0 \0 \0C<j0=q>\0\0 \0 \0\vC3VH>`\0\0 \0 \0C,\t<\t\r> \0\0 \0 \0sUB(>]=b>`\0 \0 \0OB=?;=b>`\0 \0 \0sUBB\f>]=b>``\0 \0 \0RB\\==b> `\0 \0 \0fOBF=D\n;=b>\0`\0 \0 \0~TB\0&=4=b>\0`\0 \0 \0NRB#i=Q8=b>`\0`\0 \0 \0fOB|=D\n;=b> \0`\0 \0 \0sUB2=]=b>@\0 \0 \0fOBv=D\n;=b>@\0 \0 \0fOB2=D\n;=H>`@\0 \0 \0tuB\r>#=H> @\0 \0 \0\faB:P>T>b>\0@\0 \0 \0!WBEJTzb>\0@\0 \0 \0Bfjlb>`\0@\0 \0 \0!WBEJTz]> \0@\0 \0 \0NB >3I=(? \0 \0 \0%=B;=> \0 \0 \0TB"&==>` \0 \0 \0sUB;=]=.>  \0 \0 \0fOBJ=D\n;=\n\t?\0 \0 \0 \0sUB<]=>\0 \0 \0 \0sUB=]=\n>`\0 \0 \0 \0sUB=]=\b? \0 \0 \0 \0fOBQ8=D\n;=\n?\0\0 \0 \0sUBFM<]=Q>\0\0 \0 \0sUBI>]=H>`\0\0 \0 \x000)B`e>5=>\v>\0\0\0 \0 \0sUBM=]=$> \0\0\0 \0 \0sUB=]=)?@\0\0\0 \0 \0sUB\b]=\r?`\0\0\0 \0 \0sUBHN<]=[g?\0\0\0 \0 \0OB<?;=#Z>\0 \0 \0sUB{=]=[g?\0\0\0 \0 \0i*B=/>i>\0\0\0 \0 \0sUB`e/=]=W>\0\0\0 \0 \0fOB\f=D\n;=> \0\0 \0 \0sUBR=]=\b?@\0\0 \0 \0NRB=Q8=1>\0\0 \0 \0sUB=]=C\b.?\0\0 \0 \0J)Bx==W>\0\0 \0 \0 \0sUB|=]=z>@\0 \0 \0 \0sUBpV=]=d>\0 \0 \0 \0sUBB=]=vw>\0 \0 \0 \0.Be>\'%>\t\r>\0 \0 \0 \0sUB\'>]=vw>@ \0 \0 \0.Bo\v>\'%>> \0 \0 \0;B<$a> \0 \0 \0LB<%>W>\0\0@\0 \0 \0FCh}>@\0@\0 \0 \0xBc((=T=\rd>\0@\0 \0 \03FB=B=(>\0@\0 \0 \0e|B[J==\rd>\0@\0 \0 \03FB=B=x>@@\0 \0 \0e|B~<=~>@\0 \0 \0gWGBl3>a$=>@\0 \0 \0;BBB9>^>\v>\0\0`\0 \0 \0*HBZ=5:#=/>>@\0`\0 \0 \0fOB[>=/>>\0`\0 \0 \0PB~>h>X>\0`\0 \0 \0*HB=5:#=/>>\0`\0 \0 \0*HBu\\g>5:#=.?@`\0 \0 \0\0GB\b=\v>`\0 \0 \0\'B:$<>`\0 \0 \0e|B4<=\rd>\0\0\0 \0 \0;BBB\t/=^>\rd>@\0\0 \0 \0;BBBX=^>x>\0\0 \0 \0\'BV=$<&[>\0\0 \0 \0e|Bc==&>\0\0 \0 \0dB3>-=\v>@\0 \0 \0\'B;mq=Y>\0 \0 \0B_&=<\\8?\0 \0 \0IB\0=&=>\0\0\0 \0 \0BT=<s>@\0\0 \0 \0DB3>I^>9>\0\0 \0 \0BW=<t>\0\0 \0 \0.Bj>\'%>>\0\0 \0 \09BA_>k>t>@\0 \0 \0.B;f>\'%>b>\0 \0 \0BO}}Rp<p<p<;444\',\',\',4\',4\',\',\',}Rp<p<p<;444\',\',\',4\',4\',\',\',=}Rp444}Rp444}R}RppS=pp}R4p\',pppppp\',p4=44p<pppppppppppppp\',p\',pSSpp\',p44p<}Rppppp<p}R}R}R}R}R}R4ppppppp<ppppppp<pppppppppp44p<4ppppp\',\',\',\',\',p=ppppp<p<pppp4=4=ppppppppppppp<<ppppppp<p<<<p<<<p<ppppp<<p<=PNG\r\n\n\0\0\0\rIHDR\0\0\0\0\0\0\b\0\0\0JY0\0\02IDATx}\\Gc1j(`CVcQ\b"6 .{^?3{w\\;<<3<4$gh^R\n@\09UU%@ @+JT]J,/T/ZTt\v<g</%MENV`Y\0:t&=6i[C-L`\b\0e-rM)P|]|[\x007x$=@OLm`;f\tMpA@N=O/;;\vA\bV\v*\v!V]7\fTI*byg\\]x~ Bn/h!\b\'yxV~#\\r^^^k._||EN\vBk{\f*^0[^, d2<mNT\vkyz4]T\0:\\9Yjpa@Q,Z;_;c^t4N<9s\nOF\bf=FrQv*0C|0P@sv-`(/2\tCE_&&XP#txr62^G^W<f>MTD[-D\n3_vvYa)b@F^PY+Jut^Xdt,*\nbyg\\]xbb+\vdJoB<Qv*DFrA\f\v\v[jU||oN7o^I"c[*zbE1$D|/^9fo\'bn0)\']Ja)s\0XUZ{7lk\0[Ci!6\r!>a:NC&bV0n\\ (^y:?rM zVS!O7KK-wqq+wpOCFo.O\029\0\0\0cZ:[Hp1^W|2\tVZMVSQ3FGSQ))62VXNX;8mNT >;_<IY(;bjC5~t}c[W!SWOZ"NN8a>E=[9?S!o}\'tOY>c\0t~W_"#zphj\0(exOu|Y?FrFS?rr#gN8`ZI?c*Qv*h|JkcmC6x8QApue<Cpu_Qxj\04\vFH$5;1Z*e-B\x008_;wb/|e\x000W?;f9\0tdgI/{Gmv5klC>y$22ui\0GUO\b~gQt$&S2{#GiW#\t\0M6@B?`GXZHw.eo\riT5q#2g\v|A!e\0"Muz4nfj}7og\r{r_\0eJ=Q\0%?R,P\0-|},}4Z?|}>=g\ndR\0?R)+qei,-^\fQ\f\0|ng;\0X C\';,\0oyZjUP|5j[t+W\'7l`\0\n?fx1a1D~Pmau\v6j(88")cc\0KJPR*Uu@0x0DE*X\\\\,\0xyz+|Q}O=GC<U@b=oV.cCU#Y}xpDY*\0 1)\0l\0eyOGrd\\iudRu7mJY3@"?\n\'<=*9  9c5knJDQT,u\0@,e\n 11A`^+]/f9n:K \b1?w>}\b(T@Ei/cWnkUXq\'=b\0}2OQpu#:F`gI&+WXbhq,n\0K7k3BEI9R.%icIlB x[}5_]\rV4.-`Z\0Y3?|)ZGMiF\0B,SlKA\r\'Lt)[`{\r9*/\t\0#_!\0\rI\0<x\'m[%f ?\f11Mk\0y6\\KQ\0\n:uD23ceoO?>_|V@g`p>\ruN\'HxVmrYm%{\0&RR\b\fEJ_SBcP`))\0C@^/ZJrXn\fe\f\0\06q0Y{\\+\t\t)lTn0[x\n4\0\0`Z\t\0|\vlyg_\0R\0G@?l}\0\'B<{\\0~<0jdi\0s-[@S}\f\0Zl_7\t\tEN<YwX\0\0Ov?4ok(/S>~)>}_?NI0\0&`A5K\0PrPKAES|HMe?`39NM\0\0\0D~~x.p 6ouxO\tzo\0cc?X9s{\nN"QIL4p"J=+f<c\09Tj\fc\0@5\0@B\0wnbSi&(l2\r7gI{\'\0\0nn>G)3a#8\0g;z,))Yfm4iYd\0ukzo|7tbPAc///%a\'cL\t0n\n\0h$;^TL}"REU5\0Cz4z/?Lelp{|/N3\0Jc?o_o"pUI1m<U8sE-ENd5\r\0J\0@f<KQ!\0\x008u\n[pw[T~K\\;<qf7\f}\0+VZxYr\0(X*,**Jw8\0hAR\\jF5N$H;rK,)\f/^}-`X\rPr\0h\bmx[:S8\0r\0\00,L."1Vf5\bH8I<y>u)N>=jTy\0Px&\0@`Y\0*9\0/d&vv0ej|*V}\t)TC0,\0\rp)Xm\0\r\0C1"badzR\b,qxy;24!3\r\t\t;cmeA^a\0JR\0U*N$.Fv8l\0\0 ymr.,.m\r\0D3~\nG8_G}W4#1m\'c\0\0\0\0\07_wp\0\0%\0p4,!;tSl"NVv\n%\0px{]t=\fC_i08\n\0G7ndKX|}}O8!Y^vM9\0\v [y\\\vk[.i[2;v+W,:l[U8rP\0YEwL\0(\0\0@ihhd.So0U%{al-e=w~@t>-gI,\b(YHcE<G%@z\0\0 \x000\b=g0\0\0@\nb/^2&:t\t@%*A-eB`SxJ\f=u\x000dww;wR<<\0\0j`@4>}4f)\veVlE0ow1@hL\0\fPL6EV`TX\0`\0\0c6\07/Nk\bfv?0Q| c[\vY8zlDI=8\fl@83\0\f7kf( f\0}C|3f \0E\0@i0xDe)MT6\b\0A-1]k\n\0=zlmM.w,S?e#B@pE\t\t7-N_C"<\tvuhm&\'wlH\0@\00>$L"\v{k5B\0\n\0Ti[\0,?]$p\n8K^3(\0|j)MR"S:tP}BoM{sgcY8Kz$=$WcxXcg\0~h2^d\0R\0:w~0_ntPY]:Z\0~_O\t|L*\f:_@L$&E,2J%2_#\0PtPPk>|(`o&\0hY\0d?^pBh$Mg6;wk/_R4U\0Q56GnmO!UJcQ\nY\0\0U&"8P0\b+\n*BEc2#@oq(.$b(?5j>6HR![6b\07_m.Mx"T7Si\n^7\0R\0Pg,\\XZb4c(3Smif-\06n"\0H\0>wz6+T{]\t\0H{IV\n\0g\t5>eof?K\0\0f,!*\\?\f!e\0\05+oHu;(\vxA3d2(\t\0\n.d&UP/|DG3\0BXHem5-dhuW%4\0\twe;?\0|5\0@%6vN(g%\0M`4W:P"\0\b\f\f% jWZC@:U$~&!!St8c#\0$?%go0Bn]K@c]vgkau4VG\0@x7\0QVx(MMfpr2\0\nbAi\fg{]CqS;oT5!Y\0(G^}r<im\f\0`\0Y9y?<|LU\0luzqdU6:lv9?Mg)~9%r@_f<G:x>awk}qbN\0^T*7g^o\'&\01Acv%m=|VMD2\0\0h.[a\nUF(>K\bR&9#h0f/^]KXU4yFY/Gh \f4:OW\\\\\0|(Md_MO\0t+ {vj_\fPqrv4@I(9fwlB9rM\0{wfW^Ub:ZCKC8]o|";;J/_nVtRx"_@w9D3x6&6\06F\vvR\0_\0D!?OFo\nM^\0\fA6y\0\0cx\f@/\b1G\0PEaA#\0@+\0)np?jrv\0 sV\0%i^e!\r+\t\0\fgHch\t6I|a9,"\\5\0M6=xEo_ }gL\0@A}\'zJRr3Z\rAAAK6V%K3[)N-\0rXe\x004~5&d\0h\v+Azll5\0PvW\0MH\tET}0LNg0\0h\\6&8|u2\0vK\0XtvMo[\0h\0&sM{7mj\0y\0\0VQ\fc?~\v\'O3!c@Z<G=vr&\0B\n;aaafj\nJyWXQF<\0\0Hm7ww5\0.]Q_c:K,\0z*F,hM&I\x0082\\&DX\03?~\\N3Dq\fYFnbp<<p%DjY0{oi0^\fCY<\v/vRAS`Jn\0P!\0E\0C]\\]\\]\\]\\n \0rY\0Hr{\rM(hp\0gp>R=xyARi\0-q$gp$;d&\0\\Cp\b3f~W3X\t\t\t3g:th^~!C1#..j\t?QSX\0\0\0\x003ebbe~f.S\f\0fG\f9dcf0\0\\M1OX\\1e_\0oI,9B]kfy\0QscTI\0jb_1\t7?+\bM-:\0\f@J4\0\0@W\vUu`\0\0,T3\\bX;h__}<1MH*T\tS;w4@\0`^\n!f35olV`ML`{{W=!(Az\0OWKXD%D;Q&0@Q,:d#~\0hL5\\^A]_?v4\0//GuI7fmC\fT"on\b8iJjtzgh-["YF Y\0@sSf\0qc|\0@|OV^9s.d^R~aMor\0FV{fap\'N;w{\f=;v]Z\0@^\fHH453#v?]v%NLs\'~?LP)e\0 ^lN2X3`\0%sP\b\06V\0PsT/k&?=@zQu\0!ECf`\0!rc.P\0U0uj<_Sam\0gt^+^yvn4dW/uo\f|]2X%\0@eCCC<`\'\'\'\0\0\0u n!olZ\n\0t7CEfT7cs1g$Xf\r47q(L2EQ{r7O;\v\0@v=gyZkBMpJmc\b\vcoM%\0 v<}:x\b)\0{oM|3qdhM^*Xgy:,Ot`{+\0\0\0u&;*\0eL$FJcy\0\0QU.c%]Fx\0xIHyt;S9-\0FZ6\0m0m\01W\bE99<\0Fd#r&w`rv\0=9!u0O*\f\nSxu//^_~5R\n.a*U" \\n]-,\0?%ia:G``\'6+sQ\n\0b\b/RpA\\T\t+)~7i8`:Q9~o\f=/a8,;f\0IZ^`V(cXY\fn(-{\0y~L_K.e{vN{HFzvhg\0UR`n6>JVPUIf@PxC\n\0\\nx_?$0?y>=v!9krW\0M,WG?m\0\t\t\t\tStBs3$\f\0]=rZacl#nn@;vzjiY0wGt=$E\0`XiKi0WaofzX W.|^p\tK\\rJA*]{\fmkpMFu"k@Z3\0V>eF[6ofjVreXz4>k>?\'P$1VxH [x;|\0\0M;w=_O|}}}}eZ\0>!pVsR\0O-?P1\0`\0DU\r\\JJ\0@J L0a5{F]vm=\0\0Ig[*aFj*0.[\0@DUR7fGC7G;|gbL\f%o"\0@DIy&!M^]\tpv?=8\'G6>\fCT@,iV\0 J\0\01o`\'D(`~I\0(UDYrvEQ,:)\v*cXz(n}O~gf1d(7RTMWW1>(6mjXn+_BL\r64hPxxxLLL|||O\f\v\v0`\09:kBO4lD\v|5eESbP$:*Wccy/`[\fS\nl;b@\fsc0f+nM$L08Q6YTD}.3A?f4,Y\f`$$vo6Lav>PbB)*lJ4c7#,3\04s[X0\\b%r:Cx&`uy?dYSl,,T= \t^^\b\v^X,.itux~ 4\f"v] (7bt?rHVBNi,rs<]A+\b\n>a1Hko4/ 4g/_\r06W=\vBg0ZfP9,Wkzy+2JVU$("{>\\]K~*oLBOON*xi\v\t.*E-ZHP0J^\tA8i,ju\0R#\0\b(lZZHGH1eT ?ti\r|n2kxBGG&r/%S\vJKK\0)rQU?\vNL>\0J-b%\0Ul\nlA<(3Yz,G:\'D&Vwb(Jm]IHxR\'x!}e^2bX`r\frQK\\~-kxi ,49T2>)XUF]Jr,}%\\`%\v3\nlJ<OOUM]Y$\bU*@prbGk \n+7`g*UvmfR\bfd\f[)\bgx=\bB?yMj/A83RuHg%,JVZR8P:*)?G\\"Wf+rMQ;jJM^#8^qR_v6ef3`i6tWP{mFNK*,^UFvNb5kBT:u,g\nX7Sg-\b-\\\0\0JtQ\t\0\tt.Eq84.C>]CEbGb\nknpx\\g!,`Vj3`!hlLqi$:ZYS6bk|V]$g9Z`Y~\vI~zK""|Qv9(7JDH\fW\bC}PM"PQ?^*cbsL61~\rpT{l_+23j\njMV7bB] 1mcacG0Q!-8p,YSOy<id\v\f!\nWa\r<qj\\MQEqiQOx/s_>5WYmq$:;w|\0dW(;zEVbG2cUfm,V\n$jxqM^ z\vs \v{K/]B5\\i)];C(0w14:.ei&o]l3\vg%S+0$dY#SS;A0?D\'<.["rkPBj*@d$FFnTOa?qo$\'[\0F>BphbzKod?)=;p@0\b\0LY\nKs6Q0NB\vb(g@_\v1U:1qn g=\'Q8TO{yyI1,Lz#I?r&hJId):zf\0Cb6Y};M8yo;\0`+;ujr\n)WN\0\0bcTZ\r7&D/^bB]\r?V\0@fo\0JciI0[xk?G_:oBf*K5f52kkf\0`}ScbtB\f]4Uw%,Y")Pn=btc \07>5MI\0:rwa?_bl!@q^\0?r\rc/NPE\nK\0vQrCq?7gl-7G__|=0@|C{\fY1y>T- -Z- Z5Pjq]Dg]]8:vtt\0WXr\0Hs-\0\0hXV6!\0se=Z,rP_wca:X\'%:FbFVFq*D*dC\0 OrE(My8FX%D}Is7p{u\0kq.0KAH\0]pjjwBYV-~.^\f7n0`Vj\0a+er]ARPJ\n.aVaR\\sJ\0hMI_E&@\t\t\r\rYW?gP\r}F)@b_d\\(<KI40\t^\vhZw>^ [US\0HIr2qzf3N5jQ\vRb=y#\0i\0hc|(2F7Mm=FB ai8=,2ol2\b\0~$)7hbXEL5\'P)Xo\r\0`\0\0\nKRC*LROap+ o^=]8<pH;z!K\rR+huKZUI636X+>Ctbo}{vE.:qc7?x_\vFI3CTW\nf@&\fU0+vy7i\vu97m\0)8vnwFwG|\0i1Pw\0\bRSF@X\b\0\0$@!Eu\0@.cJ\\[)_a6z\v#\0RcL\0"\0@\t\0:u`&0{6(`\r\0^R5=eN}\bw\r\t@&K4\0P+}7inSi\ny\0 0\0%_\0sH2tdL&E\f{6RRT>=~]tRr`\f`;aqo44A\0\x004U\0 ]l_Oi%D\0\0s_[\0Z\0`9\0P\nY{AdHV8-\0b*oLFv-RXj.UyRh Y\be\0\v\0\v2/l\'k6<\'\\5p-M-s f\v%}m\n[uN$7^[fx]\'Lig,q\\\nW)qX\\\f  a2Nbl7~we;\n\0I^n9\x000,Z5M+N&\x0003OpI\x0005)\0\0\0(3aAh-HN\0mq<.M\t8P3A\0 C`f\0\0$3U\0l2zBPFUsa2k\0DpQ,&3sVNu\vz\02"BCR[n-$_K\r3\nwr%1.e\rTM9\f93\fTld^fyEulLuOQ^vd6WtV.\\"Zj\0\f[Fi<{VC\0V\0I|F&}\0*k\0a \fY=GZrVI`K\0X1T\0\nG(m";2\0@\\K\t#UWX_\t\0>mp 7=\b/lgO+Yr?|`+voxTE\0@R\'la0xg@*uIF@TK\0rus\fL[(U+4)\\B\f8\0jOT8]\0[\01\0@b9Zh[\noj34\0\0I^pq~1,fPq\0y1;&S:js`Z}PDwQx5R=Ws\'#}#:.A\bvOfdf7jN%\rzD_jjt0>\0Q*#|\f/>}wb)Or3^=zX\f\0gx]oggOk\bl@\0Xy6Fh\n\b3\x000\0 $\rg#\t< ?izX/\txoFH[d\07%K7T\'*@()ba4-s`NaS\\\v\n98\0P+X"!\f>Cuw<X\f8M+Xk#Ig~;sTo^67@R^Vb\'\0P\n.[&q\b(YE6U"|q*yfRX3x/U4Y@@3h"Cy7f Oi\0Lo\0\0o}kxM}y\byHr)~6:Kdz`3s\'m\0p\v-zH4$sBg:=V\tDFO?Y,?UGZJ}\0@4*^z%{HLE[\0C@(PG^KRweHB+U\fIXNQ\n:H#G[\t@\\{~[1IxuKupX>:8;8}6?)w$t\n:%m8~\0*T*B9:T7\vx^nxvI2j6n\0\v8v\f8:t1ofO&K6\0\0Lo\0}^qr]NPo>Zr @ww.IV\0\0{\n/{d=kh^v4Af\rVvwFg)4h(?K\0o%Db#ltfQc#UT#akHs$RT#p?~\b]z0@:I+D.\\rG3p^aj`I\reKwi+aRVf/B\\#\\#"PMQ!"b-aDD(-!,\\XE 6 68:&,)%\vU.XXtCoV*b!<du6\0\0e0`-\0T\r/v\n\0 =Z}E#X\0C\0$&8Ipr>Yld$\v92z8kVf3<hsK*2QxT%!i_AUYyDte% lso@PaDR|LIZ9,eLA7mTJd\'ssr$85P\n\0?k8>]<\0H&:\0`@;\nwH\v-}(aL:m4\0(f*4Q\rcKnQ))QQQQ\t!(o&]/\0@OyP_3m/)eO9T\0pJJ\0k\0|E\0he-ePEqJ\\3nb[uvJ$89\fLUP%Jnj\nM\'D[}7~\r3l~\0rc8]k=#fx=q[q+9\rjo]F(\vteN=-={<:I5O\\/3O.\0\n.e/TX9$,>r/a}Nhy-%[x`^o0O\0jB9:\rN OCX-XP4k\0[eCb[_#[\f\x006\\2\0%N-@NE%$\rI461?~JEbr*-\\F4Jc-m&L8:rejM5.d/fv,<3p\0d,p;{@6;eTy4#]kJ:u.g\n7Gf`ik\fQ\'IuImU;kp;X\t\0\0Z#ef5nO\f97pn\r0AJ@\r@M(G4-YbpkSljY\0m\v`T\n3 \0EwK2N hsxvK_\0t\0\vSj[xhWjiFF2\\=SZRQH\t7Ufstv;M/VVa>z/KWG=xE5X|z@zm{xH$O)zK@twYqVM9S;h;V\tL;X\bqa~mTSfD|Qp+ )U.)!bY94$gph\\V m\fT?9W =g7R\0\v\0nZ\nF@Uy`\0%Ee9\0 {\0P/P\0\0\0rmIy</[\0~IEJ@r2sN\0\bz%Fen1flyX6"7S)};^FO>+==:.:1.xeRj~4\v`E\0@r>\')Y@x/seK`\b\09s &gt\0!\0h!+b6\vg\x009opQ\0jCYY0\0\0h\bd^2l\0~\0`T~\fyV[ZwA-Jr\f.B3q&qS\n:\r.:uj!3d~pS\0z1\0\v{;r|1Gr*uc6o~wZPZO&3g\r221P\nVYl-H5;\n\vpd9IE8}z)N\09\0\0\04@nb\0\0\0i0\rRlUVj8k]VVL\0^\n\\L<y:tw\0jq{&\0\0\0h\0JciiY:vcxX/;G]2oV[\r.4FL][5i.-Z6i@C^#=bVS +\'yg=ztgy|nau~6[\'\tUHl<\0paqU_*4[X)T_10\b?\vfQ\0h\v\0Pku2\0\0YJ\b.A8(+f5"[@zyU0k9\02X&a{}\01~ @+rgp7MK)\\p5= ;\0~rY,OI:77\0iqk\n\0d\0=<)T"Wvrw\\#F>\0@v3b|S$>3xp] b<#x$\t:cWQIo?\bSi"hQQ[RInn\v\r\0\0\0mj\0 \0q?4MUvK@@g!jwE\b\tA\tb<3l\v&"+9`x6Y\0{e\0^;etd:2\0h~^r\0\r?m5$SX1Y4)S0i\v@5]{\0m}*\vaN.tC&:]n5^jp_\0@\f"#PK&R!54{\nZ;ij_\\Ke-{\0h\b\0F\0PH\t\0sF\x005fDj\\Yl\taB\0" 8\r`\0`5\0@4r$c*\0K0")?\0e9x}+\0M`?R\'RG2"m%`rvjXI>%\'XM.]\v@-%FR|d\'\'%i[<Jd\v}KPSVn\b:i@VRr\04!\0X(\0\f\0d\t#!0$dSl`!!!\0\0!!I0\\[rjUQD#w2V?_v.x/F,~X,\0 @Il5;;vHWK#p2;p*[_}$(H$q-FW10\0 ]\r\b\tY\0C(SnEJZ=RI<I?oj`2Xp\'gkG\\\0J\0Hm-k\0\'lV^O76$1&d5RRj`O8\\1 \0`"(|e\\\0" b/\b%v>y!\0X1PrS9v,nyPxo^+I^;$DzR:Mq(um_~9\vB;*\r\0\0\0H4ucvGG*8Kmdy:i2\\I\0/g02cpF\tbA\f_KW9_flp0H\0%]G:?sP6Rf\t:ueo[{C0R;A`_k&k;2S$_GF"Icn~Z)u\t&\0 ,\0\0vaa>#!7!8Y\nK\bK!5`VF):zVV,\0.t]8tK.I\09bTUC\0Hrkf([Vf`Y\t6!fzokeIK\\Cs<_~)\\R#`\0@$JTm-HNBSlH-\0m%FmS!8D:`N)\r&d\0HJL/E-%KI\bNqU\\_HT*WB\0C9[\tYB(ubJ`6H/U`*}\'eY0\f\03J\ta)*-gp\n1{\tp+\\8\\\tu%\\d\b\0R8iA\rw\fYPMs*-6\0jXm85nmd;|w_~\tv5 525 4\'laALlFDF\r!"5#"TJeWrnk/&\f\08%yC{W2|r\0,Y{.FJnJq%[Q\f\tun3B*FQ(\\)e13:\t\bIJJbs\'cWS0Xk\nV};w_`\nU$5KOTS-FSI) +$\0>l\'aED)_!EGF2\\b1\n9(Ez^U&][fjN<3E^v8[\r@\b$_\\ ;;qT\v|ss=+fuzco("y7{6<b`kR5?j;K*,^(.41XhL,^^Qrpst^DZXs!wj9:8_U$Ql\\xO3d<\0HJbC?\vP64Tv.i~@H1%/Ap+\ba 4{$wM3Rv*$_>>9sf|T\nNQCpmFPB\n\b^EYU4AWh^R PC)*LKd\'i)QF2+$zHYK.\r*tn Se<H/\vA!\v\r#H,\bnW<I.kbMO7ac\0,i]|BaAXhbusc\v>FF*_\0jqA\x007bAHw+\n<?Bei\0\r=aS@J&@cW] \v\0e\f@A\092fivb0z\nzr2Sd\bMHmR\t?F(-Seu#+L6>\bfg0B[^\0\0Ojqv\t6\\}`x`SqOx)xZ<\00OoT]NiF&j HEh\0s7c)m[JJg]kulU?\fl,gZ>\0M%Jgp[#-KU,[V~OKj>*C9w\0l\0 l)LsA`QV\0P\vWJuY\vk2S\0>4i8we\b\vYB^srtssspp-G-\f@wpPT*\bm\nGGGww1\0 ?U=bQ8\f!,dY1:R+\0rdnn\\9?b:|8#&Y\0@4kH5b;E3g2?linf9hsbG*\0`2G|*\fFF]]T;7?l66&L&M0\r\x002M9sv\0\0a1_#u.0i7V0\fGl\0>0\n!Clo08XdOK{cj;M]ch<\fy\bIv~:i\v,HLLssCHPC14cw.?q\\?\0T_2vh/m5!?\0\nq(7N\'1=;lg{\rplqlA\rG^\vVpr\\.H>g<om`PX*}\nlIC?O>=%0=yN@z5XSvazK` ~xufcm\0iT9D=\0@b\bqvbK|iv+Ut\0\0X*M!X#G>SGj*,\r)<\vw70\fI3g~RyI744`6\0P\f3waW0 I5\\wwk9,1[1yOX\r\03G{Po?3g<"CY^%~OIAH\b\'w>`!&.)84c{ G2A)%M[:Yv):]mCnLS\'\v8s^j\rCj/_]j7\fK\0p\0\0\f~9\0vEH4/>d6Y\0UCif6=\0 w5SqU\f-eR L\ry\vo?gR\bTjVeahNI.nbGHs9uZ8[<N&sx-[ll&?\n_-f\\v5+$R:vym]L>}t~l\\12X{\fFh<:5k"Om{^R/`A&6"I>*Y$\0@\b(3q"uu%7k\\-\f\0PX~\0f&vlXv.&-\r\vXj-\f\tXa\0\r\f<\0Q}|\0}/\0p1LWk%H\'s"1E?TI[\0~L\0PPP/QohKGj-\0|7&MTK]tm6&`?[akB\bAjX~O4lWZT\n{HH7{(;\0X7f#n/5h\vO{K,?\v\r2d&7Fp\0wwo#o^M4Y~=GM`\\WE\n;1c(P K,Yf%3((QMIkjHL\'?gJ\0ZdNd[G4\07z `<F#\b@6NkR]@SsgYS?|ihu:x+da:y>\f(>Zl\0*\v@gpQ$mb`FDE`Q@AQ0g`19bFX;N3y;]6,};3SOWuSpBU\\>)%B{ \f#""U-"[\x008=Yg\'pf;;;SS,#4TH)$e"D=E\'.b[2&INWqXn]jH 0nt\\u4Fv02g88:\\;b|p8DP*\0hh.,w%\0/ka-@3fZ2<|\ng:F[`-\ngqR:i->Huf\t|I>w8:%g;\\dW/=ee%081a\0)0P\fP`*id=Zsa\\_o4PT\b9E)\0EZ`^7V.\0\0\\$;00p13MV$9=rio]L !iE/>}li3gq]V{;wn;n\\R1s{}@3gXSOqm5nP+\bg)~>}n.\0$Hp[!7g~sh.\0E\0(p5g]Za~\tE9/c;KIN%X\bx#w\vF%DG?T\'4f\f;w`\0@f=)BT(xb{YO8rPX>2RBO!dc\088-=GfQUkd\0`@@,Id3L2\'0w\vb?$=<<f9}f~<3rwPs\rYh|Lb\ti*M|D`3?O<Bocy7p\0Sr,/F<+W815/3k@8Fn\'x}^\0E8!R \')g-e7yEBX4rla9MT81RW\rJ1\0j1(B8EsL0ZbgT{p\f?2R:Ph*IJX9WO5|w%/\v)\0=+HS\\Uh)\0,BMdMl2[[Uyts+W<\b\0HmLB\n*H\nVc\v,?\rVj^^^"?K\bQ6 :x0`,kTRb(cc3-k*\vI[6*PuB\bX\fx\vlEYwg7h\0[-bl#7v4\f#O\no7?P\vh1&=lo(\fH/\f$  \bU?GB\0`~<\0 4ri+;\t?2V\0@[ckcxvB j()d@FEuwC\\7&XNS\0\0*bN!_BIh>Y.ulC\f\0YX(\0E\v3 ,,uo|qq\'--3p5$za7W/6lS:\f0~]i4p 0ZVZzM6/?^lF!k8%o,\t#^e&ach1:[w}\b\f1IB!$-\'br__nQ*u;vm\0\tm\r\f$%Y4M\r\0S[5p4?~g\b}\n>}UI[9.bqFN\0G_wE]6#8\n[\0TiLqhz{\t\x004&MDQ9JR~C^]ly@Tu\nY6^yz=Bk`ME(mxuRr,xzhhhF\n*)IU>y.A3e]\';t9R^>#*;uDA;M_`Rj|)E"Eh`A>@01+Z<T)BIRlnVWV2\0}`-An}5\\GL4i^n]d\n\\J\bUCB*6T6l\bYZAm(4[\'+a\v\rR\b 3@H[x03\v<?\r6.?tP\'py  &\0]\vuT\'\nhY%Ac:rN*\v?\0[]>6MMXb_\0X,-cZPU>-_<<<oGG6\0kA-Y9rf2um7e3f6qbiHbGpp[\nL902TmM7>D\'\0OYUixwA*2<<J4y2\r\vHt)Y[2\r\00pSk3\rWD\0_\'(b:=\r@ljfW" ks \0@#/?QFQEC,E&\063g9e=O<ys```DBu\\Y?\0,yeyKKjX88+K+P\vj0 )=Q\t\t.]&:oe\r/6?YkOY<,\r~hdG{%k7U>4(.P2fH1 xi,qai\0TDwOIwEr\t(n!rU\tH#C`H\f\\Ugw\\Q\0`.O0hX\verVp3@Y(OUlX)Q"SE?Mz0\fps2XAw+V R\'|r\0O{ceQ@W=`4\bpT\0i`O5 \08+q\' Ev:w)q+W#s=N =^QQ=g.3}:mjzq!.\v\v\v&6kJOd\0\0*R T\0bSp[\'/R @80M>YYl\blQ(x\fu3r^bCl"H_Z*HONLK\b{\v\f,M?\0*@M7!b<#|]*or};KF~%,n1h 6Zje\0yC\0\0\\6oU\0cV,{\rHV9t[{\v`]uo%~.-I"CjmyIYKsWljHHCVMHh<y2p6\\k\0pn\f\0 I1I*"N._-[Bp` >\fJow\0gb*Ro3|i\nLh\0Xlo!Wjy3M}*8;\0@E(raS`_2^\v\v;_Nl;`m{/`"+W2\0(Cr27.NFwJ >.&Wc\\8`5-.ngFzh\0Xi\0!?bmw;wQPz#\vn:KuG%4RMv_T*/\\~BdN2l6\0Z5 RvW@H)Mpa44T%K\v+\nGmcGU\\Ad\rN\0MXUDz f,Q_4\06mZN5yd$Hu\'@y(\v1\0o\n\0V:~mD.6V[[\x000sK.-]7\'\v\0&c3Zy :j[`X[meUXY/k++6zC\0\0\r\0[L\vWP]md\v*<y<=q@!\vgyM Jdlr&F\':UFfz_^K^}bm\njPmD\0\x005@>[.\0xxyC\fbqe.](+V\0T\x000^Fj\nE#_ w`RD\\\n\\@q(\r\rP4S\0@W:$w\vhF=oj5ro*d9 4?g|\\?1W,\0\0\'B\vth<,;&\\tuiD;8{H^\0\0M\'\0AY\rW/*\'RX\'\'IUF8\tEj\fr0CbX%Yh\b@gO2d4aF:@p\bW-&>K\0XkB90G-z|M3gh\\b\tc\b\fzxi-\0P\feAdv.A2R*!D c$\'dHHo4b@@"SRfRhab?2<E5\'9\\rb\0lZ\r\r5=v[H`7$v]qsvs/.{^u\0.\veKl\0 \0&\0*P=O?\t#6iK\tD>M*Up`Bg\f\b\',\0?OA\fM00\02p\0cqC)\0d5nt\0?6VCXAX\'omf\0OswEhr:qTGGo\'D\0\0%\vG\t2A\b\0<\bq\0\rC#&)HIoxH]\f\t>!$QC=R~\0 \0 KZ^_h^N#AAmW\\9~xV9yKcaU+\0;_\n2qM|&zPo,/%"Tj\0PJs+gTreR5q71\0HO\n6:JBImu\0/&[+xFy4xa\0Obn#USaj p\rI\nq\0(*Z?hx@\0/ @d55{lq?,3B\0 cQWSN9;\')\'OT V%d4/@<\0`24dC*Yr{aU\'UJ5%KO6G7w*-[tss5j;ks<\fGH!!NM%.jy*./T^\0\0DlA?Bn\n;b&CQHt!_N4I\0+SY4nZ/h~3[7!$\x000*)l2j,7B9~<\0,eF2wi_pX;u\b{C2\0BM`NS2\t\05WzCoCXKj(}T\f_\0jls5oY)\0\0|\0@Ep2\\L@cwx{Dn8>~ dc&=#z&n\t:\ni$\04xK$TH`yY^SL&EN\bQ$@@pqewP:\\S4QT\0Xja\nMqpp>n~/A@?\b0f$,\036adi=%u^P8+M\r=|84ncO\0n-n\rK,\n\x005j\06BY[VdF\tXC4igAvQ,1CQ5kQS1(\0\b#AF.k\0>Ui(|f\t\t\tB4UVNsKJo@W)m!}`g\0%St\f8J\f\0`%5i@&@=CkNjPm"L_AC#\0;w2~6fS&8\0?~*eO\tf0Nk:0vw~2E+:~+{\0GBDSJ0:te\0\0?(tMg\n9q\nLyT3,%3$yK.%K[:Ev~3%gx$ku#G\\fTx\0Lh,nA\0"n,@>`&:2Sn\rUE&B\t#7TAU/j\'4\r:&\tVJAR.\f\n#R(QV*8udj:w\tjjg!66SNUI},b[O$=5?~SZ9R\vC3Y\t8Wx@Q(Zz(QRrf\rGGF\'0MEDtM&y0)U\'?{s\0A;B"37pmR{1YF8\fL>"K2lF\nP\t(caJX \t\0eJUB2KO.\0v`7fr"N{11.>};)8/>St!};Z]}4%e=\b\b/JC02lP"-tbO<Q-3mE}TRRdddPPc3s5>\vg7PO7o..\04h5@$*US\b3-\0\\yrk8::jYkEXX?,\0\0d_5Vr\r\tpaBg\'y\bMQSR\b81VtLs<\reKM=a\v.=uY\0\0&q1u!09ih4ckEdv>.ou\0\fEt.+M`dKf\0\0\bNN1a,E,\vy_KD5q\rs$$@<? DR\n;;;^z|m4\06mJj:upZb?Eh:ol<l2Zfz-ev,[e[)q\vJj\'Ntp[:i,?~79}+($9HX\t)\'2\0\x005\f\\\v4/IS\0zfL1^~{-Zi)({.%\00\0XQxNKUf\02\0#c\r)\0@0;ZL\bca,\nG7GCsku~,\0-p9b\nB( S\byz^$\\:](xM)ze7\04lop6q9S@J\0X\voPfwu&M4d0\0\v?W9TSo\fV[o\f\nA`b?U\n\v\beKw\r;=ZMk(Nu>8J\v\0ox\x006ZX26?}oq~s\0j]K_\bWGFN9n.`r1;R\0FAa8<lQ,\x0088\bN~d*V!6dMr&$P%@szy"J*!r?\0bfB\t!z5sP!:ofHKKCm?LMM\\\b|Bwbbo_YQs\rTA1w&m{w,\v&p\'dSPIII9rd3\t\0WMO= !MclmU?k>SO\nSZT;Ue9MSFt\02\nD*R(P\'6Id?Bh{h~\0hRzC\bE*>18B$\fZji6x X&+_sTN(\b;BGQ!_T:QuvPEE??`JST\tVU;##\f2u~$a;b3>x838\0uGa?(PSY)QEnpOB&5l/v/:Y7BP]>Qft4uN?rD%)Sh[-VhS*`l*?q VQQ*\v\0h\fK\n8i\tn/PA\twvN"Uh6ZQ?8Yp~<.Y%>3\0(`n>osoQm\nM]Y\0@do~3hON`_\rK/^<;w37_i+Es\\3\n\b*\n\rtC}W*4\\;sch\\\vjA!\b&X[[;999::$-RP@8+UtQCb!4yc\r`JVMU2\bY\\vE1gcCHl1iYYd\0<vDF\0\0S,A\f\bGY5K2{\0@PAdaaU-7q%d)kc&%H\0{l_?u1J",wBW2/6VRdzbZ[2{)o$h9/FLtL<`F*Ro+;`G}iL}%P\b!H{yBV{5E&7dQ;LZPX+3~P<ex\n-`M65)L#jEKl*\v o"RU&Mujvm3\n1\\H4Ld\n;;*v~ vFPubAo<OZJM\t7gBCEN\x000%>\0Sv^cf5g"_^%)\t#MtiT@3g !+(PV(6))\nE[WqcB!niiiggJGbo+(TVVZgfq__S*}M9r8p`#G^B*Xj1A+qt!2p@|[\n9KdkJyRR^l\r{(]]m\\-&!X-YR*A;\\vb2`&d9Bem\t[a+|\f`\b\bA1\0+<"FXW];abX~C55$$[(C{BC6T)ZyggG(\t$9$&={hFSI>RF)GSccZ|999\r><,,lM&%%%\'\'<x\\p/.rf.K$/_w$Vv]fMg`53qyhQ=k}I-j)Y/(WKp+|yU|"\vQ&M:4Sx%e/W`36h\0\\11973:h0+GqI\rY\0<lpzar-%\r\0W\fY\vcpCDwp/\bE#$-1Cc4sgj\0\f,I)%z<00sck2EO>7n|CyK]]]\0dzJX;xp\v\t?3}Zjhuf/G\t8a?>\0VJ\\9v===?zL3CBCy-PWkmj\0b:kn&\vcU{t]fd;\0 J*\tG\bZ%ax9V90\nT\0\0t\0`J:+vBa2J9@\tr\0[ MG:i;t4\0om\bP2HB!iW^\07nl}+\b*EXzz:.vJ\0^uupx\0Vvx\0\tN:uLL{l:n=_GpKM=*WGnB4\0!7o?S\'o\0\r"4 _]uS[\\GHS,*T=\0\t!ss~KrtuR`ZccUS7N=Z+(VLYb</daA89z\0UDl7UN2T=xL_H)&ZXP&M#*\vv5\0Z$*[+\n5jlH[]cqq"R3Yve\v\nC \tMq}B)$vg3gY3w\\.|6lPq(>Joon:MC_\r&$$p1haaa"\0GiAxW%(ihJ%9\'I2\rqK\v~d\vDTHL\0G?y(\tH&\0k"O[AI^_Xe$@g;>mZH\bwrUGE"2RIHJ4K`d$$%c]OOOZ]M\tu\\CS2?1`x>DE4J|s,=\0d\0\r\vs\'?&&Mm\\*q\'O\\qquyx}FU\\p03WJGBP~0Ka9XA\\]qT\0@d\0\0\n+Wj7oDVJImmmqxwj-ZTzuR`1q={4<_~Yz/g\0\0{p0jIGP=/\\|vYi.fu-\\3C<\f?dCJ9^,Od9u\0WjjMUPn(\0J]b1\'Q\tQ8NB*@QE\'WH~CTIE(\r9=g\0\f0|%\rDlPlyTh"#U\f\0H7$M#mz@Kk<-;4jD:\0@$@57nU,XfSj0ik-_~\\P!c+6}t\0h\0re`|3i[`b32\0Cik?hPQu9G>:Q[)\vROF0V|f|G\0q7!3aY?kf\0%4YaB3aV\tBu,k@MY\vYd&3f4(P\0%+dX xeT}~mZ@\vAsy8OC\t/KHqN\\h\0;!x(l^D{M\0e![K2iw4KP\0b\0\ngx?F(m69dt 8qB5sL\vKNNnI\0@\0|yjoVGGbcCd6\b\0\0=:E\t>w|\0 0rI<%eI4NC\b\t)\0LY8J9>)\bx\rE\0kK)~K>zNqXK6d\0@N_l\'RBX$+)"\00*.?U,x8WK7_$-m\t}(()LLjJ|(G!\\W*\b4O5)j\n1uQp}\rl\0@Da_7\fa@UBr\\ /2KMK49\0\b\0;111Q6j^>\\CoM8bjL\0@zd\b|99p:E#Q\'eb\0\rNA<c~H8#\\O-.\b9StT$w\t?-\v\0b5\\{8vXu~`$|\v\0yo\0fy!"K(M=\0]yjF+KSyEPT`48.`uLkO]j=)7-5<\0E>Z6sPQ$nF|;[n-[]r\0 \0XYYXB;ez)#r|BF5K<H"\v:3\b\bj1\0XEVGCQ~%>C/3B\tJa\0!OIR-/PsA.r 2,c\'`\vRw\0u-\f|\\\0&n\0\0~6F-_\v5|llyb\b\01\0,`nM>[\0`g=k(5\0;7<59( 6;7.f $6n~fV]0\nJBIy\0@\b~-]ST;ZRMYY]97M5a]F\0f>|W9R:I&b.VV\\*7o!r``Go42;-.~3~<}9&y\fICB,q>y~59W/ge \0xo1;_iPUL\fo\f\0A$K,*Fq)U]u\fNp:{`\0sWZ{[c1tmmKz"\b~S\'JZ~\0Z|5\n.\\`L$\0`:QOf00\n\0&i\x000\b?\x004nLC]%4\0p>\beE(F0O2$A38s\0L3\roW%{\ry1Fi7,$d8!_d5u3J\0nUXVN:I.]tR]EUME<2bme2\0gAbcwOP!)w$T\\RI\' )""LOF>O3fG~wBG:IL&\'e$wN*<4\0P\tgUGcx\f~\vpFFEH\fH`X.LMOs?!T)"o\0V;nL#2\03\b+VreZ*x]7iI/(6\0)x\vs\'(\rbnB@xElr`a8\0ZPC|C\x004d.L_fBH.G*\0\t5dM#G\0jGUe3"|nxw1\'!!A(\tE\v:X#q+zm\\|40&~8\0XXy5OsYiq\t5n.t\0\x008\\MI>z~F3\b\ft\0P_;o^&m3"\rl-\09UPwK\0X/V+v?\n}\\:ODI86\0`b\0)\0bi>\v2\t&yI\bRsm,\'\t!\bQg\0Q^q;,27PW.hnW8Z$1QoO>L\b0B$\0]*tDP~qD+<p$/_>rH;\r/X%?\0y{-qMA\bTa":Xws}\rM^i G:2e:~*UL?yB_%\09\0 Z+BVyz-5\0P,\n\0\f\0`U:p0t|\02]\0z,x1\r\0u5jH\0<x+[pa...lve777Q]Gy\0W.`,D1@Qelwv 7\0\\qe\\{W]\ruar7Tf!\0Y~Og38WB{5=g5fQc{\0o_`%8L\\h5Jj/-4\0T\\g-e=v}OHOo~ n\fy\0 H?GHOilx/\0zq7Y\0G@yrnAV\0zu:ZG9l{\f?nCU~:tB(&\f%q&d s[zPo,\fZ!8\0>M\\\'Sw9B\0(B(w{H\0 ?\0\bB+P+/bJ\r}O5[E`T!(m\0@2e`Q<?\f\t&.k{\0\0WY6\0~i\fWO\tRL@1m@#D2\x0029(?\0P2k*22|yy/_SSH,%\0psP\'C2g\b?\0P*]\bS9;m1v\t\0P6}}?ccC\f\0\0>@e4L\r;-\0@;SKcUWx)<\0\0#d;c^)$Yg\06POOLvqYfi7\t~,R\0 N/\0d:u@o7\0&TMy#@3-!:T\0f=,W\nu`\viq\x008tc9|`6]m[WK\\d+%8pl\0\0oFoB)*!}&"\0P?^E_:\t&YH\0+*zOWtssMqnYCn[nm\0``\nN=DX\0\0V}G\r2D|\0zu\0g^r\v9\nY@\0.x]KK1\t%#-NjEk\0^zyDp\0g\n\0\0I!h#ll\0O*^:}rd]*m\x004n\x004jh/oKC@6mT<r\v9\b\b*\0TJ3b^O_0\buG{y#\vu<\0leg[O$%+&0tGG*i>@/}>$x\0^~(-v\0P\07\b*Bsgq.W\0!\b\0JrEFF3:h\nM+e":3RA;W(z\0)P\0\0xI`b/h<Vp\0!\0\bbPl\'5\0GqE?S"Vyjh(UT/<@43AW\0U@u/\0`nNGWJ,?"&M\0,?~\\b><#O\0sea\\1dp?i6\0@kv\0Emkr\n\t\t8-" 7$:!3\0p/|d\0%v(s5\r2wz=v \r\0jW?\v_.\\\b\vjpa|B[\0\0WF1#\x009rPay\0I.%4&X|\0 6\04Yh\vb]\nWW@TK.g8;wN\0tw\0\096\v,\\]\n#$-!\t\01w*]:FO\rqJp$u4\0Wur8ov-WU"\\ml\nsS@/\0%B2J\0`oj23d\0(VqWu<_.?\r\0&\06/B<G~Ixi8&8Ti+\0(A9\fA=?\0`U0`a(@\'Oij@F\rJ\rF\0\b9\\AG9A0g([$\0\0\0U3(@\0c4I]$/ //?h5ftn\0%l?\\2Q$+Y2zL<\bVqJl~\0C(B\v4\0(0]Sx5?TT\rU\t|rX#Gzax@}v#GC}{%gF\0xD|3UV\b;]O\b%]RIS\0H\fZ=K?\\|;lGAbk@P\fP+tO)o5\0(@U&gf\0\0@\b\r\0~)46(*S4~`_\v<^\\u!\n\v$4kwTPv..S\\i3TQ3v#F])egG\f*svvD\0\0\'SRRbccg\n~Xj~\r6JwB;w[+"$8T\0@|TAW~?\t\x008;>\0{\b,#xro?B|m#8v.u:XU :A2^CKe3*1U+`>Ny.ueJ\0-sltKYHOR\n\0j&OC7!qY3wr`>"F~>Qm=\tbt:(1|,`\tUGFMIRgP\r?i7]J\ns]\t\tu\b_z.!]B;JEW\0\'\'E2\'V|+dIiF[Q,[lm!W<g@EV\00 /e0(_+.QXCy|(=\vg7OH\n[*xC2\0XS\f_a$\08\0\0j{<@<{`O\08\x000RsPWK\b5\b\0#l\v2,{w@@@Ml=j@\\Yn]=64JJOx\0j\\@svSJ77\r*ss]jrF.e.W06]*A0p,p5\fzX?wnV&p}\\/2Zry.4w4!1\bQy$M\ne5huWkZW/ci6%2>:@9@Q-T cEU_+t\rhq0\f \x000xvvX?`TU;_)x"_dT~StT)I}Yx:3\fk,Ell-{|~!q8.X1w$N:\r[d={X\tq?SVBqG[jZ{Vi5;;E0b;k\\9\r*sPRzir.WjsdUP`P8,\0F\rjsvv<$2.m\r({YgQ(\\3~o\v*c\n_"gN\0\0\r(Tb\0\nN?A\f\nf7P\tP(>\0\fBqN7+T<oi\nER[>kyZl,Ehmt%EBQ#_~!YW)AgV6lX\\N6\rVff\0;]UFC1/3GY2W`yQUf XV/9h%~afjke^@4!JXB\fdC"~6\0#+9\'\'q\',%,xdv]ra&qgJeZ\\j1Y->;BQkd3S`>C":2qK#W4p82; \t%(a`dM(S<M8\vwe8~?NH\vg]=;Sbi\r_wJ-:}jYZ&FzYP--"F.[/xr_<lBSTT@l:\nBqibG%)rWjxg=Y_]yBUNMr*}U)"\0\t<W\n\r*[\0P\nW*v`:A3af:GYqI.ZzEVH/[bBP4S43mY\n&j=uBQD\tb8J=bKBN>44T(d|9L\tlG\tHPl{e\v*s,U3!\0*^\'>g)uGsu\nLYdH7\bi$lR[rlPxvs@6f2Lyhbm.+DJr:wl;v9r\r([CCs\n\\x2~:\04vhcxg0\0D0K3q[q!|jA-jCjny)zPT&*)l\0\0ggeRw*o.7S39&Fh_](\\Xs"iljbPCCBBB@n\fVXBN2M*\fMa7}>Je/2<YEc%g;D717x\bWCee8x%ps+4\fAs\v\\z,A88FRd#4Sx7]ZZ4~%CY^ 1o+WNSRR4{w0aB\rYXHx8K2w\'<U`mf2XPq\0?PngWu#l\f:CTF3\t=3~PGBEkf\\#C2B`-/\0Nx7K`mNLM|moQ-V`2No|\vn#GE\vi[@#pQU)lP3|a"\\^4EhXm,X\tR7my||||L\f\0<h=do_`dV"""?m>\0J+J!P\'x\\ \\\\>>\0_~>p\0FGbbboo\0\\/2A$W+O\t`-i(\f{iW+&M>e\0M0Bru*JUU\0@t\0\0wT@\\I\f0Y<y"\t?\'p.`S2.9hUd&-Sc!tb{WtX33$#>iD-\v\0?lIIt\nF-ZTe\r,Yc+W2\v|y\t\\(*M\0\0\'p,qx[k?8::N6RR\0y9u,:t0\x006m"66EWUN?"!y+lt3(1\0~\bC!!<quNA\b!`)87xyiFeB=I77-x-/%c\0\0jWrD\n\0$YF \0\'T\0PPBiqZ\b\n30y2T&[[J.+V&zE[dP\';xw2^J{\n#8fg\\Bb+;OvvSrCk\nm~\'N[|x\0~^-[>\t&m,v@}\0\05ljC\0KCI%..q2Kz7$JxGqk@PQ<To! E9\0@HGxTxelN9\fl-?OQwKoo?e$ddB\0#=y6h\raXM\tan\0\0Y?\0&Ycy\nLT5j\'s8KAjx(v?HI1$m:AHQFL?jN:`~F3@vQR\fHH+#_+&X1\'M"80=h;;RJ\'N\b.5{!e\0Lf/|\0z8X$B=.^(\0*TgM2EHqIIb8?qkFtu%{3#\f&[\0?QJ):wf\b[I3e\n\f@:f9#R#G<$\'7L6Hy\0\0\0u{\r5N9~Tf\v7t7tE\n\0LU]Oe/>KCiY+t~9F6\r1VF2H4Kmn.t9N,"\0`5UTzIZhq1:@,5,1\t\te#rdT#\rjut\0TJ2Q=d\f\0~~qPD\fYW@^wTUa$q%pspub_2uFWc\b`xt@ \v8\0@PY\0Puf+WLz<Uq*\r\0@kOFL?O>Cp!03fRT\fUGO.|tkx\0<\0P"`[ #F \vCz2L\bq!Y`"\rXpWp&}p!)>nm\0;d\r"IyJ(-\0\n(0}t@Y{\0qF\bGo3 ??wtBiptyUa\t9@n]) \\bPLgs|Jjf%"bl2!m\v-[/@]l\t"\0 \0@\0";yUjI<AsRUf@Mrwo#\0dP1Z[I&<aX#k+=?\r [8Je\0;w@@-Zps)j\0ds$G\vd%\0L6-GAs&l23\f\\z|x%CX;k,\0PfM\rjf*\0Yqm"h6\0,N\fU[yB\fumvu\'xs2#pVF-`;!6m\f`XM\rnG\0\0\fD>\0q\0:\f:vQ#\0&7Ej8[+f>AYTXhb-gJww]JldeI~xzr$|Kz+hBl?uo!!b\vFs@&4Y,{qS%\rv,aaaSwF\0cX[h!\v\0@\vf1@U>*i<WT.,B\vh!e%N-`_ShsZ0y.0F8\0 Lp\0$\0Hv\04x;Kx35pTzu5f\'aD%<M6&!_xL|;P\t8*}^AY/ADg to5n\fN="_q\b\t\nU+fK}\'\f\0\bWA4\r 4T\ne+J,\0oouyc0@oU?*\0r}90;1Bb\fBL|F7Ub{*k ej+|n=\r!T`sWoPoy\\}H\0\0\0@2\t\0 \0\0\0\'\0x/9.&NN,B_Sr%a~xL\t6^k(u5F\\\v\0vO3rx\rQ:3;\v-?}Kk:\0(OP R  %H$4C\rMzh  BII\0 H D\bPAD?w{w{w{\0>{_X6mrh^3oeh?MUva&phw7o<T@hTBdhcHx-E%3PLo_M=yW^\tNz"e<:hRMA O3#B1dyMx\'gl\'d7s,c\t6\fM.dA]|}Oj8*\n@bDMx?;v90hPM]Hs V6-${P:]i}(W\0<{#(z i"^d\\q|*Ebvj$z-:Is`jej@\00U2RniE\x004zzU.[EC+v.@-o#G!tV<UNcba!!C<+SfKApjbaeg$LxO`\f-\b\\ns<N@Jlhp]thJP"\0WvJ\0 ,"?$o[l,mo\\\nbW@\0\v\'d\ro8|8rj\'?uG,K?!?s\'\vhK\0ul@SBAi\rX\b\v]=t%6#rFkr\t/uedS.\0U*YT4&;\bWI>O%2|nT`08Pot#T\b\0h8cw80\b@M\'Z\v1~Ox8\'qcv\tl\b?uR:)Q9@C\r*P~O\0*\nuaa\fyqePv#*=RRLn!,ZKaT@cl|PqzNR^kdi8i4ri<|jr9pooR]fe\0TU&6|\'#GcB"\\T\f\0vDD]qh]-7o8U#G$#G>6BE\b-%!e0;l8f|Q5#\0RR4k-EUBp&?;}@p``;q<M[sqR\\"\0Cul}O&\'MJzAeaI:>lsl^vHrn},iJ\0~>=ZbKP4x\0k(*MJ2r\bDl5JkiO\0?_e6m-xlm5hJC]T\rlLW!}0t?HxI52\ff0IN\0&kI\tk-i_k3aL\02"{:=eO=,V}j|T K$!X(9\'x"e\f:DF<[jc\f\nyFgt\bFoxFaz-i\b96\'i8U:UQ+)>IQ>u*[\rG\v?b6O#<W/P%Od\0~s$DDysoo<y.]l8RRk/Ym&e=07\t:C6xeTyz%K6n822+6nLN\0{E*uC`\'0V?\0IM_\'|,+@b!hdeW-MN\f\vVYjelZ\tW+6jUSAB ca\0XV{WrX^XYbpV=FEp]e>!_z\vNNn-i"x/hgl|F\0TIYus}j^{/8={+W<ydg~Jw)\'yL%wU\0>L+XbO>]l|~y=c~jN\b@x\fM#F\0h1nmPia.%PY\vj\0vA\0SR[@FX^st?s&I&\f3/obr\tjV20_-Fv}Yu*cp@C!>C:M>! "|1g-Z\r?-WhM~:~JyE?<`Xkhr?-Nf}=3|5~mVVU~.j>==QzC0^!nQBvN\0h\f]#V0)I#12/u\0{Ms\0;m\b`1\nfGe*\fT\0\tCy050MXj*;1^~%5Kp$$Mq$G;1u|B@LLf>bdCpI&*\'{p\0Ta6UU#x0)P\t+h_+\'.K\fv\0e\'M\bR@<r?`QaXy\b\\b}w\n]x4&\042]AL\0jM\00xml@]vm\vS.(D8k~U`:v\0F4^WNM\0e).c6~c6&/#u7IuhhH$iR2#)iB\0\\hs\\\nK>!`;p*iu$qV}\0e/A\0&\vq!BgjTzq,^\b\v!CE6m\\7[%\0)Sr{a\\rI\0y\0rH\0ae,uo3!-K415j\0p\n3 ;,ldNRh\0$;Q&xcP\fUMx$4Gie7zUq6Hn[K.ev~rhIsi,wa\tS vK:]\0Xuhi0=?UVRU\fw38#,gOk+VXMCAw7v;wKH{$\0G<\0\r\0M>a\fVGrJ\0*4jiI\03gn@14;},ryIP:=\r//KK9B(:^ahZBc-z n-x-O))WFE]gti9nKJn\0U*LQ~@i47&J{~q" D\0K^paj@|o \0\v|C~&DOz3Y+h~(kYauee0rYk5mC wq4;tF;\0Z!a.zv@_Z@\0q)j4?b]kE%~DvU)<VNol!Ew><I\tc>=FQ<[=ZH7EOI}T\'cF3-vQ0U[_K0\0BBU>_|N.\0m?N\\7D\ba1\rC5~m\r~i\n`\naaa 1Z\f!47pN"Xb\02E\0lVU,|z|ULW)*{v3Y*\\xU:\fY};{_V!JYV%IRx#nd.WGGv0sGjCCeM\v^e"\'`;,HL,S1v-mfr3U8}\nf!!_6_8g^\t@kbq\0r1`Cv\rK+5k\0p\0SY*#tY>#F8hY`11e/~8uYndGX$uzx|C\\j~v)d7u7nF4cbN;I.\rvSVy#Gcg>oGL w}46nz-Cr_fcC]`~Uf5{5J0F\t%cp\fY<\\U4*UT)T+VYU\'U]6U^\noy?\0._fK9bt\0!oaaa[n+\n\nr\0dh9FWyI+F-12)X`)E\x002a8:Jr%;fxl#BM\0^H\'\n19ALyu\v.;CKp1|sjO\0r&(7^189gY%<J\tZsH=pyN\0HM\n9`+Ai;pG\0:wfyo(\b~sA\0,]\r6owM<xp\n\\uH\0c^z-#t<1>>G\t\fT+ Qh1\t\'B\r3f|?\0i_\v\0O\02@H\b\'NS;k#6\bsF\0Y-6e}^Ly0q?xG:q,rz\t`?(qe~km{X*I\vVjjD|ESH\'G%\0w\':!k\r\fyB4v6OO_A?b0rp;(`X^A\'\0g^v;K+V=tz\n~/mf.u2tZBB8#0j%OkXOZUFpwpUicZjXZPX7Fo\t7:v3n^FYMj^EN~~XUo7TW\foo\b\r?%K`Wh>3\n\b\x009VX>w$\n4R\'DknwPp\fl\tu;we$vv2R-zz5N\f>je\\\0\0\vGFw+bB_(\\fKCIz!Iy29B=I-I(I\'%)T#IocyH :A|-[fM???///+mFZGQ$Iz\r`z,/F*Xg:Oxl$)\\iSJfn/S\t+12V~K7#C3\0S??IU^e$Uc8^3C,IZ5//CHX8|Ub11v6`^ZC}\0eM.m9=lzg\fO4M1TH*esED_k]\\kG(>5WV|aDN;G\0iV<nONG(\vnVy5g!@$l@Ws\0X=q!8*DH&%&\'10^t5|$P\n=?K+f[Q14q\b])\b/PZq|\0Q*Ge7K0lQKK+BEV,lW>Sh<U- Q_^?Hop-b\r/d^8oK\t\fe/i^kP*\b(W0.\n&HmeuZJk/hTVKZf5oJ%t^/IUVF4\vNX*T!v2.92\njwoiT^9*V_f"E){Xg=enyM+U\v$+ IJDI\nVi[W$-O,)E(Uh1R%$]-I\nT\tUmxQG-m6\nn\nMVRK\v\rYn54j}a}5 q)#A%<Tea*=z*U\fk?\f\'!VOwCu4~N11Lp>D]A)\0avyB\ryb?-_n(VUu\'Na}s]tvThD)U22##FFFRy=7o\r4q9\f\tCl\bV5[9d56Dp0y\f[\f1Cnrbc6ofM^ZX:aaVz6:3%?v2RT \0FPi==\ru0kcTWaX\'O_\fE\r=e*=xX@yebTcmi\nC"go?SsX&^(]MW+=z^p:?t|MA){Qfo{)0}|X;$Q.&\0[[]\n\t2bHCp\0|w7TlxxII TBfIg:$n?[yqdgp7W}\bzyr0hfWA\0*T@9v>G\0Ht25}u\f\v%r.s.\\Xdu2\vW"PjX&1(Ei\\d3g\f5kO{q1X)\tRR2KI9=|\'ewyg)?>w_|C>}[;8iSqQb\tU?>}}`l.>e |,L#]?BuBAA&&&\nT)B\0\fY"UF!8=62@U\\yx~-c5$M)gi0.Y\ruud;D*VIi^<}Uq7\b@Q7kI~e&Z^rP>ds=@2.\0=-%@s\'sM4[i&){~%5#v"Gz+fG:2p-O7E#hu||gra5.h?fmx(S{\f2CaW-\t\t\'\tY]z-%\08zy\bVzXI,nL8#\rioVk\t{\rD+|4WsDn :\t@RrbHgh2:t{"1(oLKXq2M4yr8<SY i\tRF]j7qWR8b_J\r56:v\\zSq0$Ku,4y&N\\-gO\toplV*\\xq+[M(,^\r->L\0A>[6x09!bMC._nTvk{:W\07*;^bv-O7xN\0"A7g]|5=|hiCN6XUreP\f$Wk,wvEi %#{PqLASE@Fw\'oM [W7,\'x_?6?m?*-.2\f/ZbO\v(_p~W#?~Hu*NvYx.\r{\\ms#F"h:HG"$N/}gp0|:NN=;\'(~5\fUXyZZ,eVG\0BB\\LcUc\f*43\0kJ/?C\0\vwzRj}\v=K9ac!zp\x002dQbF]~{>7Mi[7*1+`6me<G\0s>XI=zHIIINNImkq71&a|nF\0@q832\nF\0\f8%hr\rEjwk&\0^&,-snYUqO+o0O{pjh3-!/[4UiJr_;\0GSbj;\tRLDe(u\vuOYo_Xfgu\0d_@8~}J\\5yFx9jhcll{+s*WMu\'#\vW7h}MCVs`Vp%}5K[V.^x^z.Ryft9e@hsyEI\r/T{1]:k\',/\0r[[}&wn\tX=kw_J."7zbE%%9=\0XZ\'GPy3Qls}c*J4zP98pB)mCk\\g_K\0D~u\v#Y gN/X\tI]kt1f_~nRC\0k<\n}-\bE\vYZb+\nLIj\v5kec, Kq#jELmc#}cCE.zRJYVhgOQ-$\0t\0>/e"09J\0K8l7oh\vk\0,RVQQg\'iLgOGVoEE FM47S] AikszLe)w_OM8pBnt1(\\\t\t\tZec}z*5}Qr<H"{^\v7XB9Kh>#x/eO,\\#U-Kq/=OCz\b@L1\\1y(\v+UuA\r\'$@L/+9y_+W@\0Z.frBj+!23z[\0Hz]{9IX>=WMDbX\v\ncapsrIR.\0,tT&O62fFLGzuUKAy;t?uM-qf\0V\bo\tQ9yXQ> >pxft@}w4hay3Dwj3!z|66+8\'y\0*Ud{peY;(cF2[~%\'\'Lx!C\n6lXZ5\tCp#f\\o|zj\vpa\f\f3\0\0-RVg\'.jU4T^]_P(Qm\v<Bu~FS-@v4g\\OJ!BX>8r\\N/OqxklMxFbt@\vg\0eQ5ra!82lQ`B(AT||>Sc27j/s\rWY}=\\&,ZU`w-)993HJ\n,X\0N\0G\07&Xyy1KNS4oFH/L2M[c5on]0q"P:t(<u\t&6HD\0>%\tTs!}N\\k+`\'AQ8-\b":C<e0xQ{OrR^lSx\ry.T;}1hvG]"\0EEZ[kDVhI\0\ra$Fq\t<W.I$#\fC?^.h)k+x7wBXXS/6_{2|j+oY}T\nLr$3%w=EPUr/^t7QPY[\'?:Ke=hYmkJ#2;{y+\fhf^:\t45Y{G/;w\'_pa\bskz|Zi\000Q<-:wfNQH6\b#~y$%(e\'#Y}yTa^\'8Tm74^\rV\r[gMti\\x]Xwg\rSjG3,vXO?:=D2HoMc_\'LTVCm|rX; JHK\x002*/<49*)M\bbE\n[b*/G($Lj\vmY\fe\rIr\0h=ZR36GvLT\\-ar?+\\92OZIf(d\n=\'kC\0H!!!?rK/2oMf&q?>~_xbw6m\vx\0;^}\\bEaYnA Wkh=\vfA))`Zz:U|`!\vf#3\0GF~{c/^cqq=;ws%G8PXjW_ \'Sn+vDLTFnoc\0B\b:ttc_\nB6}Q-};h8q\v_JYB\0zI$saIylF;?!C\'[KJ\ra\r7+y\\bM?4C>-Ztu%?=tPv\niAV"iqp%Jt]uU> ?~\t/wE\r||MQO=^*#\bh\bY\\uvm5_MqfIEjQdtGvjUab>\tgOfio\r*JEYE/b\\<O3;pf|/h2}^8f&Im4L\0X\nxbsLcasw\tbE+B/Zb\tP!\\Xo.e.o8:\ny3}+y4;tu\b`jmv?##c|?g\tzlk+#9|\r3<;1%IZ|s)yo~;v,MO0{||}E/fl 6i>gjI0_H\r\nNH\bNL<l%DuZ\ns\'rti6a\t1Vm2\r0\\]qf>^n0sfM8B9kf3\\D9\v}eoI,="{E$/%4mcu"8?ODO:\\65@=43f7{uy\'~qvF_~aqVOp.k^nzw3o48|^f//fU {\t$VHq UPl9<\r!^ VMdO1Fq}\bWo)$\'&&^z^^^>2G}\'h0xEd:u&L)=@5$HjTWZS\'+d[HL`Zg\0\t4TOu@Pg\n ORz\f\nLiR\n]/7^\\)\nt7$+^#\nUp,nm\fO1rw)I:b0$96Sx @\fc\t{~X\tcm3q&}qA,\b:v4m!\\upAI{:Ytm-qKO_e4;5 Y\tlO4Lc#4\n*>B8\n{!6t\0j@"\\T+dI\fUVppp\r/.]:`_,nvns+W\\v[n*Tq#:G+}5Fp<\nC];\0&R#kK\0"\0VaSxeA_,\0%yz.;wS=\t,h<r\vD7,({wsyJf\\\rkm]\tj\f\'Zv6\0P@eBO\fz3+fUB1t$$\t}1.#p\t:\b}ONR\0hempX"[@\tgzZQ\tL/q3j C]ZjrAAl/f\'F=OO\by@":]H2}uj_z>n9\'\0[@L]Q[.\\}{%K\n.(tbU8Oy\0M\0,z\rY!k!\0?==CqOl1L))K3!&`39zHsbJ*JT"#\\\\nX{y-\vy],\fpo0\thSS(#vFC?P>s.y+jVo7LXkR\\=;L>WF\vQvSG\r;v,~\0h1>%<?BG=2d\0C4vz}sP\v%JpXt\b@+ u[`}d.dF!yXJ\\6w.I\b<e9-e\v;--;yLwR-\\! \b@G]L^eZ1D*K\vKZ- \08~\txCR>}T!=mVLrr~1U`yjwk.L+Q4\t\\s7{8g\0Na$\0/\faSC\0u TGaaa7oxbJZb\nr\0p\vl{#:l@K_\0AF\0<=[(%.)-tA}*_-<%9! \0Y/nUyT\tb1Be)O03b\t^ZhT\b3fXY+~NOkI\0}uD:#\f8"\0xzfpLH.([+?O$W_<x`R~\r$\x009y7@3VcxIIlS[Ucyq\09<\'\0Fcfh3;h\t\f\n\nHHh5w7FD~- K=P{`)Y\0mLCu)B\0\fhd3c*\0h>=R,uJ\0Q/$J9s\fV"1r_M=5w?\v:4\0"\vf{+\\RK;Fm6<y13\r\'6+S^[@If_.vm\0,oY[#|:6i$11G\rS_<\t2f*\b\n,ua\'F\\A||P\\BcW<tD\0-%$\\qiX"E0q/\0P\',x1S(JI*@<Sr9EERcb{3\0DGXE\t s3\r$-`{?Oq\nPa \f\rrw\tQh54id\fxN&Mk8fZYUJ*W2k|k/Z%z/>5\0zg=shz5S=q$+W^=x6>8~=\f@wT(\f0h?+J\v_W?1"\0%1<\fq]Y~QQVmaszl)C\b}@(,rs{LE!y\\\nwUlBt-&KD%t\r0#.1{-3_D|\f \b`rX8/%`xZ+5?x\0Wx-2mW-\v+2o8Wt_*<:LI!CyPl%9/^5E,];hVN?]%1> \0e>:wNH&11(8"Tk#\0<52?g\n:M3IA\bn]yNPMDf|1k~es%cFcKE\0L3P\'3nRk59LUB\tfMrS)={tRSVO?#0;Nv2v-SI"eQA?ufr\vn9n,Ivq\tGB>\n9!dDH?\0O4%$yBivrYDBBh$wyi.]w\trwlM\04a4F*}|-9_R&sD\0V%w\0llrYjC{ZaUT>MMP\f\bhGK~\'-rbNW3=5k(cKH\0-_ \0k8Oe-.kKuTvVls-ecbLY5V>Th!$a]n=;l43-\frjc~[xq-b,~ek\vgOL"!o2 C\b\t@+-5W_<3+w&x\bw7!5q]lK~Eow&*4V:\fy*#BeG^5!S&C~yJ1F6mo+Irb,r^*Y\fNS%3-kYF.~:HOJ-[V$2feIfdK\n_!Qn?1D\f`3/3fP\fn4}B\f!I-?QFn@3R*3fDl1O}\n\nw]vcv\f\t8{n(a\t|;d\t@= \f!`\bkmM?f\n6]6~!CcM.lXl1l18fyX|gmLq{{bRX09m\v\vC%\t\vf$\va=z]WeB,/\0[BM\faHLo$$T"I\\Y::,)^14,(I\vU)-%m%K)/~ZG1b^_]m)be\v!\vTcq#a>!de6\rN{x\fqcmM/^|t\bv~1?-j%9@}]|\bHpF\0W$)A%)Xr:HeWsintUnHR/ZU\\PP*o;g![hRT;65NG\v2\0kUw1Kk]hpAq-@.x`|*H&%i$oZ1n7\n,{U,\0\0?Y]VSG$\rFSKI]V\0?4Uz9ISw\bl .\'?RO{cM02A-@S7rc\0G\0\'U\\A0 \\@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@?.42\0\0\0\0IENDB`'},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(14),s=n(30),l=n(0),u=n(18),c=n(9),f=n(13),d=n(8),p=n(43),h=n(7);!function(e){e[e.Move=0]="Move",e[e.SelectRegion=1]="SelectRegion"}(i||(i={}));var v=function(e){function t(t,n,r,a){var l=e.call(this)||this;l.onClose=t,l.spacing=n,l.panelHeaderHeight=r,l.xAxisHeight=a,l.maxRange=1e10,l.minRange=10,l.trackViews=new Set,l._closable=!1,l._closing=!1,l.x0=0,l.x1=1,l.activeAxisPointers={},l.secondaryAxisPointers={},l.tileDragging=!1,l.tileHovering=!1,l.isEditing=!1,l._rangeAnimationObject={_setRangeInternal:function(e,t){l.setRangeImmediate(e,t)},_x0:l.x0,_x1:l.x1,set x0(e){this._x0=e,this._setRangeInternal(this._x0,this._x1)},set x1(e){this._x1=e,this._setRangeInternal(this._x0,this._x1)},get x0(){return this._x0},get x1(){return this._x1}},l.onTileLeave=function(e){l.tileHovering=!1,l.tileDragging||l.removeActiveAxisPointer(e)},l.onTilePointerMove=function(e){l.tileHovering=!0,l._dragMode=void 0,l.setActiveAxisPointer(e)},l.onTileWheel=function(e){e.preventDefault(),e.stopPropagation();var t=0,n=0;switch(e.wheelDeltaMode){default:case s.WheelDeltaMode.Pixel:t=e.wheelDeltaX,n=e.wheelDeltaY;break;case s.WheelDeltaMode.Line:t=12*e.wheelDeltaX,n=12*e.wheelDeltaY;break;case s.WheelDeltaMode.Page:t=1e3*e.wheelDeltaX,n=1e3*e.wheelDeltaY}var r=t*t+n*n;r<=0&&(r=1);var o=Math.sqrt(r),i=t/o,a=n/o,u=2*Math.acos(Math.abs(a))/Math.PI,c=2*Math.acos(Math.abs(i))/Math.PI;t*=Math.sin(Math.pow(Math.min(u/.75,1),3)*(Math.PI/2)),n*=Math.sin(Math.pow(Math.min(c/.75,1),3)*(Math.PI/2));var f=1;if(e.ctrlKey)f=1+.01*e.wheelDeltaY;else{f=1+.01*n*.3}var d=l.x0,p=l.x1,h=p-d,v=e.fractionX;h*f>l.maxRange&&(f=l.maxRange/h),h*f<l.minRange&&(f=l.minRange/h);var y=h*v,g=y+d,m=.5*((p=g+h*(1-v)*f)-(d=g-y*f)+h)/l.getComputedWidth()*t;d+=m,p+=m,l.setRange(d,p)},l.onTileDragStart=function(e){var t,n;if(l._dragMode=void 0,1===e.buttonState)switch(e.shiftKey?l._dragMode=i.SelectRegion:l._dragMode=i.Move,l._dragXF0=e.fractionX,l._dragX00=l.x0,l._lastDragLX=e.localX,l._dragDistLocal=0,l._dragMode){case i.SelectRegion:e.preventDefault();try{for(var r=o(l.trackViews),a=r.next();!a.done;a=r.next()){a.value.setFocusRegion(l._dragXF0,l._dragXF0)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}break;case i.Move:e.preventDefault(),l.tileDragging=!0}},l.onTileDragMove=function(e){var t,n;if(1===e.buttonState){switch(l._dragDistLocal+=Math.abs(e.localX-l._lastDragLX),l._lastDragLX=e.localX,l._dragMode){case i.SelectRegion:e.preventDefault();var r=l._dragXF0,a=e.fractionX;try{for(var s=o(l.trackViews),u=s.next();!u.done;u=s.next()){u.value.setFocusRegion(r,a)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}break;case i.Move:e.preventDefault(),l.tileDragging=!0;var c=l.x1-l.x0,f=e.fractionX-l._dragXF0,d=l._dragX00+c*-f,p=d+c;l.setRange(d,p)}l.setActiveAxisPointer(e)}},l.onTileDragEnd=function(e){var t,n;switch(e.stopPropagation(),l._dragMode){case i.SelectRegion:e.preventDefault();var r=l.x1-l.x0,a=l.x0+r*l._dragXF0,s=l.x0+r*e.fractionX,u=Math.min(a,s),c=Math.max(a,s);u=Math.max(u,l.x0),c=Math.min(c,l.x1),l.setRange(u,c,!0);break;case i.Move:l._dragDistLocal>4&&e.preventDefault()}try{for(var f=o(l.trackViews),d=f.next();!d.done;d=f.next()){d.value.disableFocusRegion()}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}l.tileDragging=!1,l.tileHovering||l.removeActiveAxisPointer(e),l._dragMode=void 0},l.availableContigAtOffset=function(e,t){if(null!=l.availableContigs){var n=l.availableContigs.indexOf(e);if(n<0)return l.availableContigs[0];var r=(n+t)%l.availableContigs.length;return r<0&&(r+=l.availableContigs.length),l.availableContigs[r]}return l.contig},l.render=!1,l.header=new u.default,l.fillX(l.header),l.header.h=l.panelHeaderHeight,l.header.containerStyle={zIndex:3,backgroundColor:"#fff"},l.header.layoutY=-1,l.header.y=-l.xAxisHeight-.5*l.spacing.y,l.add(l.header);return l.xAxis=new p.default(l.x0,l.x1,11,f.OpenSansRegular,.5,1,1),l.xAxis.minDisplay=0,l.xAxis.maxDisplay=1/0,l.xAxis.y=-l.spacing.y,l.xAxis.h=l.xAxisHeight,l.xAxis.layoutY=-1,l.fillX(l.xAxis),l.add(l.xAxis),l.resizeHandle=new c.default(0,0,[1,0,0,1]),l.resizeHandle.layoutX=-.5,l.resizeHandle.layoutX=-.5,l.resizeHandle.layoutParentX=1,l.resizeHandle.layoutParentX=1,l.resizeHandle.w=l.spacing.x,l.resizeHandle.layoutH=1,l.resizeHandle.z=1,l.resizeHandle.render=!1,l.setResizable(!1),l}return r(t,e),Object.defineProperty(t.prototype,"closable",{get:function(){return this._closable},set:function(e){this._closable=e,this.updatePanelHeader()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closing",{get:function(){return this._closing},set:function(e){this._closing=e,this.updatePanelHeader()},enumerable:!0,configurable:!0}),t.prototype.setResizable=function(e){this.remove(this.resizeHandle),e&&this.add(this.resizeHandle),this.resizeHandle.cursorStyle=e?"col-resize":null,this.resizeHandle.color.set(e?[0,1,0,1]:[.3,.3,.3,1])},t.prototype.addTrackView=function(e){e.addInteractionListener("dragstart",this.onTileDragStart),e.addInteractionListener("dragmove",this.onTileDragMove),e.addInteractionListener("dragend",this.onTileDragEnd),e.addInteractionListener("pointerup",this.onTileDragEnd),e.addInteractionListener("wheel",this.onTileWheel),e.addInteractionListener("pointermove",this.onTilePointerMove),e.addInteractionListener("pointerleave",this.onTileLeave),e.setContig(this.contig),e.setRange(this.x0,this.x1),this.fillX(e),this.add(e),this.trackViews.add(e)},t.prototype.removeTrackView=function(e){e.removeInteractionListener("dragstart",this.onTileDragStart),e.removeInteractionListener("dragmove",this.onTileDragMove),e.removeInteractionListener("dragend",this.onTileDragEnd),e.removeInteractionListener("pointerup",this.onTileDragEnd),e.removeInteractionListener("wheel",this.onTileWheel),e.removeInteractionListener("pointermove",this.onTilePointerMove),e.removeInteractionListener("pointerleave",this.onTileLeave),this.remove(e),this.trackViews.delete(e)},t.prototype.setContig=function(e){var t,n;this.contig=e;try{for(var r=o(this.trackViews),i=r.next();!i.done;i=r.next()){i.value.setContig(e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}var a=/chr(.*)$/.exec(e);this.formattedContig=a?"Chromosome "+a[1]:"<Invalid contig> "+this.contig,this.updatePanelHeader()},t.prototype.setRange=function(e,t,n){void 0===n&&(n=!1),e=isFinite(e)?e:this.x0,t=isFinite(t)?t:this.x1,e=Math.min(e,t);var r=(t=Math.max(e,t))-e;if(r<this.minRange){var o=.5*(e+t);e=o-.5*this.minRange,t=o+.5*this.minRange,r=this.minRange}if(n){var i=3*(2*Math.sqrt(1e4));h.default.springTo(this._rangeAnimationObject,{x0:e,x1:t},{tension:1e4,friction:i})}else h.default.stop(this._rangeAnimationObject),this._rangeAnimationObject.x0=e,this._rangeAnimationObject.x1=t},t.prototype.setAvailableContigs=function(e){this.availableContigs=e,this.updatePanelHeader()},t.prototype.setSecondaryAxisPointers=function(e){var t,n,r,i;for(var a in this.secondaryAxisPointers)if(void 0===e[a]&&void 0===this.activeAxisPointers[a])try{for(var s=o(this.trackViews),l=s.next();!l.done;l=s.next()){l.value.removeAxisPointer(a)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}for(var a in e)if(void 0===this.activeAxisPointers[a]){var u=e[a],c=this.x1-this.x0,f=(u-this.x0)/c;this.secondaryAxisPointers[a]=u;try{for(var p=o(this.trackViews),h=p.next();!h.done;h=p.next()){h.value.setAxisPointer(a,f,d.AxisPointerStyle.Secondary)}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}},t.prototype.setRangeImmediate=function(e,t){var n,r;this.x0=e,this.x1=t;var i=t-e;this.xAxis.maxTextLength=i<150?1/0:i<1e5?6:4,this.xAxis.setRange(e,t);try{for(var a=o(this.trackViews),s=a.next();!s.done;s=a.next()){s.value.setRange(e,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}this.updatePanelHeader()},t.prototype.setActiveAxisPointer=function(e){var t,n,r=e.fractionX,i=(this.x1-this.x0)*r+this.x0;this.activeAxisPointers[e.pointerId]=i;try{for(var a=o(this.trackViews),s=a.next();!s.done;s=a.next()){s.value.setAxisPointer(e.pointerId.toString(),r,d.AxisPointerStyle.Active)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}this.eventEmitter.emit("axisPointerUpdate",this.activeAxisPointers)},t.prototype.removeActiveAxisPointer=function(e){var t,n;if(void 0!==this.activeAxisPointers[e.pointerId]){delete this.activeAxisPointers[e.pointerId];try{for(var r=o(this.trackViews),i=r.next();!i.done;i=r.next()){i.value.removeAxisPointer(e.pointerId.toString())}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this.eventEmitter.emit("axisPointerUpdate",this.activeAxisPointers)}},t.prototype.fillX=function(e){e.x=.5*this.spacing.x,e.layoutX=0,e.layoutParentX=0,e.layoutW=1,e.w=-this.spacing.x},t.prototype.updatePanelHeader=function(){var e=this,t=p.default.formatValue(this.x0,8)+"bp to "+p.default.formatValue(this.x1,8)+"bp",n=Math.floor(this.x0).toFixed(0),r=Math.ceil(this.x1).toFixed(0),o=this.contig+":"+n+"-"+r;this.header.content=a.createElement(y,{panel:this,contig:this.formattedContig,rangeString:t,rangeSpecifier:o,enableClose:this._closable&&!this.closing,enableContigNavigation:null!=this.availableContigs,onClose:this.onClose,isEditing:this.isEditing,onEditCancel:function(){return e.finishEditing()},onEditSave:function(t){return e.finishEditing(t)},onEditStart:function(){return e.startEditing()},onNextContig:function(){return e.setContig(e.availableContigAtOffset(e.contig,1))},onPreviousContig:function(){return e.setContig(e.availableContigAtOffset(e.contig,-1))}})},t.prototype.finishEditing=function(e){this.isEditing=!1,e&&this.setRangeUsingRangeSpecifier(e),this.updatePanelHeader()},t.prototype.startEditing=function(){this.isEditing=!0,this.updatePanelHeader()},t.prototype.setRangeUsingRangeSpecifier=function(e){var t=e.split(":"),n=t[0],r=/chr(.*)$/.exec(n);r&&(n="chr"+r[1].toUpperCase());var o=t[1].split("-");this.setContig(n),this.setRange(parseFloat(o[0]),parseFloat(o[1]))},t}(l.default);t.Panel=v;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this,t=null,n={display:"flex",alignItems:"center",justifyContent:"center"},r={marginTop:8,marginLeft:8},o=this.props.enableClose?a.createElement("div",{style:{position:"absolute",right:0}},a.createElement("div",{onClick:function(){return e.props.onClose(e.props.panel)}},"X")):null,i=a.createElement("div",{style:{position:"absolute",left:0}},a.createElement("div",{onClick:function(){return e.props.onPreviousContig(e.props.panel)}},"<")),s=a.createElement("div",{style:{position:"absolute",right:0}},a.createElement("div",{onClick:function(){return e.props.onNextContig(e.props.panel)}},">"));return t=this.props.isEditing?a.createElement("div",{style:n},a.createElement("span",null,a.createElement("input",{onChange:function(t){return e.rangeSpecifier=t.target.value},onKeyDown:function(t){"Enter"===t.key&&e.props.onEditSave(e.rangeSpecifier)},type:"text",defaultValue:this.props.rangeSpecifier})),a.createElement("span",{style:r}),a.createElement("span",{style:r}),o):a.createElement("div",{style:n},this.props.enableContigNavigation?i:null,a.createElement("span",{onClick:function(){return e.props.onEditStart()}},a.createElement("b",null,this.props.contig)," ",this.props.rangeString),a.createElement("span",{style:r,onClick:function(){return e.props.onEditStart()}}),this.props.enableContigNavigation?s:null),a.createElement("div",{style:{position:"relative",width:"100%",height:"100%",color:"#e8e8e8",backgroundColor:"#171615",borderRadius:"8px",fontSize:"12px",fontWeight:200,overflow:"hidden",userSelect:"none"}},a.createElement("div",{style:{position:"absolute",width:"100%",textAlign:"center",top:"50%",transform:"translate(0, -50%)",whiteSpace:"nowrap",cursor:"pointer"}},t))},t}(a.Component);t.default=v},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(22),a=function(){function e(e){var t=this;this.callbacks={onVersion:function(e){},onSequenceRegion:function(e,t,n){},onFeatureOntology:function(e){},onAttributeOntology:function(e){},onSourceOntology:function(e){},onSpecies:function(e){},onGenomeBuild:function(e,t){},onFeatureGroupTermination:function(){},onFastaStart:function(){},onComment:function(e){},onFeature:function(e,t,n,r,o,i,a,s,l){},onUnknownDirective:function(e,t){},onInvalidDirective:function(e,t){},onInvalidFeature:function(e,t){},onInvalidAttribute:function(e,t){},onFastaChunk:function(e){},onComplete:function(){}},this.lineNumber=0,this.parseChunk=function(e){if(t.fastaMode)t.callbacks.onFastaChunk(e);else{for(var n=0,r=0;r<e.length;r++){"\n"===e.charAt(r)&&(t.parseLine(t.incompleteLineBuffer+e.substring(n,r),t.lineNumber++),n=r+1,t.incompleteLineBuffer="")}t.incompleteLineBuffer=e.substring(n)}},this.end=function(){t.parseLine(t.incompleteLineBuffer,t.lineNumber++),t.callbacks.onComplete()},this.reset=function(){t.lineNumber=0,t.incompleteLineBuffer="",t.fastaMode=!1},this.callbacks=r({},this.callbacks,e),this.reset()}return e.prototype.parseLine=function(e,t){if(""!==e)if("#"===e[0])this.parseMeta(e);else{var n=e.split("\t");9!==n.length?this.callbacks.onInvalidFeature(e,"Expected 9 tab-separated columns, got "+n.length):this.callbacks.onFeature(decodeURIComponent(n[0]),null===this.parseOptional(n[1])?null:decodeURIComponent(n[1]),decodeURIComponent(n[2]),null===this.parseOptional(n[3])?null:parseInt(n[3]),null===this.parseOptional(n[4])?null:parseInt(n[4]),null===this.parseOptional(n[5])?null:parseFloat(n[5]),this.parseStrand(this.parseOptional(n[6])),null===this.parseOptional(n[7])?null:parseInt(n[7]),this.parseAttributes(this.parseOptional(n[8])))}},e.prototype.parseOptional=function(e){return"."===e?null:e},e.prototype.parseStrand=function(e){switch(e){case"+":return i.Strand.Positive;case"-":return i.Strand.Negative;case"?":return i.Strand.Unknown;default:return i.Strand.None}},e.prototype.parseAttributes=function(e){var t,n,r={isCircular:!1,custom:{}};if(null==e)return r;var i=e.split(";");try{for(var a=o(i),s=a.next();!s.done;s=a.next()){var l=s.value;try{var u=l.indexOf("=");if(-1===u)throw"Assignment must contain a '=' character";var c=decodeURIComponent(l.substring(0,u)).trim(),f=l.substring(u+1).split(",").map(decodeURIComponent);switch(c){case"ID":r.id=f[0];break;case"Name":r.name=f[0];break;case"Alias":r.aliases=f;break;case"Parent":r.parentIds=f;break;case"Target":var d=f[0].match(/([^\s]+)\s+(\d+)\s+(\d+)(\s+([+-]))?/);if(null===d)throw"Could not parse target format";r.target={id:d[1],start:parseInt(d[2]),end:parseInt(d[3]),strand:this.parseStrand(d[5])};break;case"Gap":r.gap=f[0];break;case"Derives_from":r.derivesFromId=f[0];break;case"Note":r.notes=f;break;case"Dbxref":r.dbxrefs=f;break;case"Ontology_term":r.ontologyTerms=f;break;case"Is_circular":r.isCircular="true"===f[0].toLowerCase().trim();break;default:r.custom[c]=f}}catch(u){this.callbacks.onInvalidAttribute(l,u)}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r},e.prototype.parseMeta=function(e){"#"===e[1]?this.parseDirective(e):this.callbacks.onComment(e.substr(1))},e.prototype.parseDirective=function(e){var t=e.substring(2),n=/^([^\s]+)(\s+(.*))?/.exec(t);if(null!==n){var r=n[1].toLowerCase(),o=n[3];try{switch(r){case"#":if(null!=o)throw"Feature termination directive must not have any parameter";this.callbacks.onFeatureGroupTermination();break;case"gff-version":if(null==o)throw"Missing version string";this.callbacks.onVersion(o.trim());break;case"sequence-region":var i=null,a=null,s=null,l=(o||"").match(/^([^\s]+)(\s+(\d+))?(\s+(\d+))?/);null!==l&&(i=decodeURIComponent(l[1]),a=void 0===l[3]?null:parseInt(l[3]),s=void 0===l[5]?null:parseInt(l[5])),this.callbacks.onSequenceRegion(i,a,s);break;case"feature-ontology":if(null==o)throw"Missing URI";this.callbacks.onFeatureOntology(o);break;case"attribute-ontology":if(null==o)throw"Missing URI";this.callbacks.onAttributeOntology(o);break;case"source-ontology":if(null==o)throw"Missing URI";this.callbacks.onSourceOntology(o);break;case"species":if(null==o)throw"Missing species";this.callbacks.onSpecies(decodeURIComponent(o));break;case"genome-build":if(null==o)throw"Missing source and build name";var u=(o||"").split(/\s+/);this.callbacks.onGenomeBuild(decodeURIComponent(u[0]),decodeURIComponent(u[1]));break;case"#":this.callbacks.onFeatureGroupTermination();break;case"fasta":this.fastaMode=!0,this.callbacks.onFastaStart();break;default:this.callbacks.onUnknownDirective(r,o)}}catch(e){this.callbacks.onInvalidDirective(t,e)}}else this.callbacks.onInvalidDirective(t,"Invalid directive name")},e}();t.Gff3LineParser=a,t.default=a},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(47),a=function(){function e(e,t){var n=this;this.storeFeatures=t,this.callbacks={onFeatureComplete:function(){},onComplete:function(){},onError:function(){},onComment:function(){}},this.parseChunk=function(e){n.lineParser.parseChunk(e)},this.end=function(){n.lineParser.end(),n.reset()},this.defineFeature=function(e,t,r,i,a,s,l,u,c){var f,d;if(null!=i&&null!=a){var p={sequenceId:e,id:c.id,name:c.name,type:r,start:i,end:a,strand:l,children:new Array,phase:u,attributes:c};if(null!=c.id&&(n.currentScope[c.id]=p),null==c.parentIds)n.storeFeatures&&n.getSequence(e).features.add(p),n.currentScopeTopLevel.add(p);else try{for(var h=o(c.parentIds),v=h.next();!v.done;v=h.next()){var y=v.value,g=n.currentScope[y];null!=g?g.children.push(p):n.callbacks.onError('Feature "'+e+'" referenced parent "'+y+'" before definition')}}catch(e){f={error:e}}finally{try{v&&!v.done&&(d=h.return)&&d.call(h)}finally{if(f)throw f.error}}}else n.callbacks.onError("Invalid range for "+r+" - "+c.id+"/"+c.name+"; start or end is null ("+i+" - "+a+")")},this.closeCurrentScope=function(){var e,t;try{for(var r=o(n.currentScopeTopLevel),i=r.next();!i.done;i=r.next()){var a=i.value;n.callbacks.onFeatureComplete(a)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}n.currentScope={},n.currentScopeTopLevel=new Set},this.onLineParserComplete=function(){n.callbacks.onComplete(n.gff3)},this.setSequenceRange=function(e,t,r){var o=n.getSequence(e);null!==t&&(o.start=t),null!==r&&(o.end=r)},this.callbacks=r({},this.callbacks,e),this.reset()}return e.prototype.reset=function(){var e=this;this.gff3={version:"3",sequences:{}},this.currentScope={},this.currentScopeTopLevel=new Set,this.lineParser=new i.default({onSequenceRegion:this.setSequenceRange,onVersion:function(t){return e.gff3.version=t},onFeatureOntology:function(t){(e.gff3.featureOntologyUri||[]).push(t)},onAttributeOntology:function(t){(e.gff3.attributeOntologyUri||[]).push(t)},onSourceOntology:function(t){(e.gff3.sourceOntologyUri||[]).push(t)},onSpecies:function(t){return e.gff3.speciesUri=t},onGenomeBuild:function(t,n){e.gff3.genomeBuild={source:t,buildName:n}},onComment:this.callbacks.onComment,onFeature:this.defineFeature,onFeatureGroupTermination:this.closeCurrentScope,onFastaStart:function(){return e.gff3.fasta=""},onFastaChunk:function(t){return e.gff3.fasta+=t},onComplete:this.onLineParserComplete,onUnknownDirective:function(t,n){return e.callbacks.onError('Unknown directive "'+t+" "+n+'"')},onInvalidAttribute:function(t,n){return e.callbacks.onError('Invalid attribute: "'+t+'", '+n)},onInvalidDirective:function(t,n){return e.callbacks.onError('Invalid directive: "'+t+'", '+n)},onInvalidFeature:function(t,n){return e.callbacks.onError("Invalid feature: "+n)}})},e.prototype.getSequence=function(e){var t=this.gff3.sequences[e];return void 0===t&&(t=this.gff3.sequences[e]={features:new Set}),t},e}();t.Gff3Parser=a,t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),o=function(){return function(e,t){this.rule=e,this.value=t}}(),i=function(){return function(e,t,n,r){this.rule=e,this.value=t,this.path=n,this.isTerminal=r}}(),a="EOF",s="ANY",l="ALL",u=function(e){return e.slice(1,e.length-1)},c=function(e){return e.replace(/(^[ '\^\$\*#&]+)|([ '\^\$\*#&]+$)/g,"")},f=function(e){var t=e.toString();return t.slice(1,t.length-2)};function d(e){return Promise.all(e).then(function(e){var t=[];return e.forEach(function(e){t=t.concat(e)}),t})}var p=new r.QueryBuilder;function h(e){var t=e[0];return"VARIANTS"===t.rule?function(e){var t=e[0];if("INFLUENCING"===t.rule){var n=u(e[1].value);p.newInfoQuery(),p.filterType("trait"),p.searchText(n);var r=p.build();p.newEdgeQuery(),p.setToNode(r);var o=p.build();return p.newGenomeQuery(),p.addToEdge(o),p.setSpecialGWASQuery(),p.build()}if("NAMED"===t.rule){var i=c(e[1].value.toLowerCase());return p.newGenomeQuery(),p.filterID("Gsnp_"+i),p.build()}}(e.slice(1)):"GENE_T"===t.rule?function(e){var t=e[0];if("NAMED"===t.rule){var n=u(e[1].value);return p.newGenomeQuery(),p.filterName(n.toUpperCase()),p.build()}if("INFLUENCING"===t.rule){var r=u(e[1].value);p.newInfoQuery(),p.filterType("trait"),p.searchText(r);var o=p.build();p.newEdgeQuery(),p.setToNode(o),p.filterMaxPValue(.05);var i=p.build();p.newGenomeQuery(),p.addToEdge(i),p.setLimit(1e6);var a=p.build();return p.newGenomeQuery(),p.filterType("gene"),p.addArithmeticIntersect(a),p.build()}}(e.slice(1)):"TRAIT_T"===t.rule?function(e){var t=u(e[0].value);return p.newInfoQuery(),p.filterType("trait"),p.searchText(t),p.build()}(e.slice(1)):"PROMOTER"===t.rule||"ENHANCER"===t.rule?function(e){var t="PROMOTER"==e[0].rule?"Promoter-like":"Enhancer-like",n=[u(e[2].value)],r=u(e[4].value);return p.newGenomeQuery(),p.filterType(t),p.filterTargets(n),p.filterBiosample(r),p.setLimit(2e6),p.build()}(e):"EQTL"===t.rule?function(e){var t=e[0];if("INFLUENCING"===t.rule){var n=u(e[1].value);p.newGenomeQuery(),p.filterName(n.toUpperCase());var r=p.build();p.newEdgeQuery(),p.setToNode(r);var o=p.build();return p.newGenomeQuery(),p.addToEdge(o),p.setLimit(1e6),p.build()}if("NAMED"===t.rule){var i=c(e[1].value.toLowerCase());p.newGenomeQuery(),p.filterID("Gsnp_"+i);var a=p.build();return p.newEdgeQuery(),p.setToNode(a,!0),o=p.build()}}(e.slice(1)):"PATIENT_T"===t.rule?function(e){if("WITH_TUMOR"===e[0].rule){var t=u(e[1].value);return p.newInfoQuery(),p.filterType("patient"),p.filterBiosample(t),p.setLimit(1e6),p.build()}}(e.slice(1)):"RS_T"===t.rule?function(e){return p.newGenomeQuery(),p.filterID("Gsnp_"+c(e[0].value.toLowerCase())),p.build()}(e):void 0}var v=function(){function e(e,t,n){this.grammar=e,this.terminals=t,this.suggestions=n}return e.prototype.eat=function(e,t){var n=(e=c(e)).toLowerCase(),r=this.terminals.get(t);r.lastIndex=0;var o=r.exec(n);if(null!==o){var i=o.index+o[0].length;return{parsed:e.slice(0,i),rest:e.slice(i)}}return{parsed:null,rest:e}},e.prototype.parse=function(e,t,n){var r=this;if(void 0===n&&(n=[]),t===a&&0===e.length)return(p=n.slice(0)).push(new o(a,"")),[new i(t,e,p,!0)];if(void 0!==this.terminals.get(t)){if(null!==(v=this.eat(e,t).parsed)){var u=n.slice(0);return u.push(new o(t,v)),[new i(t,v,u,!0)]}return[new i(t,e,n.slice(0),!1)]}if(this.grammar.get(t)){var f=this.grammar.get(t);return this.parse(e,f,n.slice(0))}if(t[0]===s){var d=[];return t.slice(1).forEach(function(t){d=d.concat(r.parse(e,t,n.slice(0)))}),d}if(t[0]===l){if(this.terminals.get(t[1])){var p,h=this.eat(e,t[1]),v=h.parsed,y=h.rest;if((p=n.slice(0)).push(new o(t[1],v)),y===e||null===v)return this.parse(e,t[1],n.slice(0));var g=t.slice(2);return 0===g.length?[]:1===g.length?this.parse(y,t[2],p):this.parse(y,[l].concat(g),p)}if(this.grammar.get(t[1])){f=this.grammar.get(t[1]);for(var m=this.parse(e,f,n.slice(0)),b=m.reduce(function(e,t){return e.path.length>t.path.length?e:t}),x=b.path?b.path.length:0,_=[],T=m.filter(function(e){return e.path.length===x}),w=0;w<T.length;w++){var E=T[w];if(E.isTerminal){var P=E.path.slice(n.length).map(function(e){return e.value}).join(" "),S=c(e),C=S.indexOf(P);y=S.slice(C+P.length);if(0!==t.slice(2).length)return 1===t.slice(2).length?this.parse(y,t[2],E.path.slice(0)):this.parse(y,[l].concat(t.slice(2)),E.path.slice(0));_.push(new i(E.rule,E.value,E.path,E.isTerminal))}else _.push(new i(E.rule,E.value,E.path.slice(0),E.isTerminal))}return _}}return[]},e.prototype.buildSuggestionsFromParse=function(e,t,n){var r=this;void 0===n&&(n=15);var o=t.reduce(function(e,t){return e.path.length>t.path.length?e:t}),i=o.path.length,s=[],l=!1;t.filter(function(e){return e.path.length===i}).forEach(function(e){var t=e.rule,o=e.value;if(e.rule===a){t=e.path[e.path.length-2].rule;var i=e.path[e.path.length-2].value;o=i.slice(1,i.length-1)}r.terminals.has(t)&&function(e){var t=f(e);return'"'===t[0]&&'"'===t[t.length-1]}(r.terminals.get(t))&&(l=!0),r.suggestions.get(t)?(o=c(o).toLowerCase(),s.push(r.suggestions.get(t)(o,n/2))):s.push(new Promise(function(e,n){e([{rule:t,value:f(r.terminals.get(t))}])}))});var u=null,v=null;if(o.rule===a)u=h(o.path);else if(0===o.path.length){u=function(e){if(!e)return null;var t=e===e.toUpperCase(),n=!isNaN(+e[e.length-1]);return e.length>5&&!t&&!n?(p.newInfoQuery(),p.filterType("trait"),p.searchText(e)):(p.newGenomeQuery(),p.filterType("gene"),p.filterName(e.toUpperCase())),p.build()}(e),v=d([this.suggestions.get("GENE")(e,n/4),this.suggestions.get("TRAIT")(e,n/4)])}return{tokens:o.path,suggestions:d(s),additionalSuggestions:v,query:u,isQuoted:l}},e.prototype.getSuggestions=function(e,t){void 0===t&&(t=15);var n=this.parse(e,this.grammar.get("ROOT"));return 0===n.length?null:this.buildSuggestionsFromParse(e,n,t)},e}();t.QueryParser=v,t.buildQueryParser=function(e){var t=new Map;t.set("TRAIT",/"(.+?)"/g),t.set("GENE",/"(.+?)"/g),t.set("INFLUENCING",/influencing/g),t.set("OF",/of/g),t.set("VARIANTS",/variants/g),t.set("GENE_T",/gene/g),t.set("TRAIT_T",/trait/g),t.set("NEAR",/near/g),t.set("IN",/in/g),t.set("PROMOTER",/promoters/g),t.set("ENHANCER",/enhancers/g),t.set("TARGET",/"(.+?)"/g),t.set("CELL_TYPE",/"(.+?)"/g),t.set("EQTL",/eqtl/g),t.set("NAMED",/named/g),t.set("TUMOR_SITE",/"(.+?)"/g),t.set("PATIENT_T",/patient/g),t.set("WITH_TUMOR",/with tumor/g),t.set("RS_T",/rs\d+$/g),t.set("NUMBER",/^\d+$/g);var n=new Map;return n.set("NAMED_GENE_OR_INFLUENCEING_TRAIT",[s,"INFLUENCING_TRAIT","NAMED_GENE"]),n.set("INFLUENCING_GENE_OR_NAMED_RS",[s,"INFLUENCING_GENE","NAMED_SNP_RS"]),n.set("INFLUENCING_TRAIT_OR_NAMED_RS",[s,"INFLUENCING_TRAIT","NAMED_SNP_RS"]),n.set("INFLUENCING_TRAIT",[l,"INFLUENCING","TRAIT"]),n.set("INFLUENCING_GENE",[l,"INFLUENCING","GENE"]),n.set("NAMED_GENE",[l,"NAMED","GENE"]),n.set("NAMED_SNP_RS",[l,"NAMED","RS_T"]),n.set("ANNOTATION_TYPE",[s,"PROMOTER","ENHANCER"]),n.set("CELL_ANNOTATION",[l,"ANNOTATION_TYPE","OF","TARGET","IN","CELL_TYPE"]),n.set("VARIANT_QUERY",[l,"VARIANTS","INFLUENCING_TRAIT_OR_NAMED_RS",a]),n.set("GENE_QUERY",[l,"GENE_T","NAMED_GENE_OR_INFLUENCEING_TRAIT",a]),n.set("TRAIT_QUERY",[l,"TRAIT_T","TRAIT",a]),n.set("EQTL_QUERY",[l,"EQTL","INFLUENCING_GENE_OR_NAMED_RS",a]),n.set("ANNOTATION_QUERY",[l,"CELL_ANNOTATION",a]),n.set("ROOT",[s,"VARIANT_QUERY","GENE_QUERY","TRAIT_QUERY","EQTL_QUERY","ANNOTATION_QUERY"]),e.set("RS_T",function(e,t){return new Promise(function(e,t){return e([])})}),new v(n,t,e)},t.buildVariantQueryParser=function(e){var t=new Map;t.set("TRAIT",/"(.+?)"/g),t.set("GENE",/"(.+?)"/g),t.set("INFLUENCING",/influencing/g),t.set("OF",/of/g),t.set("VARIANTS",/variants/g),t.set("GENE_T",/gene/g),t.set("TRAIT_T",/trait/g),t.set("NEAR",/near/g),t.set("IN",/in/g),t.set("PROMOTER",/promoters/g),t.set("ENHANCER",/enhancers/g),t.set("TARGET",/"(.+?)"/g),t.set("CELL_TYPE",/"(.+?)"/g),t.set("EQTL",/eqtl/g),t.set("NAMED",/named/g),t.set("TUMOR_SITE",/"(.+?)"/g),t.set("PATIENT_T",/patient/g),t.set("WITH_TUMOR",/with tumor/g),t.set("RS_T",/rs\d+$/g),t.set("NUMBER",/^\d+$/g);var n=new Map;return n.set("REGION_QUERY",[s,"GENE_QUERY","EQTL_QUERY","ANNOTATION_QUERY"]),n.set("NAMED_GENE_OR_INFLUENCEING_TRAIT",[s,"INFLUENCING_TRAIT","NAMED_GENE"]),n.set("VARIANT_OF_QUERY",[l,"OF","REGION_QUERY"]),n.set("INFLUENCING_GENE_OR_NAMED_RS",[s,"INFLUENCING_GENE","NAMED_SNP_RS"]),n.set("INFLUENCING_TRAIT_OR_NAMED_RS",[s,"INFLUENCING_TRAIT","NAMED_SNP_RS","VARIANT_OF_QUERY"]),n.set("INFLUENCING_TRAIT",[l,"INFLUENCING","TRAIT"]),n.set("INFLUENCING_GENE",[l,"INFLUENCING","GENE"]),n.set("NAMED_GENE",[l,"NAMED","GENE"]),n.set("NAMED_SNP_RS",[l,"NAMED","RS_T"]),n.set("ANNOTATION_TYPE",[s,"PROMOTER","ENHANCER"]),n.set("CELL_ANNOTATION",[l,"ANNOTATION_TYPE","OF","TARGET","IN","CELL_TYPE"]),n.set("GENE_QUERY",[l,"GENE_T","NAMED_GENE_OR_INFLUENCEING_TRAIT",a]),n.set("TRAIT_QUERY",[l,"TRAIT_T","TRAIT",a]),n.set("EQTL_QUERY",[l,"EQTL","INFLUENCING_GENE_OR_NAMED_RS",a]),n.set("ANNOTATION_QUERY",[l,"CELL_ANNOTATION",a]),n.set("ROOT",[s,"INFLUENCING_TRAIT_OR_NAMED_RS"]),e.set("RS_T",function(e,t){return new Promise(function(e,t){return e([])})}),new v(n,t,e)}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SNP="SNP",e.VARIANT="variant",e.GENE="gene",e.PSUDOGENE="psudogene",e.NCRNAGENE="ncRNA_gene",e.TRAIT="trait",e.GWAS="association:SNP:trait",e.EQTL="association:SNP:gene"}(r||(r={})),t.EntityType=r},function(e,t,n){"use strict";var r,o,i,a,s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Gene=0]="Gene",e[e.Transcript=1]="Transcript",e[e.TranscriptComponent=2]="TranscriptComponent"}(r=t.GenomeFeatureType||(t.GenomeFeatureType={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.ProteinCoding=1]="ProteinCoding",e[e.NonProteinCoding=2]="NonProteinCoding",e[e.Pseudo=3]="Pseudo"}(o=t.GeneClass||(t.GeneClass={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.ProteinCoding=1]="ProteinCoding",e[e.NonProteinCoding=2]="NonProteinCoding"}(i=t.TranscriptClass||(t.TranscriptClass={})),function(e){e[e.Exon=0]="Exon",e[e.Untranslated=1]="Untranslated",e[e.ProteinCodingSequence=2]="ProteinCodingSequence"}(a=t.TranscriptComponentClass||(t.TranscriptComponentClass={}));var u=function(){function e(){this.gene=o.Unspecified,this.ncRNA_gene=o.NonProteinCoding,this.pseudogene=o.Pseudo}return e.instance=new e,e}();t.SoGeneClass=u;var c=function(){function e(){this.lnc_RNA=i.NonProteinCoding,this.mRNA=i.ProteinCoding,this.pseudogenic_transcript=i.Unspecified,this.transcript=i.Unspecified,this.miRNA=i.NonProteinCoding,this.ncRNA=i.NonProteinCoding,this.rRNA=i.NonProteinCoding,this.scRNA=i.NonProteinCoding,this.snoRNA=i.NonProteinCoding,this.snRNA=i.NonProteinCoding}return e.instance=new e,e}();t.SoTranscriptClass=c;var f=function(){function e(){this.CDS=a.ProteinCodingSequence,this.exon=a.Exon,this.five_prime_UTR=a.Untranslated,this.three_prime_UTR=a.Untranslated}return e.instance=new e,e}();t.SoTranscriptComponentClass=f;var d=function(){function e(e,t,n,r){var o=this;this.tileSize=e,this.topLevelOnly=t,this.onUnknownFeature=n,this.onError=r,this.sequences={},this.addTopLevelFeature=function(e){for(var t=Math.floor(e.start/o.tileSize),n=Math.floor(e.end/o.tileSize),r=t;r<=n;r++){var i=o.getTile(e.sequenceId,r);o.addFeature(i,e)}}}return e.prototype.addFeature=function(e,t){var n,o,i={name:t.name,startIndex:t.start-1,length:t.end-t.start+1,soClass:t.type};if(void 0!==u.instance[t.type]){var a=t.children.reduce(function(e,t){return void 0!==c.instance[t.type]?e+1:e},0),d=s({},i,{type:r.Gene,class:u.instance[t.type],strand:t.strand,transcriptCount:a});e.content.push(d)}else if(void 0!==c.instance[t.type]){var p=s({},i,{type:r.Transcript,class:c.instance[t.type]});e.content.push(p)}else{if(void 0===f.instance[t.type])return void this.onUnknownFeature(t);var h=s({},i,{type:r.TranscriptComponent,class:f.instance[t.type]});null!=t.phase&&(h.phase=t.phase),e.content.push(h)}if(!this.topLevelOnly)try{for(var v=l(t.children),y=v.next();!y.done;y=v.next()){var g=y.value;this.addFeature(e,g)}}catch(e){n={error:e}}finally{try{y&&!y.done&&(o=v.return)&&o.call(v)}finally{if(n)throw n.error}}},e.prototype.getTile=function(e,t){var n=this.sequences[e];if(void 0===n&&(n=this.sequences[e]=[]),void 0===n[t])for(var r=0;r<=t;r++)void 0===n[r]&&(n[r]={startIndex:r*this.tileSize,span:this.tileSize,content:[]});return n[t]},e}();t.Tileset=d},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(29),a=function(){function e(){}return e.loadAnnotations=function(e,t,n,r){var o="https://valis-tmp-data.firebaseapp.com/data/annotation/"+e+(t?"-macro":"")+"/"+n+","+r+".json";return i.default.get(o).then(function(e){return e.data})},e.loadACGTSubSequence=function(e,t,n,r){var o=this,a=1<<t,s=a*n+1,l=s+r*a-1,u=this.apiUrl+"/datatracks/sequence/"+e+"/"+s+"/"+l+"?sampling_rate="+a;return i.default({method:"get",url:u,responseType:"arraybuffer",headers:{}}).then(function(e){var t=new Float32Array(o.parseSiriusBinaryResponse(e.data)),n=t.length/4;n>r&&console.warn("Payload too large, expected "+r+" units but received "+n+" units");for(var i=new Uint8Array(t.length),a=1/0,s=-1/0,l=0;l<n;l++){var u=t[4*l+0],c=t[4*l+1],f=t[4*l+2],d=t[4*l+3];a=Math.min(a,u),a=Math.min(a,c),a=Math.min(a,f),a=Math.min(a,d),s=Math.max(s,u),s=Math.max(s,c),s=Math.max(s,f),s=Math.max(s,d)}var p=s-a,h=0===p?0:1/p;for(l=0;l<n;l++)i[4*l+0]=Math.round(255*Math.min((t[4*l+0]-a)*h,1)),i[4*l+1]=Math.round(255*Math.min((t[4*l+3]-a)*h,1)),i[4*l+2]=Math.round(255*Math.min((t[4*l+2]-a)*h,1)),i[4*l+3]=Math.round(255*Math.min((t[4*l+1]-a)*h,1));return{array:i,sequenceMinMax:{min:a,max:s},indicesPerBase:4}})},e.loadSignal=function(e,t,n,r){var o=this,a=1<<t,s=a*n+1,l=s+r*a-1,u=this.apiUrl+"/datatracks/ENCFF918ESR/chr1/"+s+"/"+l+"?sampling_rate="+a;return i.default({method:"get",url:u,responseType:"arraybuffer",headers:{}}).then(function(e){var t=o.parseSiriusBinaryResponse(e.data),n=new Float32Array(t);return console.log(t,n),n})},e.getContigInfoPromise=function(){return null==this._contigInfoPromise&&(this._contigInfoPromise=i.default.get(e.apiUrl+"/contig_info").then(function(e){var t,n,o=e.data,i={};try{for(var a=r(o),s=a.next();!s.done;s=a.next()){var l=s.value;i[l.name]={start:l.start,length:l.length}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i})),this._contigInfoPromise},e.getContigInfo=function(e){return this.getContigInfoPromise().then(function(t){var n=t[e];if(null==n)throw'No contig info available for "'+e+'"';return n})},e.getContigs=function(){return this.getContigInfoPromise().then(function(e){return Object.keys(e)})},e.getContigsSorted=function(){return null==this._sortedContigsPromise&&(this._sortedContigsPromise=this.getContigs().then(function(e){return e.sort(function(e,t){return e.localeCompare(t,void 0,{numeric:!0,sensitivity:"base"})})})),this._sortedContigsPromise},e.getGraphs=function(){return i.default.get(this.apiUrl+"/graphs").then(function(e){return e.data})},e.getGraphData=function(e,t,n,r,o,a){void 0===a&&(a=1);var s="?sampling_rate="+a,l=this.apiUrl+"/graphs/"+e+"/"+t+"/"+n+"/"+r+"/"+o+s;return i.default.get(l)},e.getTracks=function(){return i.default.get(this.apiUrl+"/tracks").then(function(e){return e.data})},e.getTrackInfo=function(){return i.default.get(this.apiUrl+"/track_info").then(function(e){return e.data})},e.getDistinctValues=function(e,t){var n=this.apiUrl+"/distinct_values/"+e;return i.default.post(n,t).then(function(e){return e.data})},e.getDetails=function(e){return i.default.get(this.apiUrl+"/details/"+e).then(function(e){return e.data})},e.getQueryResults=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=null);var o=this.apiUrl+"/query/basic";t&&(o=this.apiUrl+"/query/full"),e.specialGWASQuery&&(o=this.apiUrl+"/query/gwas");var a=[];return null!==n&&a.push("result_start="+n),null!==r&&a.push("result_end="+r),a.length>0&&(o=o+"?"+a.join("&")),i.default.post(o,e).then(function(e){return e.data})},e.getAllVariantTrackData=function(e,t,n){return i.default.get(this.apiUrl+"/all_variant_track_data/"+e+"/"+t+"/"+n).then(function(e){return e.data})},e.getVariantTrackData=function(e,t,n,r){return i.default.post(this.apiUrl+"/variant_track_data/"+e+"/"+t+"/"+n,r).then(function(e){return e.data})},e.getIntervalTrackData=function(e,t,n,r){return i.default.post(this.apiUrl+"/interval_track_data/"+e+"/"+t+"/"+n,r).then(function(e){return e.data})},e.getSuggestions=function(e,t,n){var r=this;void 0===n&&(n=100);var o=e+"|"+t+"|"+(n=Math.round(n));return this.suggestionsCache[o]?new Promise(function(e,t){e(r.suggestionsCache[o])}):i.default.post(this.apiUrl+"/suggestions",{term_type:e,search_text:t,max_results:n}).then(function(e){return r.suggestionsCache[o]=e.data.results.slice(0),e.data.results})},e.getUserProfile=function(){return i.default.get(this.apiUrl+"/user_profile").then(function(e){return e.data})},e.parseSiriusBinaryResponse=function(e){for(var t=new Uint8Array(e),n=0,r=0;r<e.byteLength;r++){if(0===t[r]){n=r;break}}return e.slice(n+1)},e.uploadFile=function(e,t,n){void 0===n&&(n=null);var r=new FormData;r.append("file",t),r.append("fileType",e);var o={onUploadProgress:n};return i.default.post(this.apiUrl+"/user_files",r,o)},e.getUserFiles=function(){return i.default.get(this.apiUrl+"/user_files").then(function(e){return e.data})},e.deleteUserFile=function(e){var t={params:{fileID:e}};return i.default.delete(this.apiUrl+"/user_files",t)},e.apiUrl="",e.minMaxCache={},e.suggestionsCache={},e}();t.SiriusApi=a,function(e){e.Float32="f32",e.UInt8="ui8"}(o||(o={}))},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r=n(24);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";var r=n(1),o=n(57),i=n(25),a=n(17),s=n(56),l=n(55);function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.baseURL&&!s(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return u(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(u(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(1);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,n){"use strict";var r=n(1);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(){this.message="String contains an invalid character"}o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,i=String(e),a="",s=0,l=r;i.charAt(0|s)||(l="=",s%1);a+=l.charAt(63&t>>8-s%1*8)){if((n=i.charCodeAt(s+=.75))>255)throw new o;t=t<<8|n}return a}},function(e,t,n){"use strict";var r=n(1);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(1),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(1);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,function(e,t){null!==e&&void 0!==e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))}))}),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}},function(e,t,n){"use strict";var r=n(26);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&p())}function p(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(17),o=n(1),i=n(59),a=n(58);function s(e){this.defaults=e,this.interceptors={request:new i,response:new i}}s.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){s.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=s},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var r=n(1),o=n(28),i=n(69),a=n(17);function s(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var l=s(a);l.Axios=i,l.create=function(e){return s(r.merge(a,e))},l.Cancel=n(24),l.CancelToken=n(54),l.isCancel=n(25),l.all=function(e){return Promise.all(e)},l.spread=n(53),e.exports=l,e.exports.default=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(29),i=function(){function e(){}return e.getMultiple=function(t,n){var r=e.apiUrl+"/"+t;return o.default({method:"get",url:r,headers:{}}).then(function(e){return e.data.reverse().map(n)})},e.getById=function(t,n,r){var i=e.apiUrl+"/"+t+"/"+n;return o.default({method:"get",url:i,headers:{}}).then(function(e){return r(e.data)})},e.getDatasets=function(){return e.getMultiple(f.resource,function(e){return new f(e)})},e.getAnalysis=function(t){return e.getById(c.resource,t,function(e){return new c(e)})},e.getDataset=function(t){return e.getById(f.resource,t,function(e){return new f(e)})},e.getJob=function(t){return e.getById(s.resource,t,function(e){return new s(e)})},e.apiUrl="",e}();t.Api=i;var a=function(){function e(e){this._clientProps=e,this._savedProps=JSON.parse(JSON.stringify(e))}return Object.defineProperty(e.prototype,"name",{get:function(){return this._clientProps.name},set:function(e){this._clientProps.name=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this._clientProps.description},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._savedProps._id.$oid},enumerable:!0,configurable:!0}),e.prototype.save=function(){return null},e}(),s=function(e){function t(t){return e.call(this,t)||this}return r(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._savedProps.job_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jobId",{get:function(){return this.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jobType",{get:function(){return this._savedProps.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"auther",{get:function(){return this._savedProps.author},enumerable:!0,configurable:!0}),t.prototype.getDefinition=function(){var e=this;return new Promise(function(t,n){e._savedProps.code?t(e._savedProps.code):i.getJob(e.id).then(function(n){e._savedProps=JSON.parse(JSON.stringify(n._savedProps)),t(e._savedProps.code)})})},t.resource="jobs",t}(a);t.Job=s;var l,u,c=function(e){function t(t){return e.call(this,t)||this}return r(t,e),Object.defineProperty(t.prototype,"analysisId",{get:function(){return this.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"datasetId",{get:function(){return this._savedProps.datasetId.$oid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"analysisType",{get:function(){var e=this._clientProps.analysisType;return u[e]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this._clientProps.code},set:function(e){this._clientProps.code=e},enumerable:!0,configurable:!0}),t.prototype.createRun=function(e){var t=i.apiUrl+"/jobs";return o.default({method:"post",url:t,headers:{},data:{name:e||this.name,code:'import time; print("hello"); time.sleep(10)',type:"RDD",args:""}}).then(function(e){return new s(e.data)})},t.prototype.getRuns=function(e){var t=e?"&withStatus="+e:"",n=i.apiUrl+"/jobs?analysisId="+this.analysisId+t+"}";return o.default({method:"get",url:n,headers:{}}).then(function(e){return e.data.map(function(e){return new s(e)})})},t.resource="analyses",t}(a);t.Analysis=c,function(e){e[e.RUNNING=0]="RUNNING",e[e.FINISHED=1]="FINISHED",e[e.FAILED=2]="FAILED"}(l||(l={})),t.RunStatusType=l,function(e){e[e.JUPYTER=0]="JUPYTER",e[e.PATIENT=1]="PATIENT",e[e.POPULATION=2]="POPULATION",e[e.PARSER=3]="PARSER"}(u||(u={})),t.AnalysisType=u;var f=function(e){function t(t){return e.call(this,t)||this}return r(t,e),Object.defineProperty(t.prototype,"datasetId",{get:function(){return this.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sampleCount",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.getAnalyses=function(){var e=i.apiUrl+"/analyses?datasetId="+this.datasetId;return o.default({method:"get",url:e,headers:{}}).then(function(e){return e.data.map(function(e){return new c(e)})})},t.prototype.createAnalysis=function(e,t){var n=i.apiUrl+"/analyses";return o.default({method:"post",url:n,headers:{},data:{name:"New Analysis",code:t,analysisType:u[e],datasetId:this.datasetId}}).then(function(e){return new c(e.data)})},t.resource="datasets",t}(a);t.Dataset=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),a=n(2),s=n(7),l=n(0),u=n(18),c=n(9),f=n(46),d=n(42),p=n(21),h=function(e){function t(){var t=e.call(this)||this;t.trackHeaderWidth=180,t.panelHeaderHeight=50,t.spacing={x:5,y:5},t.xAxisHeight=40,t.minPanelWidth=35,t.minTrackHeight=35,t.panels=new Set,t.tracks=new Array,t.panelEdges=new Array,t.rowOffsetY=0,t.deleteTrack=function(e){t.deleteRowObject(e.rowObject);var n=t.tracks.indexOf(e);-1!==n&&t.tracks.splice(n,1)},t.deleteRowObject=function(e){var n,r,i,a,s,l;t.grid.remove(e.header),t.grid.remove(e.closeButton),t.grid.remove(e.resizeHandle);try{for(var u=o(t.panels),c=u.next();!c.done;c=u.next()){var f=c.value;try{for(var d=o(e.trackViews),p=d.next();!p.done;p=d.next()){var h=p.value;f.removeTrackView(h)}}catch(e){i={error:e}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}try{for(var v=o(e.trackViews),y=v.next();!y.done;y=v.next()){var g=y.value;g.releaseGPUResources(),e.removeTrackView(g)}}catch(e){s={error:e}}finally{try{y&&!y.done&&(l=v.return)&&l.call(v)}finally{if(s)throw s.error}}},t.deletePanel=function(e){var n,r,i,a;if(e.closing||(console.warn("cleanupPanel() called before closing the panel"),t.closePanel(e,!1)),t.panels.has(e)){t.panels.delete(e),s.default.stop(e),s.default.removeAnimationCompleteCallbacks(e,"layoutW",t.deletePanel),t.grid.remove(e);try{for(var l=o(e.trackViews),u=l.next();!u.done;u=l.next()){var c=u.value;c.releaseGPUResources(),e.remove(c);try{for(var f=o(t.tracks),d=f.next();!d.done;d=f.next()){d.value.rowObject.removeTrackView(c)}}catch(e){i={error:e}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}e.releaseGPUResources(),e.removeAllListeners(!0)}else console.error("Cleanup executed twice on a panel")},t.onAnimationStep=function(){var e,n,r=1;try{for(var i=o(t.panels),a=i.next();!a.done;a=i.next()){var s=a.value;r=Math.max(s.layoutParentX+s.layoutW,r)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}t.addPanelButton.layoutParentX=r},t.onResize=function(e){t.applyOverflowLimits(),t.layoutTrackRows(!1)},t._resizingPanels=new Set,t._resizingTracks=new Set,t.render=!1,t.layoutW=1,t.layoutH=1,t.grid=new c.default(0,0,[.9,.9,.9,1]),t.grid.render=!1,t.add(t.grid),t.initializeDragPanning(),t.initializeGridResizing(),t.addPanelButton=new u.default(i.createElement(b,{onClick:function(){t.addPanel({contig:"chr1",x0:0,x1:249e6},!0)}}),t.panelHeaderHeight,t.panelHeaderHeight),t.addPanelButton.x=.5*t.spacing.x,t.addPanelButton.containerStyle={zIndex:3},t.addPanelButton.layoutParentX=1,t.addPanelButton.layoutY=-1,t.addPanelButton.y=-t.xAxisHeight-.5*t.spacing.x,t.grid.add(t.addPanelButton);var n=new u.default(i.createElement("div",{style:{backgroundColor:"#fff",zIndex:2,width:"100%",height:"100%"}}),t.trackHeaderWidth+t.spacing.x,t.panelHeaderHeight+t.xAxisHeight-.5*t.spacing.y);t.add(n);var r=new u.default(i.createElement("div",{style:{backgroundColor:"#fff",zIndex:2,width:"100%",height:"100%"}}),t.panelHeaderHeight+1.5*t.spacing.x,t.panelHeaderHeight+t.xAxisHeight-.5*t.spacing.y);return r.layoutParentX=1,r.x=-t.panelHeaderHeight-1.5*t.spacing.x,t.add(r),t.layoutGridContainer(),window.addEventListener("resize",t.onResize),t}return r(t,e),t.prototype.addTrack=function(e,t,n){var r,i,a=this;void 0===t&&(t=50),void 0===n&&(n=!0);var s=new v(e,t,function(){a.layoutTrackRows(!0)}),l=new y(e.name,this.spacing,function(){return a.closeTrack(s)},function(e){return s.heightPx=e},function(){return s.heightPx});s.rowObject=l;try{for(var u=o(this.panels),c=u.next();!c.done;c=u.next()){var f=c.value,p=d.default(e);f.addTrackView(p),l.addTrackView(p)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return this.tracks.push(s),l.closeButton.layoutParentX=1,l.closeButton.x=-this.spacing.x,l.closeButton.w=50,l.header.x=-this.trackHeaderWidth+.5*this.spacing.x,l.header.w=this.trackHeaderWidth,l.resizeHandle.layoutW=1,l.resizeHandle.addInteractionListener("dragstart",function(e){e.isPrimary&&1===e.buttonState&&(e.preventDefault(),a.startResizingTrack(s))}),l.resizeHandle.addInteractionListener("dragend",function(e){e.isPrimary&&(e.preventDefault(),a.endResizingTrack(s))}),l.setResizable(!0),this.grid.add(l.header),this.grid.add(l.closeButton),this.grid.add(l.resizeHandle),this.layoutTrackRows(!1,l),l.h=0,this.layoutTrackRows(n),s},t.prototype.closeTrack=function(e,t,n){var r=this;if(void 0===t&&(t=!0),void 0===n&&(n=function(){}),-1!==this.tracks.indexOf(e)){var o=e,i=o.rowObject;o.closing||(o.closing=!0,i.setResizable(!1),this.endResizingTrack(e),e.heightPx=0,t?s.default.addAnimationCompleteCallback(i,"h",function(){r.deleteTrack(e),n()},!0):(s.default.stop(i),this.deleteTrack(e),n()),this.layoutTrackRows(t))}},t.prototype.addPanel=function(e,t){var n,r,i=this;void 0===t&&(t=!0);var s=this.panelEdges,l=Math.max(s.length-1,0);0===s.length&&s.push(0);var u=1+(0==l?1:1/l);s.push(u);var c=new f.default(function(e){return i.closePanel(e,!0)},this.spacing,this.panelHeaderHeight,this.xAxisHeight);c.setContig(e.contig),c.setRange(e.x0,e.x1),c.column=l,c.layoutH=1,this.grid.add(c),a.SiriusApi.getContigsSorted().then(function(e){return c.setAvailableContigs(e)});try{for(var p=o(this.tracks),h=p.next();!h.done;h=p.next()){var v=h.value,y=d.default(v.model);c.addTrackView(y),v.rowObject.addTrackView(y)}}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}this.panels.add(c),c.resizeHandle.addInteractionListener("dragstart",function(e){e.isPrimary&&1===e.buttonState&&(e.preventDefault(),i.startResizingPanel(c))}),c.resizeHandle.addInteractionListener("dragend",function(e){e.isPrimary&&(e.preventDefault(),i.endResizingPanel(c))}),c.addEventListener("axisPointerUpdate",function(e){var t,n;try{for(var r=o(i.panels),a=r.next();!a.done;a=r.next()){var s=a.value;s!==c&&s.setSecondaryAxisPointers(e)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}),this.layoutPanels(!1,c);for(var g=1/u,m=0;m<s.length;m++)s[m]*=g;this.layoutPanels(t)},t.prototype.closePanel=function(e,t,n){var r,i,a=this;if(void 0===t&&(t=!0),void 0===n&&(n=function(){}),!e.closing){var l=this.panelEdges;e.closing=!0,this.endResizingPanel(e),this.removeColumn(l,e.column);try{for(var u=o(this.panels),c=u.next();!c.done;c=u.next()){var f=c.value;f.column>e.column&&(f.column=f.column-1)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}this.layoutPanels(t),t?(s.default.addAnimationCompleteCallback(e,"layoutW",function(){a.deletePanel(e),n()},!0),s.default.springTo(e,{layoutW:0},p.DEFAULT_SPRING)):(s.default.stop(e),this.deletePanel(e),n()),l.length<2&&(l.length=0)}},t.prototype.getConfiguration=function(){var e,t,n,r,i=new Array;try{for(var a=o(this.panels),s=a.next();!s.done;s=a.next()){var l=s.value,u=this.panelEdges[l.column+1]-this.panelEdges[l.column];i.push({location:{contig:l.contig,x0:l.x0,x1:l.x1},width:u})}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}var c=new Array;try{for(var f=o(this.tracks),d=f.next();!d.done;d=f.next()){var p=d.value;c.push({model:p.model,heightPx:p.heightPx})}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return{panels:i,tracks:c}},t.prototype.setConfiguration=function(e){var t,n,r,i,a,s,l=new Set(this.panels);try{for(var u=o(l),c=u.next();!c.done;c=u.next()){var f=c.value;this.closePanel(f,!1)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}var d=new Set(this.tracks);try{for(var p=o(d),h=p.next();!h.done;h=p.next()){var v=h.value;this.closeTrack(v,!1)}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}for(var y=0;y<e.panels.length;y++){var g=e.panels[y];this.addPanel(g.location,!1)}var m=1,b=0;for(y=0;y<e.panels.length;y++){null!=(g=e.panels[y]).width?m-=g.width:b++}var x=m/b,_=0;for(y=0;y<e.panels.length;y++){g=e.panels[y];this.panelEdges[y]=_,null!=g.width?_+=g.width:_+=x}this.layoutPanels(!1);try{for(var T=o(e.tracks),w=T.next();!w.done;w=T.next()){v=w.value;this.addTrack(v.model,v.heightPx,!1)}}catch(e){a={error:e}}finally{try{w&&!w.done&&(s=T.return)&&s.call(T)}finally{if(a)throw a.error}}this.layoutTrackRows(!1)},t.prototype.getTracks=function(){return this.tracks.slice()},t.prototype.getPanels=function(){return new Set(this.panels)},t.prototype.layoutPanels=function(e,t){var n,r,i,a,l=0;try{for(var u=o(this.panels),c=u.next();!c.done;c=u.next()){(h=c.value).closing||l++}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}try{for(var f=o(this.panels),d=f.next();!d.done;d=f.next()){var h;if((h=d.value).closable=l>1,h.setResizable(h.column<this.panelEdges.length-2&&!h.closing),void 0===t||t===h){var v=this.panelEdges,y=v[h.column],g=h.closing?0:v[h.column+1]-v[h.column];e?s.default.springTo(h,{layoutParentX:y,layoutW:g},p.DEFAULT_SPRING):(s.default.stop(h,["layoutParentX","layoutW"]),h.layoutParentX=y,h.layoutW=g)}}}catch(e){i={error:e}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}},t.prototype.layoutTrackRows=function(e,t){var n,r,i=0;try{for(var a=o(this.tracks),l=a.next();!l.done;l=a.next()){var u=l.value,c=u.heightPx,f=u.rowObject;void 0!==t&&t!==f||(e?s.default.springTo(f,{y:i,h:c},p.DEFAULT_SPRING):(s.default.stop(f,["y","h"]),f.y=i+this.rowOffsetY,f.h=c)),i+=u.heightPx}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}this.grid.h=i+.5*this.spacing.y+this.rowOffsetY},t.prototype.removeColumn=function(e,t){if(t>=e.length||t<0)return!1;for(var n=e[0],r=e[e.length-1],o=e[t],i=e[t+1]||r,a=o-n,s=r-i,l=s+a,u=(0==l?.5:a/l)*(i-o)+o,c=u-n,f=0==s?0:(r-u)/s,d=t+1;d<e.length;d++)e[d]=u+(e[d]-i)*f;var p=c/a;for(d=0;d<t;d++)e[d]=n+(e[d]-n)*p;return e.splice(t,1),!0},t.prototype.onAdded=function(){e.prototype.onAdded.call(this),s.default.addStepCompleteCallback(this.onAnimationStep)},t.prototype.onRemoved=function(){e.prototype.onRemoved.call(this),s.default.removeStepCompleteCallback(this.onAnimationStep)},t.prototype.layoutGridContainer=function(){this.grid.x=this.trackHeaderWidth+.5*this.spacing.x,this.grid.w=-this.trackHeaderWidth-this.spacing.x-this.addPanelButton.w,this.grid.layoutW=1,this.grid.y=this.panelHeaderHeight+.5*this.spacing.y+this.xAxisHeight},t.prototype.applyOverflowLimits=function(){var e,t,n=this.getComputedHeight()-this.grid.y,r=0;try{for(var i=o(this.tracks),a=i.next();!a.done;a=i.next()){r+=a.value.heightPx}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}var s=-(r-n+this.spacing.y);this.rowOffsetY=Math.min(Math.max(this.rowOffsetY,s),0)},t.prototype.initializeDragPanning=function(){var e=this,t=void 0,n=void 0;this.addEventListener("dragstart",function(r){t=r.localY,n=e.rowOffsetY}),this.addEventListener("dragmove",function(r){if(!(e._resizingPanels.size>0||e._resizingTracks.size>0)){var o=r.localY-t;e.rowOffsetY=n+o,e.applyOverflowLimits(),e.layoutTrackRows(!1)}})},t.prototype.initializeGridResizing=function(){var e=this,t={},n=0;this.grid.addInteractionListener("dragstart",function(r){var i,a;e._resizingPanels.size+e._resizingTracks.size>0&&(r.preventDefault(),r.stopPropagation());try{for(var s=o(e._resizingPanels),l=s.next();!l.done;l=s.next()){var u=l.value,c=u.column+1;t[c]={i:c,p0:r.fractionX,e0:e.panelEdges[c],obj:u}}}catch(e){i={error:e}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}r.isPrimary&&1===r.buttonState&&(n=r.localY)}),this.grid.addInteractionListener("dragmove",function(r){var i,a,s,l,u=!1,c=e._resizingPanels.size+e._resizingTracks.size>0;for(var f in c&&(r.preventDefault(),r.stopPropagation()),t){var d=t[f],p=r.fractionX-d.p0,h=e.grid.getComputedWidth(),v=e.minPanelWidth/h,y=e.panelEdges[d.i-1]+v||0,g=e.panelEdges[d.i+1]-v||1;e.panelEdges[d.i]=Math.min(Math.max(d.e0+p,y),g);try{for(var m=o(e.panels),b=m.next();!b.done;b=m.next()){var x=b.value;x.column!==d.i&&x.column!==d.i-1||e.layoutPanels(!1,x)}}catch(e){i={error:e}}finally{try{b&&!b.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}u=!0}if(r.isPrimary)try{for(var _=o(e._resizingTracks),T=_.next();!T.done;T=_.next()){var w=T.value,E=r.localY-n;w.track.heightPx=Math.max(w.initialHeightPx+E,e.minTrackHeight),u=!0}}catch(e){s={error:e}}finally{try{T&&!T.done&&(l=_.return)&&l.call(_)}finally{if(s)throw s.error}}u&&e.layoutTrackRows(!1)}),this.grid.addInteractionListener("dragend",function(n){for(var r in t){var o=t[r];e._resizingPanels.has(o.obj)||delete t[r]}})},t.prototype.startResizingPanel=function(e){this._resizingPanels.add(e)},t.prototype.endResizingPanel=function(e){this._resizingPanels.delete(e)},t.prototype.startResizingTrack=function(e){this._resizingTracks.add({track:e,initialHeightPx:e.heightPx})},t.prototype.endResizingTrack=function(e){var t,n;try{for(var r=o(this._resizingTracks),i=r.next();!i.done;i=r.next()){var a=i.value;a.track===e&&this._resizingTracks.delete(a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this.applyOverflowLimits(),this.layoutTrackRows(!1)},t}(l.default);t.default=h;var v=function(){function e(e,t,n){this.model=e,this._heightPx=t,this.onHeightChanged=n,this.closing=!1}return Object.defineProperty(e.prototype,"heightPx",{get:function(){return this._heightPx},set:function(e){this._heightPx=e,this.onHeightChanged()},enumerable:!0,configurable:!0}),e}();t.Track=v;var y=function(){function e(t,n,r,o,i){var a=this;this.spacing=n,this.onClose=r,this.setHeight=o,this.getHeight=i,this.trackViews=new Set,this._headerIsExpandedState=void 0,this.isExpanded=function(){return a.getHeight()>=e.expandedTrackHeight},this._title=t,this.header=new u.default,this.closeButton=new u.default,this.resizeHandle=new c.default(0,0,[1,0,0,1]),this.resizeHandle.h=this.spacing.y,this.resizeHandle.z=1,this.resizeHandle.render=!1,this.setResizable(!1),this.updateHeader()}return Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this.layoutY()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"h",{get:function(){return this._h},set:function(e){this._h=e,this.layoutY()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(e){this._title=e,this.updateHeader()},enumerable:!0,configurable:!0}),e.prototype.setResizable=function(e){this.resizeHandle.cursorStyle=e?"row-resize":null,this.resizeHandle.color.set(e?[0,1,0,1]:[.3,.3,.3,1])},e.prototype.addTrackView=function(e){this.trackViews.add(e),this.layoutY()},e.prototype.removeTrackView=function(e){this.trackViews.delete(e)},e.prototype.layoutY=function(){var e,t,n=this.resizeHandle;n.layoutY=-.5,n.y=this.y+this.h,this.header.y=this.y+.5*this.spacing.y,this.header.h=this.h-this.spacing.y,this.closeButton.y=this.y+.5*this.spacing.y,this.closeButton.h=this.h-this.spacing.y;try{for(var r=o(this.trackViews),i=r.next();!i.done;i=r.next()){var a=i.value;a.y=this.y+.5*this.spacing.y,a.h=this.h-this.spacing.y}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this._headerIsExpandedState!==this.isExpanded()&&this.updateHeader()},e.prototype.updateHeader=function(){var t=this;this._headerIsExpandedState=this.isExpanded(),this.header.content=i.createElement(m,{title:this._title,isExpanded:this._headerIsExpandedState,setExpanded:function(n){t.setHeight(n?e.expandedTrackHeight:e.collapsedTrackHeight)}}),this.closeButton.content=i.createElement(g,{track:this,onClick:function(){t.onClose(t)}})},e.expandedTrackHeight=200,e.collapsedTrackHeight=50,e}();function g(e){return i.createElement("div",{style:{position:"relative",height:"100%",width:"100%",color:"#e8e8e8",overflow:"hidden",userSelect:"none",backgroundColor:"#171615",borderRadius:"0px 8px 8px 0px"}},i.createElement("div",{style:{position:"absolute",width:"100%",textAlign:"right",top:"50%",transform:"translate(0, -50%)"}},i.createElement("span",{onClick:function(){return e.onClick(e.track)}},"X")))}function m(e){var t=e.isExpanded?i.createElement("span",null,"-"):i.createElement("span",null,"+");return i.createElement("div",{style:{position:"relative",width:"100%",height:"100%",color:"#e8e8e8",backgroundColor:"#171615",borderRadius:"8px 0px 0px 8px",fontSize:"15px",overflow:"hidden",userSelect:"none"}},i.createElement("div",{style:{position:"absolute",width:"100%",textAlign:"center",top:"50%",transform:"translate(0, -50%)"}},i.createElement("div",{onClick:function(){e.setExpanded(!e.isExpanded)},style:{display:"flex",alignItems:"center",justifyContent:"flex-start"}},t,e.title)))}function b(e){return i.createElement("div",{style:{position:"relative",width:"100%",height:"100%",color:"#e8e8e8",backgroundColor:"#171615",borderRadius:"8px 0px 0px 8px"}},i.createElement("div",{style:{position:"absolute",width:"100%",textAlign:"right",top:"50%",transform:"translate(0, -50%)"}},i.createElement("span",{onClick:e.onClick},"+")))}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.children=new Set}return e.prototype.add=function(e){this.children.add(e)},e.prototype.has=function(e){return this.children.has(e)},e.prototype.remove=function(e){return this.children.delete(e)},e.prototype.applyTransformToSubNodes=function(e){var t,n;void 0===e&&(e=!0);try{for(var o=r(this.children),i=o.next();!i.done;i=o.next()){i.value.applyTransformToSubNodes(!0)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e.prototype.forEachSubNode=function(e){var t,n;try{for(var o=r(this.children),i=o.next();!i.done;i=o.next()){var a=i.value;e(a),a.forEachSubNode(e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e}();t.Node=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t,n){if(this.target=e,this.root=t,this.clearOptions=n,null!=e)throw"Framebuffer target not yet supported"}}();t.RenderPass=r,t.default=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=n(4),l=n(75),u=n(11),c=n(19),f=n(10),d=n(0),p=n(18),h=n(30),v=function(e){function t(t){var n=e.call(this,t)||this;return n._reactObjects=new Array,n.pointerEventSupport="PointerEvent"in window,n.dragData={},n.cursorTarget=window.document.documentElement,n.activePointers={},n._cursorStyle="",n.onPointerEnter=function(e){var t=n.interactionDataFromEvent(e);n.activePointers[t.pointerId]={interactionData:t,sourceEvent:e,lastHitNodes:new Set},n.handlePointerChanges()},n.onPointerLeave=function(e){var t=n.interactionDataFromEvent(e);delete n.activePointers[t.pointerId],n.handlePointerChanges()},n.onPointerMove=function(e){n.resetCursor();var t=n.interactionDataFromEvent(e);t.buttonChange=-1,e.target===n.canvas?void 0===n.activePointers[t.pointerId]?n.activePointers[t.pointerId]={interactionData:t,sourceEvent:e,lastHitNodes:new Set}:n.activePointers[t.pointerId].interactionData=t:delete n.activePointers[t.pointerId];var r=n.dragData[t.pointerId],o=!1;if(void 0!==r&&(o=o||n.executePointerInteraction(r.inactiveNodes,"dragstart",t,function(t){return r.activeNodes.push(t.target),new h.default(t,e)}),r.inactiveNodes=[],o=o||n.executePointerInteraction(r.activeNodes,"dragmove",t,function(t){return new h.default(t,e)})),e.target===n.canvas&&!o){var i=n.hitTestNodesForInteraction(["pointermove"],t.worldX,t.worldY);n.executePointerInteraction(i,"pointermove",t,function(t){return new h.default(t,e)})}n.applyCursor(),n.handlePointerChanges()},n.onPointerDown=function(e){if(n.resetCursor(),e.target===n.canvas){var t=n.interactionDataFromEvent(e),r=n.dragData[t.pointerId]={activeNodes:new Array,inactiveNodes:new Array,button:e.button},o=n.hitTestNodesForInteraction(["pointerdown","dragstart","dragmove","dragend"],t.worldX,t.worldY).slice();n.executePointerInteraction(o,"pointerdown",t,function(t){return-1===r.inactiveNodes.indexOf(t.target)&&r.inactiveNodes.push(t.target),new h.default(t,e)})}n.applyCursor()},n.onPointerUp=function(e){n.resetCursor();var t=n.interactionDataFromEvent(e),r=n.dragData[t.pointerId],o=!1;if(void 0!==r&&r.button===e.button&&(delete n.dragData[t.pointerId],o=n.executePointerInteraction(r.activeNodes,"dragend",t,function(t){return new h.default(t,e)},!1)),e.target===n.canvas&&!o){var i=n.hitTestNodesForInteraction(["pointerup"],t.worldX,t.worldY);n.executePointerInteraction(i,"pointerup",t,function(t){return new h.default(t,e)})}n.applyCursor()},n.onClick=function(e){if(e.target===n.canvas){var t=n.interactionDataFromEvent(e),r=n.hitTestNodesForInteraction(["click"],t.worldX,t.worldY);n.executePointerInteraction(r,"click",t,function(t){return new h.default(t,e)})}},n.onDoubleClick=function(e){if(e.target===n.canvas){var t=n.interactionDataFromEvent(e),r=n.hitTestNodesForInteraction(["dblclick"],t.worldX,t.worldY);n.executePointerInteraction(r,"dblclick",t,function(t){return new h.default(t,e)})}},n.onWheel=function(e){if(e.target===n.canvas){var t=n.interactionDataFromEvent(e),r=n.hitTestNodesForInteraction(["wheel"],t.worldX,t.worldY);n.executePointerInteraction(r,"wheel",t,function(t){return new h.WheelInteractionEvent(o({},t,{wheelDeltaMode:e.deltaMode,wheelDeltaX:e.deltaX,wheelDeltaY:e.deltaY,wheelDeltaZ:e.deltaZ}),e)})}},n._hitNodes=new Array,n.state={reactObjects:[]},n.updateSceneContent(),n}return r(t,e),t.prototype.componentDidMount=function(){null!=this.device&&console.error("Component mounted twice");var e=this.canvas.getContext("webgl",{antialias:!0,stencil:!0,alpha:!1});if(null==e)throw"WebGL not supported";e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.disable(e.CULL_FACE),this.device=new s.default(e),this.renderer=new u.default(this.device),f.default.initialize(this.device),this.addInputListeners(),console.log('AppCanvas created with device %c"'+this.device.name+'"',"font-weight: bold");var t=this.device.capabilities.vertexArrayObjects,n=this.device.capabilities.instancing;if(console.log("\tVertex Array Objects: %c"+(t?"enabled":"disabled"),"font-weight: bold; color: "+(t?"green":"red")),console.log("\tInstancing: %c"+(n?"enabled":"disabled"),"font-weight: bold; color: "+(n?"green":"red")),!this.device.capabilities.instancing)throw"WebGL extension ANGLE_instanced_arrays is required but not available on this device"},t.prototype.componentWillUnmount=function(){this.scene.forEachSubNode(function(e){e instanceof c.default&&e.releaseGPUResources()}),f.default.release(),this.device=null,this.renderer=null,this.removeInputListeners(),this.props.onWillUnmount&&this.props.onWillUnmount()},t.prototype.componentDidUpdate=function(e,t,n){e.content!=this.props.content&&this.updateSceneContent(),this.props.width===e.width&&this.props.height===e.height||(this.updateSceneTransform(),this.scene.applyTransformToSubNodes(),this.renderer.render(this.mainRenderPass))},t.prototype.render=function(){var e=this,t=this.props.pixelRatio||window.devicePixelRatio||1,n=this.props.width*t+"px",r=this.props.height*t+"px",i=o({position:"relative",overflow:"hidden",width:n,height:r},this.props.style||{});return a.createElement("div",{className:"app-canvas",style:i},a.createElement("canvas",{ref:function(t){return e.canvas=t},width:n,height:r,style:o({display:"block",position:"absolute",top:0,left:0,width:this.props.width+"px",height:this.props.height+"px",zIndex:0},this.props.canvasStyle||{})}),this.state.reactObjects.map(function(t){return a.createElement(p.ReactObjectContainer,{key:t.reactUid,reactObject:t,scene:e.scene})}))},t.prototype.renderCanvas=function(){this.renderer.render(this.mainRenderPass),this.updateReactObjects()},t.prototype.handleUserInteraction=function(){this.handlePointerChanges()},t.prototype.updateSceneContent=function(){this.scene=new d.Object2D,null!=this.props.content&&this.scene.add(this.props.content),this.mainRenderPass=new l.default(null,this.scene,{clearColor:[1,1,1,1],clearDepth:1,clearStencil:0}),this.updateSceneTransform(),this.scene.applyTransformToSubNodes()},t.prototype.updateSceneTransform=function(){var e=this.props.width,t=this.props.height;this.scene.x=-1,this.scene.y=1,this.scene.z=0,this.scene.sx=2/e,this.scene.sy=-2/t,this.scene.sz=-2e-4,this.scene.w=e,this.scene.h=t},t.prototype.worldToCanvasSpaceBounds=function(e){return{l:(e.l-this.scene.x)/this.scene.sx,r:(e.r-this.scene.x)/this.scene.sx,t:(e.t-this.scene.y)/this.scene.sy,b:(e.b-this.scene.y)/this.scene.sy}},t.prototype.canvasToWorldSpacePosition=function(e){return{x:e.x/this.props.width*2-1,y:-(e.y/this.props.height*2-1)}},t.prototype.updateReactObjects=function(){var e=this,t=0,n=!1;this.scene.forEachSubNode(function(r){if(r instanceof p.ReactObject){var o=e._reactObjects[t];n||(n=o!==r),e._reactObjects[t]=r,t++}}),n=n||t!==this._reactObjects.length,t<this._reactObjects.length&&(this._reactObjects.length=t),n&&this.setState({reactObjects:this._reactObjects})},t.prototype.mouseEventToCanvasSpacePosition=function(e){var t=this.canvas.getBoundingClientRect(),n=window.scrollX+this.canvas.clientLeft,r=window.scrollY+t.top;return{x:e.pageX-n,y:e.pageY-r}},t.prototype.addInputListeners=function(){this.pointerEventSupport?(this.canvas.addEventListener("pointerdown",this.onPointerDown),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerenter",this.onPointerEnter),window.addEventListener("pointerleave",this.onPointerLeave)):(this.canvas.addEventListener("mousedown",this.onPointerDown),window.addEventListener("mouseup",this.onPointerUp),window.addEventListener("mousemove",this.onPointerMove),window.addEventListener("mouseenter",this.onPointerEnter),window.addEventListener("mouseleave",this.onPointerLeave)),this.canvas.addEventListener("click",this.onClick),this.canvas.addEventListener("dblclick",this.onDoubleClick),this.canvas.addEventListener("wheel",this.onWheel,{passive:!1})},t.prototype.removeInputListeners=function(){this.pointerEventSupport?(this.canvas.removeEventListener("pointerdown",this.onPointerDown),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave)):(this.canvas.removeEventListener("mousedown",this.onPointerDown),window.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("mousemove",this.onPointerMove),window.removeEventListener("mouseenter",this.onPointerEnter),window.removeEventListener("mouseleave",this.onPointerLeave)),this.canvas.removeEventListener("click",this.onClick),this.canvas.removeEventListener("dblclick",this.onDoubleClick),this.canvas.removeEventListener("wheel",this.onWheel,{passive:!1})},t.prototype.resetCursor=function(){this._cursorStyle=null},t.prototype.applyCursor=function(){var e=null===this._cursorStyle?"":this._cursorStyle;this.cursorTarget.style.cursor!==e&&this.cursorTarget.style.setProperty("cursor",e,"important")},t.prototype.handlePointerChanges=function(){var e=function(e){var n=t._lastActivePointers[e];void 0===t.activePointers[e]&&t.executePointerInteraction(n.lastHitNodes,"pointerleave",n.interactionData,function(e){return new h.default(e,n.sourceEvent)})},t=this;for(var n in this._lastActivePointers)e(n);this._lastActivePointers={};var r=function(e){var t,n,r,a,s=o.activePointers[e],l=s.interactionData,u=s.lastHitNodes,c=s.sourceEvent,f=o.hitTestNodesForInteraction(["pointerenter","pointerleave"],l.worldX,l.worldY);if(o._lastActivePointers[e]=s,0===f.length&&0===u.size)return"continue";var d=new Set,p=new Set;try{for(var v=i(f),y=v.next();!y.done;y=v.next()){var g=y.value;u.has(g)||(d.add(g),u.add(g))}}catch(e){t={error:e}}finally{try{y&&!y.done&&(n=v.return)&&n.call(v)}finally{if(t)throw t.error}}try{for(var m=i(u),b=m.next();!b.done;b=m.next()){g=b.value;-1===f.indexOf(g)&&(p.add(g),u.delete(g))}}catch(e){r={error:e}}finally{try{b&&!b.done&&(a=m.return)&&a.call(m)}finally{if(r)throw r.error}}if(0===d.size+p.size)return"continue";o.executePointerInteraction(d,"pointerenter",l,function(e){return new h.default(e,c)}),o.executePointerInteraction(p,"pointerleave",l,function(e){return new h.default(e,c)})},o=this;for(var n in this.activePointers)r(n)},t.prototype.hitTestNodesForInteraction=function(e,t,n){var r=0,o=this._hitNodes;return this.scene.forEachSubNode(function(a){var s,l;if(a instanceof d.Object2D){var u=a,c=0;try{for(var f=i(e),p=f.next();!p.done;p=f.next()){var h=p.value;c+=u.interactionEventListenerCount[h]}}catch(e){s={error:e}}finally{try{p&&!p.done&&(l=f.return)&&l.call(f)}finally{if(s)throw s.error}}if(null==a.cursorStyle&&c<=0)return;var v=a.getWorldBounds();t>=v.l&&t<=v.r&&n>=v.b&&n<=v.t&&(o[r++]=a)}}),r<o.length&&(o.length=r),o.sort(this.compareZ),o},t.prototype.executePointerInteraction=function(e,t,n,r,o){var a,s;void 0===o&&(o=!0);var l=!1;try{for(var u=i(e),c=u.next();!c.done;c=u.next()){var f=c.value,d=f,p=f.getWorldBounds(),h=(n.worldX-p.l)/(p.r-p.l),v=(n.worldY-p.t)/(p.b-p.t);n.target=f,n.localX=h*d.computedWidth,n.localY=v*d.computedHeight,n.fractionX=h,n.fractionY=v;var y=r(n),g=y;if(d.eventEmitter.emit(t,y),o&&null==this._cursorStyle&&null!=f.cursorStyle&&(this._cursorStyle=f.cursorStyle),l=g.defaultPrevented||l,g.propagationStopped)break}}catch(e){a={error:e}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}return l},t.prototype.interactionDataFromEvent=function(e){var t=this.mouseEventToCanvasSpacePosition(e),n=this.canvasToWorldSpacePosition(t),r={buttonChange:e.button,buttonState:e.buttons,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,canvasX:t.x,canvasY:t.y,worldX:n.x,worldY:n.y,pointerId:-1,pointerType:"mouse",isPrimary:!0,width:1,height:1,pressure:0,tiltX:0,tiltY:0,target:null,localX:0,localY:0,fractionX:0,fractionY:0};return this.pointerEventSupport&&e instanceof PointerEvent&&(r.pointerId=e.pointerId,r.pointerType=e.pointerType,r.isPrimary=e.isPrimary,r.width=e.width,r.height=e.height,r.pressure=e.pressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY),r},t.prototype.compareZ=function(e,t){return e.getWorldZ()-t.getWorldZ()},t}(a.Component);t.AppCanvas=v,t.default=v},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,o,i,a,s,l){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,i,a,s,l],f=0;(u=new Error(t.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))o.call(n,u)&&(s[u]=n[u]);if(r){a=r(n);for(var c=0;c<a.length;c++)i.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(e,t,n){"use strict";
/** @license React v16.3.2
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(80),o=n(79),i=n(78),a=n(77),s="function"==typeof Symbol&&Symbol.for,l=s?Symbol.for("react.element"):60103,u=s?Symbol.for("react.portal"):60106,c=s?Symbol.for("react.fragment"):60107,f=s?Symbol.for("react.strict_mode"):60108,d=s?Symbol.for("react.provider"):60109,p=s?Symbol.for("react.context"):60110,h=s?Symbol.for("react.async_mode"):60111,v=s?Symbol.for("react.forward_ref"):60112,y="function"==typeof Symbol&&Symbol.iterator;function g(e){for(var t=arguments.length-1,n="http://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);o(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function b(e,t,n){this.props=e,this.context=t,this.refs=i,this.updater=n||m}function x(){}function _(e,t,n){this.props=e,this.context=t,this.refs=i,this.updater=n||m}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&g("85"),this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=b.prototype;var T=_.prototype=new x;T.constructor=_,r(T,b.prototype),T.isPureReactComponent=!0;var w={current:null},E=Object.prototype.hasOwnProperty,P={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r=void 0,o={},i=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(i=""+t.key),t)E.call(t,r)&&!P.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:l,type:e,key:i,ref:a,props:o,_owner:w.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===l}var A=/\/+/g,L=[];function R(e,t,n,r){if(L.length){var o=L.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function N(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>L.length&&L.push(e)}function O(e,t,n,r){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var i=!1;if(null===e)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case l:case u:i=!0}}if(i)return n(r,e,""===t?"."+I(e,0):t),1;if(i=0,t=""===t?".":t+":",Array.isArray(e))for(var a=0;a<e.length;a++){var s=t+I(o=e[a],a);i+=O(o,s,n,r)}else if(null===e||void 0===e?s=null:s="function"==typeof(s=y&&e[y]||e["@@iterator"])?s:null,"function"==typeof s)for(e=s.call(e),a=0;!(o=e.next()).done;)i+=O(o=o.value,s=t+I(o,a++),n,r);else"object"===o&&g("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return i}function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function U(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?k(e,r,n,a.thatReturnsArgument):null!=e&&(C(e)&&(t=o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n,e={$$typeof:l,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function k(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(A,"$&/")+"/"),t=R(t,i,r,o),null==e||O(e,"",U,t),N(t)}var B={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return k(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=R(null,null,t,n),null==e||O(e,"",M,t),N(t)},count:function(e){return null==e?0:O(e,"",a.thatReturnsNull,null)},toArray:function(e){var t=[];return k(e,t,null,a.thatReturnsArgument),t},only:function(e){return C(e)||g("143"),e}},createRef:function(){return{current:null}},Component:b,PureComponent:_,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:p,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_changedBits:0,Provider:null,Consumer:null}).Provider={$$typeof:d,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:v,render:e}},Fragment:c,StrictMode:f,unstable_AsyncMode:h,createElement:S,cloneElement:function(e,t,n){(null===e||void 0===e)&&g("267",e);var o=void 0,i=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key);var c=void 0;for(o in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)E.call(t,o)&&!P.hasOwnProperty(o)&&(i[o]=void 0===t[o]&&void 0!==c?c[o]:t[o])}if(1===(o=arguments.length-2))i.children=n;else if(1<o){c=Array(o);for(var f=0;f<o;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:l,type:e.type,key:a,ref:s,props:i,_owner:u}},createFactory:function(e){var t=S.bind(null,e);return t.type=e,t},isValidElement:C,version:"16.3.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:w,assign:r}},F=Object.freeze({default:B}),G=F&&B||F;e.exports=G.default?G.default:G},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(7),i=n(76),a=n(73),s=function(){function e(e){var t=this;this._frameLoopHandle=0,this.frameLoop=function(){t._frameLoopHandle=window.requestAnimationFrame(t.frameLoop),t.appCanvasRef.handleUserInteraction(),o.default.frame(),t.appCanvasRef.renderCanvas()},this.trackViewer=new a.default,null!=e&&this.setConfiguration(e)}return e.prototype.setConfiguration=function(e){this.trackViewer.setConfiguration(e)},e.prototype.getConfiguration=function(){return this.trackViewer.getConfiguration()},e.prototype.addTrack=function(e,t,n){return void 0===t&&(t=50),void 0===n&&(n=!0),this.trackViewer.addTrack(e,t,n)},e.prototype.closeTrack=function(e,t,n){return void 0===t&&(t=!0),this.trackViewer.closeTrack(e,t,n)},e.prototype.getTracks=function(){return this.trackViewer.getTracks()},e.prototype.getPanels=function(){return this.trackViewer.getPanels()},e.prototype.render=function(e){var t=this;return r.createElement(i.default,{ref:function(e){t.appCanvasRef=e,t.startFrameLoop()},width:e.width,height:e.height,content:this.trackViewer,pixelRatio:e.pixelRatio||window.devicePixelRatio||1,style:e.style,onWillUnmount:function(){t.stopFrameLoop()}})},e.prototype.startFrameLoop=function(){0===this._frameLoopHandle&&this.frameLoop()},e.prototype.stopFrameLoop=function(){0!==this._frameLoopHandle&&(window.cancelAnimationFrame(this._frameLoopHandle),this._frameLoopHandle=0)},e}();t.default=s}]);
//# sourceMappingURL=GenomeBrowser.js.map